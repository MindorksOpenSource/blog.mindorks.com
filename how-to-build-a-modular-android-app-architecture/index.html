<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>
   How to build a Modular Android App Architecture?
  </title>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="minimum-scale=1,initial-scale=1,width=device-width,shrink-to-fit=no" name="viewport"/>
  <link href="https://blog.mindorks.com/how-to-build-a-modular-android-app-architecture" rel="canonical"/>
  <meta content="986249072156-dabps0lf90smluddrk5rkqsdjghk3hd3.apps.googleusercontent.com" name="google-signin-client_id"/>
  <meta content="android, learn android app development, android app development courses, android blogs, android tutorial" name="keywords"/>
  <meta content="How to build a Modular Android App Architecture?" property="og:title"/>
  <meta content="website" property="og:type"/>
  <meta content="https://blog.mindorks.com/how-to-build-a-modular-android-app-architecture" property="og:url"/>
  <meta content="/images/banner-modular-arch.png" property="og:image"/>
  <meta content="In this blog, we will learn how can we Build a Modular Android App Architecture. We will learn about dynamic-feature and dynamic delivery. We will also learn how can we use a library module to modularise the app's architecture" property="og:description"/>
  <meta content="How to build a Modular Android App Architecture?" property="twitter:title"/>
  <meta content="In this blog, we will learn how can we Build a Modular Android App Architecture. We will learn about dynamic-feature and dynamic delivery. We will also learn how can we use a library module to modularise the app's architecture" name="twitter:description"/>
  <meta content="/images/banner-modular-arch.png" name="twitter:image:src"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="@MindorksNextGen" name="twitter:site"/>
  <meta content="In this blog, we will learn how can we Build a Modular Android App Architecture. We will learn about dynamic-feature and dynamic delivery. We will also learn how can we use a library module to modularise the app's architecture" name="description"/>
  <meta content="1620001391374687" property="fb:app_id"/>
  <link href="/styles/vendor-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link href="/styles/app-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link as="style" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" onload='this.onload=null,this.rel="stylesheet"' rel="preload"/>
  <noscript>
   <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  </noscript>
  <script type="text/javascript">
   window.__PRELOADED_STATE__={toastr:{toastrs:[],confirm:null},blogData:{data:{},latestBlogs:null,isFetching:!0,isFetchingLatestBlogs:!1,currentCategory:"",categories:[]},contactData:{formData:{email:"",name:"",phone:"",message:"",isWriting:!1,isNameError:!1,isEmailError:!1,isPhoneError:!1,isMessageError:!1,dismissMsg:!1},successMessage:null,errorMessage:null,isSending:!1},communityData:{formData:{email:"",isEmailError:!1,isWriting:!1,isSending:!1,dismissMsg:!1},successMessage:null,errorMessage:null},blogPageData:{blogId:315,data:{id:315,title:"How to build a Modular Android App Architecture?",description:"In this blog, we will learn how can we Build a Modular Android App Architecture. We will learn about dynamic-feature and dynamic delivery. We will also learn how can we use a library module to modularise the app's architecture",text:'<h1 class="graf--h1"><b class="graf--bold">How to build </b>a Modular Android App Architecture?</h1> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/banner-modular-arch.png class=\'graf-image\' alt=\'How to build a Modular Android App Architecture?\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">Working in a team of Android developers and by fixing a feature in the codebase ruins your code in the module? This is a common issue we face when working on an App in a team. </p><h4 class="graf--h3"> How can we fix it? </h4><p class="graf--p">We can build a multi-module architecture so that each feature module is different and the developers can individually work on the specific module.</p><p class="graf--p">In this blog, we will be building an Android App using the Modular App Architecture. </p><p class="graf--p">But before that, let us learn</p><h4 class="graf--h3">What are modules ? </h4><p class="graf--p">Modules can be termed as a set of a specific type. In Android, Module can be any type of feature of the app like Search, Paid Feature, etc. In this blog, we will learn about two types of modules,</p><ul><li><b class="graf--bold">Library Modules -  </b>These are the modules whose code is accessible by the main App Module and it is implemented as any other 3rd party library.</li><li><b class="graf--bold">Dynamic Feature Modules - </b>These modules are more like code on demand. These get downloaded only when it is required by the user. It delivers the code via dynamic delivery. These feature modules depend on the app but the app doesn&#x27;t depend on the feature modules.</li></ul><h4 class="graf--h3">Now, Let&#x27;s get started with our project</h4><p class="graf--p">Create a project in Android Studio and we will get an <b class="graf--bold">app </b>module on creation. </p><p class="graf--p">Now, as a next step, we will create another module (Dynamic Feature Module). To do it, Goto <b class="graf--bold">File-&gt;  New -&gt; New Module and select Dynamic Feature Module</b></p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/dynamic-module-creation.png class=\'graf-image\' alt=\'How to build a Modular Android App Architecture?\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">and press next. In the next screen, add the required info like <b class="graf--bold">module name</b> and <b class="graf--bold">package name </b>and press next.</p><p class="graf--p">On the next screen, you will get a few options to configure your module.</p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/configure-dynamic-module.png class=\'graf-image\' alt=\'How to build a Modular Android App Architecture?\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">Press finish and your module will be created (I name my module as news_feature).</p><p class="graf--p">Here, enable on-demand checked means that it can be downloaded on demand and Fusing means it can be available for the device running kitkat.</p><p class="graf--p">Finally, your project will look like,</p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/modular-app-arch.png class=\'graf-image\' alt=\'How to build a Modular Android App Architecture?\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">Now, both <b class="graf--bold">app</b> and <b class="graf--bold">news_feature</b> are created and will have their own gradle files.</p><h4 class="graf--h3">What do we want to achieve in this project?</h4><p class="graf--p">In this project, we will have a launching activity in <b class="graf--bold">app-module </b>which would have one button and on click of it we will download the <b class="graf--bold">news-feature module </b>and in the news-feature module, we will have a RecyclerView displaying the list of dummy news.</p><p class="graf--p">Let&#x27;s start building the project, In the app-module&#x27;s MainActivity, let me design activity_main.xml,</p><pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;\n&lt;RelativeLayout\n   xmlns:android="http://schemas.android.com/apk/res/android"\n        xmlns:tools="http://schemas.android.com/tools"\n        android:layout_width="match_parent"\n        android:layout_height="match_parent"\n        tools:context=".MainActivity"&gt;\n    &lt;Button android:layout_width="wrap_content"\n            android:layout_height="wrap_content"\n            android:id="@+id/buttonClick"\n            android:text="Click to Download News Module"\n            android:layout_centerInParent="true"/&gt;\n    &lt;Button android:layout_width="wrap_content"\n            android:text="Open News Module"\n            android:id="@+id/buttonOpenNewsModule"\n            android:layout_height="wrap_content"\n            android:visibility="gone"\n            android:layout_below="@+id/buttonClick"\n            android:layout_centerInParent="true"/&gt;\n    &lt;Button android:layout_width="wrap_content"\n            android:text="Delete News Module"\n            android:id="@+id/buttonDeleteNewsModule"\n            android:layout_height="wrap_content"\n            android:visibility="gone"\n            android:layout_below="@+id/buttonOpenNewsModule"\n            android:layout_centerInParent="true"/&gt;\n&lt;/RelativeLayout&gt;</code></pre><p class="graf--p">in this we will have 3 buttons in which 2 buttons are hidden and it will be visible only when the dynamic module is downloaded properly. And it will be used to open the activity with the recyclerView in <b class="graf--bold">news-feature </b>module and other is to delete the dynamic module.</p><p class="graf--p">When we created the <b class="graf--bold">news-feature </b>module,  in app&#x27;s <b class="graf--bold">build.gradle </b>the following is added,</p><pre><code class="language-java graf graf--code">android {\n    .......\n    dynamicFeatures = [":news_feature"]\n}</code></pre><p class="graf--p">It means that we have a dynamic module in the project<b class="graf--bold"> </b>and in the news-feature&#x27;s build.gradle,</p><pre><code class="language-java graf graf--code">dependencies {\n    .....\n    implementation project(\':app\')\n}</code></pre><p class="graf--p">The dynamic feature module implements the app module and uses it as a dependency. Also, in dynamic feature </p><p class="graf--p">Gradle plugin to the module’s <code class="graf--code-inline">build.gradle </code>file: </p><pre><code class="language-java graf graf--code">apply plugin: \'com.android.dynamic-feature\'</code></pre><p class="graf--p">It specifies that the module is a dynamic-feature module. In the manifest of the dynamic Module,</p><pre><code class="language-java graf graf--code">&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"\n        xmlns:dist="http://schemas.android.com/apk/distribution"\n          package="com.mindorks.news_feature"&gt;\n\n   &lt;dist:module\n            dist:instant="false"\n            dist:onDemand="true"\n            dist:title="@string/title_news_feature"&gt;\n        &lt;dist:fusing dist:include="true"/&gt;\n    &lt;/dist:module&gt;\n&lt;/manifest&gt;</code></pre><ul><li>&lt;dist&gt; tag helps the project to know how the module is being packed</li><li><code class="graf--code-inline">dist:onDemand=&quot;true&quot;</code> : It specifies if the module is available as an on demand download.</li></ul><p class="graf--p">and to make your module downloadable on demand add the following in the app-module&#x27;s build.gradle,</p><pre><code class="language-java graf graf--code">implementation \'com.google.android.play:core:1.6.1\'</code></pre><p class="graf--p">The play core library is responsible for the dyamic modules download on demand.</p><p class="graf--p">Now, let&#x27;s start to design the view to display the list of dummy news in news-feature dynamic module. In the src package, we create a package <b class="graf--bold">newsloader </b>and in that, we have sub-packages of <b class="graf--bold">adapter</b>, <b class="graf--bold">data source</b>, <b class="graf--bold">model</b> and <b class="graf--bold">NewsLoaderActivity</b>. In this,</p><ul><li><b class="graf--bold">adapter</b> package is responsible for providing the binding between the recyclerView and the data</li><li><b class="graf--bold">data source</b> provides the data for the recyclerView</li><li><b class="graf--bold">model</b> package is responsible for providing the structure of the data which has to be added in the recyclerView</li><li>and <b class="graf--bold">NewsLoaderActivity</b> file is the Activity file which we will open after downloading the dynamic feature from app-module.</li></ul><p class="graf--p">We can treat the dynamic-module as the individual app itself. So, if we use any 3rd party library in the dynamic module it will only be used when the dynamic module is downloaded on demand and not when the app is being uploaded in the play store.</p><p class="graf--p">If we want to share the 3rd party library from the main app&#x27;s module to the dynamic module, we add the libraries in the app&#x27;s <b class="graf--bold">build.gradle </b>using,</p><pre><code class="language-java graf graf--code">api \'androidx.constraintlayout:constraintlayout:1.1.3\'</code></pre><blockquote class="graf--blockquote">When we use <b class="graf--bold"><i class="graf--italic">api</i></b> the libraries can be used by the other modules as well as the dynamic modules <b class="graf--bold"><i class="graf--italic">implements</i> </b>the app module. If we use <b class="graf--bold">implementation</b> then the library is only used by module it is implemented in.</blockquote><p class="graf--p">Now, Let&#x27;s learn how to make the dynamic-feature downloadable from the app&#x27;s module.</p><p class="graf--p">We have already created the layout for MainActivity.kt file in app&#x27;s module. Now, let us write the logic for downloading the modules.</p><p class="graf--p">Firstly, we will create 3 variables,</p><pre><code class="language-java graf graf--code">lateinit var splitInstallManager: SplitInstallManager\nlateinit var request: SplitInstallRequest\nval DYNAMIC_FEATURE = "news_feature"</code></pre><ul><li><b class="graf--bold">SplitInstallManager</b> is responsible for downloading the module. The app has to be in Foreground to download the dynamic module.</li><li><b class="graf--bold">SplitInstallRequest</b>  will contain the request information that will be used to request our dynamic feature module from Google Play.</li></ul><p class="graf--p">Now, we have to initialize the lateinit variables in onCreate of the MainActivity,</p><pre><code class="language-java graf graf--code">override fun onCreate(savedInstanceState: Bundle) {\n    ....\n    initDynamicModules()\n}</code></pre><p class="graf--p">and initDynamicModules will look like,</p><pre><code class="language-java graf graf--code">private fun initDynamicModules() {\nsplitInstallManager = SplitInstallManagerFactory.create(this)\nrequest = SplitInstallRequest\n        .newBuilder()\n        .addModule(DYNAMIC_FEATURE)\n        .build();\n}</code></pre><p class="graf--p">Here,</p><ul><li>First we create the factory for splitInstallManager and then we create the SplitInstallRequest instance.</li><li>We add the module name, in <b class="graf--bold">addModule(/** Module Name **/) </b>and we can also add multiple multiple modules by add multiple addModule.</li></ul><p class="graf--p">Now, we are ready to setup the download feature of the dynamic-module. We will setup setOnClickListeners  for the button,</p><pre><code class="language-java graf graf--code">private fun setClickListeners() {\n    buttonClick.setOnClickListener {\n        if (!isDynamicFeatureDownloaded(DYNAMIC_FEATURE)) {\n            downloadFeature()\n        } else {\n            buttonDeleteNewsModule.visibility = View.VISIBLE\n            buttonOpenNewsModule.visibility = View.VISIBLE\n        }\n    }\n}</code></pre><p class="graf--p">Here , first we check if the module is already downloaded or not and then we show the rest two buttons to delete or open modules.</p><p class="graf--p"><b class="graf--bold">isDynamicFeatureDownladed</b> looks like,</p><pre><code class="language-java graf graf--code">private fun isDynamicFeatureDownloaded(feature: String): Boolean =\n    splitInstallManager.installedModules.contains(feature)\n</code></pre><p class="graf--p">It will return if the installed module contains the dynamic-module or not.</p><p class="graf--p">If the dynamic-module was not downloaded initially, it will call <b class="graf--bold"><i class="graf--italic">downloadFeature(),</i></b></p><pre><code class="language-java graf graf--code">private fun downloadFeature() {\n    splitInstallManager.startInstall(request)\n        .addOnFailureListener {        \n        }\n        .addOnSuccessListener {\n            buttonOpenNewsModule.visibility = View.VISIBLE\n            buttonDeleteNewsModule.visibility = View.VISIBLE\n        }\n        .addOnCompleteListener {\n        }\n}</code></pre><p class="graf--p">Here, the SplitInstallManager will start installing the module and when the the download success is successful , it will show the open and delete button.</p><p class="graf--p">The before and after of downloading the dynamic-module, </p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/before-after-modular-app.png class=\'graf-image\' alt=\'How to build a Modular Android App Architecture?\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">The dynamic-feature-module is downloaded  successful and it can be verified because the rest two buttons are visible.</p><p class="graf--p">Now, to open the Activity of dynamic-feature-module i.e NewsLoaderActivity we can&#x27;t use normal intent as we open in same modules using Intent. To open the activity of different module on click of <b class="graf--bold">Open News Module</b> button we use,</p><pre><code class="language-java graf graf--code">buttonOpenNewsModule.setOnClickListener {\n    val intent = Intent().setClassName(this, "com.mindorks.news_feature.newsloader.NewsLoaderActivity")\n    startActivity(intent)\n}</code></pre><p class="graf--p">Here, we use <b class="graf--bold">setClassName</b> we have to pass context and the path of the Activity in string format.</p><blockquote class="graf--blockquote">Note : If we refactor the code of the module we have to manually change the path in the intent to open the activity.</blockquote><p class="graf--p">And now, to delete the downloaded dynamic-feature-module in Android on the click of <b class="graf--bold">Delete News Module </b>we call <b class="graf--bold">uninstallDynamicFeature</b> function<b class="graf--bold">,</b></p><pre><code class="language-java graf graf--code">buttonDeleteNewsModule.setOnClickListener {\n    val list = ArrayList&lt;String&gt;()\n    list.add(DYNAMIC_FEATURE)\n    uninstallDynamicFeature(list)\n}</code></pre><p class="graf--p">It takes list of strings which contains the name of dynamic module as parameter and <b class="graf--bold">uninstallDynamicFeature </b>looks like,</p><pre><code class="language-java graf graf--code">private fun uninstallDynamicFeature(list: List&lt;String&gt;) {\n    splitInstallManager.deferredUninstall(list)\n        .addOnSuccessListener {\n            buttonDeleteNewsModule.visibility = View.GONE\n            buttonOpenNewsModule.visibility = View.GONE\n        }\n}</code></pre><p class="graf--p">Here, in <b class="graf--bold">deferredUninstall</b> we take list as parameter and not string. And when the uninstall is successful both the open and delete buttons are hidden.</p><ul><li>If we have multiple modules in the app, we can get the list of all the installed modules using<b class="graf--bold">,</b></li></ul><pre><code class="language-java graf graf--code">SplitInstallManager.getInstalledModules()</code></pre><h4 class="graf--h3"><b class="graf--bold">Finally, </b></h4><p class="graf--p">We can also monitor the state of the request in the process when we request any dynamic-module,</p><pre><code class="language-java graf graf--code">var mySessionId = 0\nval listener = SplitInstallStateUpdatedListener {\n    mySessionId = it.sessionId()\n    when (it.status()) {\n        SplitInstallSessionStatus.DOWNLOADING -&gt; {\n            val totalBytes = it.totalBytesToDownload()\n            val progress = it.bytesDownloaded()\n            // Update progress bar.\n        }\n        SplitInstallSessionStatus.INSTALLING -&gt; Log.d("Status", "INSTALLING")\n        SplitInstallSessionStatus.INSTALLED -&gt; Log.d("Status", "INSTALLED")\n        SplitInstallSessionStatus.FAILED -&gt; Log.d("Status", "FAILED")\n        SplitInstallSessionStatus.REQUIRES_USER_CONFIRMATION -&gt; Log.d("Status", "REQUIRES_USER_CONFIRMATION")\n    }\n}</code></pre><blockquote class="graf--blockquote"><b class="graf--bold">SplitInstallSessionStatus.</b><i class="graf--italic"><b class="graf--bold">REQUIRES_USER_CONFIRMATION</b> </i>only occur when attempting to download a sufficiently large module and to test it we have to upload it on playstore. To get the user confirmation we use,</blockquote><pre><code class="language-java graf graf--code">SplitInstallSessionStatus.REQUIRES_USER_CONFIRMATION -&gt; startIntentSender(it.resolutionIntent().intentSender, null,0, 0, 0)</code></pre><p class="graf--p"></p><p class="graf--p">If we want to use small features and which doesn&#x27;t require much size when compiled in an APK,  we can use <b class="graf--bold">libray-module</b> and it will work similarly as third party libraries. To create a <b class="graf--bold">library-module</b>, we goto,</p><p class="graf--p"><b class="graf--bold">File -&gt; New -&gt; New Module</b>, and we see</p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/android-library-multi-module.png class=\'graf-image\' alt=\'How to build a Modular Android App Architecture?\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">And here it gets the module created as same as the <b class="graf--bold">news-feature.</b> </p><ul><li>In this, the code of the library module is directly accessible by the app module</li></ul><p class="graf--p">and in the<b class="graf--bold"> build.gradle</b> of the library, we add</p><pre><code class="language-java graf graf--code">apply plugin: \'com.android.library\'</code></pre><p class="graf--p">which is different from what we added for <b class="graf--bold">dynamic-modules.</b></p><h4 class="graf--h3"><b class="graf--bold">But, the bigger question is how we decide which module to keep in dynamic-module and which module in library.</b></h4><ul><li>If the module is very less used feature in the app but is an important flow of the app we keep that in dynamic-module. For example, Paid Features, OnBoarding Flow etc.</li></ul><blockquote class="graf--blockquote">If the dynamic module is initially integrated in the first build of APK  can also be deleted later after the use. Like after the OnBoarding of the user, we can delete the module to save some storage.</blockquote><ul><li>If the module is very light in size we can keep as a library module.</li></ul><h4 class="graf--h3">Benefits of Modular Android App Architecture :</h4><ul><li><b class="graf--bold">Easily Managable By Multiple Devs</b> : The app can be handled properly by multiple devs in a team if they work on different modules at a time. It will not hamper anyone&#x27;s code in the process</li><li><b class="graf--bold">Maintainability</b>: Consider having multiple XML files in layout folder if we are using single module architecture. Dividing it in multiple different modules helps to maintain it properly. It will also help in the fast compilation as the gradle will be responsible for building individual modules rather than one module.</li><li><b class="graf--bold">Reduced APK Size: </b>If we use Android App bundle with dynamic delivery it will reduce the app size by a lot and it will helps the user to quickly download the app and hence the app will have more signups</li><li><b class="graf--bold">Testing New Features : </b>If you want to test some new features, you can build it in separate modules and keep for users to test it. In this way, it will not interfere in the core flow of the app and we can also test the feature simultaneously. </li></ul><h4 class="graf--h3"><a class="markup--anchor" target="_blank" href="https://github.com/hi-manshu/modular-app-architecture">You can find the complete project here</a></h4><p class="graf--p"></p><blockquote class="graf--blockquote">This is how we can work with<b class="graf--bold"> dynamic-feature-module</b> to design multi-module android app.</blockquote><p class="graf--p">Happy learning</p><p class="graf--p"><b class="graf--bold">Team MindOrks :)</b></p><p class="graf--p"></p>',author:9959,img_url:"/images/banner-modular-arch.png",blog_url:"how-to-build-a-modular-android-app-architecture",likes:0,rank:0,category:1,published_at:"19th August 2019"},author:{id:9959,name:"Himanshu Singh",google_profile_pic:"https://lh3.googleusercontent.com/a-/AOh14Ghy8H-FJrgWB2TcxHCOKWxWEQB4AiklYADGTydu4nE=s96-c?sz=300",fb_profile_pic:null,profile_tagline:null,fb_profile_url:"https://www.facebook.com/scorpiey",google_plus_profile_url:null,twitter_profile_url:"https://twitter.com/hi_man_shoe",github_profile_url:"https://github.com/hi-manshu",linkedin_profile_url:"https://www.linkedin.com/in/himanshoe-singh/"},isFetching:!1,similarBlogs:[{id:310,title:"Speed up Gradle build for Android to save your time",description:"In this blog, we will talk about how can we speed up your gradle build to run it quickly and save your time",author:9959,img_url:"/images/banner-speed-up-gradle.png",blog_url:"speed-up-gradle-build-for-android-to-save-your-time",likes:0,rank:0,category:1,published_at:"6th August 2019",score:1.8890047073364258},{id:367,title:"Using Jetpack Compose to build UI in Android",description:"In this blog, we will build and learn how to Use Jetpack Compose to build UI in Android. We will learn how to setup and work with it. We will also discuss how to make few other components as well",author:9959,img_url:"/images/banner_jetpack.png",blog_url:"using-jetpack-compose-to-build-ui-in-android",likes:0,rank:0,category:1,published_at:"25th October 2019",score:1.8890047073364258},{id:369,title:"Build Material and Dark Themes Apps Using Style in Android",description:"In this blog, we will learn how to build material and dark themes apps using styles in Android. We will see how we can change the look of the application just by writing some styles code for our application.",author:14897,img_url:"/images/build-material-and-dark-themes-apps-using-style-in-android-banner.png",blog_url:"build-material-and-dark-themes-apps-using-style-in-android",likes:0,rank:0,category:1,published_at:"26th October 2019",score:1.8890047073364258},{id:379,title:"Measure Method Execution Time In Android Debug Build",description:"In this blog, we will learn how to measure the method execution time in debug build of your application. Method execution time will help in reducing the time complexity of your method and this in return accelerates your Android App performance. ",author:14897,img_url:"/images/measure-method-execution-time-in-android-debug-build-banner.png",blog_url:"measure-method-execution-time-in-android-debug-build",likes:0,rank:0,category:1,published_at:"16th December 2019",score:1.8890047073364258},{id:188,title:"Build your first Android application in Kotlin",description:"In this blog, we will learn how to create and run your first Android application in Kotlin with the help of Android Studio. We will learn how to create an emulator in Android Studio and how to run applications on an emulator and on mobile devices.",author:14897,img_url:"/images/first-android-app-in-kotlin-banner.png",blog_url:"first-android-app-in-kotlin",likes:0,rank:0,category:1,published_at:"17th December 2018",score:1.8890047073364258},{id:465,title:"Understanding Build Analyzer in Android",description:"In this blog, we are going to see how the build analyzer works and what are its features.",author:9959,img_url:"/images/understanding-build-analyzer-in-android-9facfd1674bebde4.png",blog_url:"build-analyzer-in-android",likes:0,rank:0,category:1,published_at:"2nd June 2020",score:1.8890047073364258}],isSimilarBlogsFetching:!1},loginData:{data:null,isLoggingIn:!1,isLoggingOut:!1,loginState:!1,isForcedLogout:!1,isTokenRefreshed:!1,isRedirectHome:!1,message:""},updatesData:{news:null,inspirations:null,isNewsFetching:!0,isInspirationsFetching:!0},blogEditorData:{blogId:null,blogDetailsFormData:{title:"",description:"",imgUrl:"",blogUrl:"",category:"",categories:[],isWriting:!1,isTitleError:!1,isDescriptionError:!1,isImgUrlError:!1,isBlogUrlError:!1,isCategoryError:!1,isUploadingImage:!1,uploadedImageUrl:null},editorState:null,editorText:null,successMessage:null,errorMessage:null,isSending:!1,isMsgToShow:!1,isPublished:!1,isSubmitted:!1,isDraft:!0,isEditOfExistingBlog:!1,isFetchingBlogCategories:!1,isUploadingImage:!1,uploadedImageUrl:null},myBlogsData:{data:null,isSubmittedBlogsFetching:!0,isDraftBlogsFetching:!0,isPublishedBlogsFetching:!0,successMessage:null,errorMessage:null,isMsgToShow:!1,tabNames:["drafts","submissions","published"],selectedTab:"drafts",isFetchingBlog:!1,isDeletingBlog:!1,openEditorPage:!1},profilePreviewData:{profile:null,blogs:null,isFetchingProfile:!1,isFetchingAuthorBlogs:!1,successMessage:null,errorMessage:null,isMsgToShow:!1,isUserNotRegistered:!1,redirectToMyProfileEdit:!1},profileEditableData:{userId:null,name:null,fbProfilePicUrl:null,googleProfilePicUrl:null,profileFormData:{tagline:"",fbProfileUrl:"",googlePlusProfileUrl:"",twitterProfileUrl:"",githubProfileUrl:"",linkedinProfileUrl:"",isWriting:!1,isTaglineError:!1,isFbProfileUrlError:!1,isGooglePlusProfileUrlError:!1,isTwitterProfileUrlError:!1,isGithubProfileUrlError:!1,isLinkedinProfileUrlError:!1},isSavingProfile:!1,successMessage:null,errorMessage:null,isMsgToShow:!1,redirectToProfilePreview:!1},submitBlogData:{formData:{email:"",name:"",link:"",isWriting:!1,isNameError:!1,isEmailError:!1,isLinkError:!1,dismissMsg:!1},successMessage:null,errorMessage:null,isSubmitting:!1},advertisementsData:{data:{},isLoading:!1},recaptchaData:{verified:!1,successMessage:null,errorMessage:null},blogSearchData:{searches:null,isSearching:!1}}
  </script>
  <script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-91686131-1","auto"),ga("require","cleanUrlTracker"),ga("require","eventTracker"),ga("require","impressionTracker"),ga("require","outboundLinkTracker"),ga("require","urlChangeTracker"),ga("require","maxScrollTracker"),ga("require","mediaQueryTracker"),ga("require","outboundFormTracker"),ga("require","outboundLinkTracker"),ga("require","pageVisibilityTracker"),ga("require","socialWidgetTracker"),ga("require","urlChangeTracker"),ga("send","pageview")
  </script>
  <script defer="defer" src="/assets/autotrack.js" type="text/javascript">
  </script>
  <script src="/assets/highlight.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/vendor-bundle-1.8.6.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/app-bundle-1.8.6.js" type="text/javascript">
  </script>
 </head>
 <body>
  <div id="root">
   <div class="screen app-load-content" data-reactroot="">
    <div class="ui centered grid">
     <div class="row" style="padding:0">
      <div class="ui fixed menu navbar huge borderless grid" style="background-color:#fff;height:60px">
      </div>
     </div>
     <div class="centered computer only row" style="padding:0">
      <div class="ui fixed top menu navbar huge borderless grid header-container" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="right menu">
        <a class="item" href="https://janisharali.com" target="_blank">
         Mentor Ali
        </a>
        <a class="item" href="https://amitshekhar.me" target="_blank">
         Mentor Amit
        </a>
       </div>
      </div>
     </div>
     <div class="tablet only mobile only row" style="padding:0">
      <div class="ui fixed top navbar huge menu borderless" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="item">
       </div>
      </div>
     </div>
    </div>
    <div class="header-height">
    </div>
    <div aria-live="assertive" class="redux-toastr">
     <div>
      <div class="top-left">
      </div>
      <div class="top-right">
      </div>
      <div class="top-center">
      </div>
      <div class="bottom-left">
      </div>
      <div class="bottom-right">
      </div>
      <div class="bottom-center">
      </div>
     </div>
    </div>
    <div class="content-container theme">
     <div class="ui centered one column grid" style="padding-bottom:80px;background-color:#fff">
      <div class="ten wide computer fifteen wide mobile fifteen wide tablet column" style="margin-top:50px">
       <div>
        <div class="blog-page-author">
         <div class="ui small header">
          <img alt="Himanshu Singh" class="ui circular image" src="https://lh3.googleusercontent.com/a-/AOh14Ghy8H-FJrgWB2TcxHCOKWxWEQB4AiklYADGTydu4nE=s96-c?sz=300"/>
          <div class="content">
           Himanshu Singh
           <div class="sub header" style="margin-top:5px">
            19th August 2019
           </div>
          </div>
         </div>
        </div>
        <div id="content">
         <article class="template">
          <div class="postContent">
           <div class="notesSource">
            <div class="postField postField--body" id="editor">
             <section class="section--first section--last">
              <div class="section-divider layoutSingleColumn-template">
               <hr class="section-divider"/>
              </div>
              <div class="section-content">
               <div class="section-inner layoutSingleColumn-template">
                <div>
                 <h1 class="graf--h1">
                  <b class="graf--bold">
                   How to build
                  </b>
                  a Modular Android App Architecture?
                 </h1>
                 <div class="graf-image graf-caption">
                  <img alt="How to build a Modular Android App Architecture?" class="graf-image" src="/images/banner-modular-arch.png"/>
                 </div>
                 <p class="graf--p">
                  Working in a team of Android developers and by fixing a feature in the codebase ruins your code in the module? This is a common issue we face when working on an App in a team.
                 </p>
                 <h4 class="graf--h3">
                  How can we fix it?
                 </h4>
                 <p class="graf--p">
                  We can build a multi-module architecture so that each feature module is different and the developers can individually work on the specific module.
                 </p>
                 <p class="graf--p">
                  In this blog, we will be building an Android App using the Modular App Architecture.
                 </p>
                 <p class="graf--p">
                  But before that, let us learn
                 </p>
                 <h4 class="graf--h3">
                  What are modules ?
                 </h4>
                 <p class="graf--p">
                  Modules can be termed as a set of a specific type. In Android, Module can be any type of feature of the app like Search, Paid Feature, etc. In this blog, we will learn about two types of modules,
                 </p>
                 <ul>
                  <li>
                   <b class="graf--bold">
                    Library Modules -
                   </b>
                   These are the modules whose code is accessible by the main App Module and it is implemented as any other 3rd party library.
                  </li>
                  <li>
                   <b class="graf--bold">
                    Dynamic Feature Modules -
                   </b>
                   These modules are more like code on demand. These get downloaded only when it is required by the user. It delivers the code via dynamic delivery. These feature modules depend on the app but the app doesn't depend on the feature modules.
                  </li>
                 </ul>
                 <h4 class="graf--h3">
                  Now, Let's get started with our project
                 </h4>
                 <p class="graf--p">
                  Create a project in Android Studio and we will get an
                  <b class="graf--bold">
                   app
                  </b>
                  module on creation.
                 </p>
                 <p class="graf--p">
                  Now, as a next step, we will create another module (Dynamic Feature Module). To do it, Goto
                  <b class="graf--bold">
                   File-&gt;  New -&gt; New Module and select Dynamic Feature Module
                  </b>
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="How to build a Modular Android App Architecture?" class="graf-image" src="/images/dynamic-module-creation.png"/>
                 </div>
                 <p class="graf--p">
                  and press next. In the next screen, add the required info like
                  <b class="graf--bold">
                   module name
                  </b>
                  and
                  <b class="graf--bold">
                   package name
                  </b>
                  and press next.
                 </p>
                 <p class="graf--p">
                  On the next screen, you will get a few options to configure your module.
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="How to build a Modular Android App Architecture?" class="graf-image" src="/images/configure-dynamic-module.png"/>
                 </div>
                 <p class="graf--p">
                  Press finish and your module will be created (I name my module as news_feature).
                 </p>
                 <p class="graf--p">
                  Here, enable on-demand checked means that it can be downloaded on demand and Fusing means it can be available for the device running kitkat.
                 </p>
                 <p class="graf--p">
                  Finally, your project will look like,
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="How to build a Modular Android App Architecture?" class="graf-image" src="/images/modular-app-arch.png"/>
                 </div>
                 <p class="graf--p">
                  Now, both
                  <b class="graf--bold">
                   app
                  </b>
                  and
                  <b class="graf--bold">
                   news_feature
                  </b>
                  are created and will have their own gradle files.
                 </p>
                 <h4 class="graf--h3">
                  What do we want to achieve in this project?
                 </h4>
                 <p class="graf--p">
                  In this project, we will have a launching activity in
                  <b class="graf--bold">
                   app-module
                  </b>
                  which would have one button and on click of it we will download the
                  <b class="graf--bold">
                   news-feature module
                  </b>
                  and in the news-feature module, we will have a RecyclerView displaying the list of dummy news.
                 </p>
                 <p class="graf--p">
                  Let's start building the project, In the app-module's MainActivity, let me design activity_main.xml,
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout
   xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        tools:context=".MainActivity"&gt;
    &lt;Button android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:id="@+id/buttonClick"
            android:text="Click to Download News Module"
            android:layout_centerInParent="true"/&gt;
    &lt;Button android:layout_width="wrap_content"
            android:text="Open News Module"
            android:id="@+id/buttonOpenNewsModule"
            android:layout_height="wrap_content"
            android:visibility="gone"
            android:layout_below="@+id/buttonClick"
            android:layout_centerInParent="true"/&gt;
    &lt;Button android:layout_width="wrap_content"
            android:text="Delete News Module"
            android:id="@+id/buttonDeleteNewsModule"
            android:layout_height="wrap_content"
            android:visibility="gone"
            android:layout_below="@+id/buttonOpenNewsModule"
            android:layout_centerInParent="true"/&gt;
&lt;/RelativeLayout&gt;</code></pre>
                 <p class="graf--p">
                  in this we will have 3 buttons in which 2 buttons are hidden and it will be visible only when the dynamic module is downloaded properly. And it will be used to open the activity with the recyclerView in
                  <b class="graf--bold">
                   news-feature
                  </b>
                  module and other is to delete the dynamic module.
                 </p>
                 <p class="graf--p">
                  When we created the
                  <b class="graf--bold">
                   news-feature
                  </b>
                  module,  in app's
                  <b class="graf--bold">
                   build.gradle
                  </b>
                  the following is added,
                 </p>
                 <pre><code class="language-java graf graf--code">android {
    .......
    dynamicFeatures = [":news_feature"]
}</code></pre>
                 <p class="graf--p">
                  It means that we have a dynamic module in the project
                  <b class="graf--bold">
                  </b>
                  and in the news-feature's build.gradle,
                 </p>
                 <pre><code class="language-java graf graf--code">dependencies {
    .....
    implementation project(':app')
}</code></pre>
                 <p class="graf--p">
                  The dynamic feature module implements the app module and uses it as a dependency. Also, in dynamic feature
                 </p>
                 <p class="graf--p">
                  Gradle plugin to the module’s
                  <code class="graf--code-inline">
                   build.gradle
                  </code>
                  file:
                 </p>
                 <pre><code class="language-java graf graf--code">apply plugin: 'com.android.dynamic-feature'</code></pre>
                 <p class="graf--p">
                  It specifies that the module is a dynamic-feature module. In the manifest of the dynamic Module,
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:dist="http://schemas.android.com/apk/distribution"
          package="com.mindorks.news_feature"&gt;

   &lt;dist:module
            dist:instant="false"
            dist:onDemand="true"
            dist:title="@string/title_news_feature"&gt;
        &lt;dist:fusing dist:include="true"/&gt;
    &lt;/dist:module&gt;
&lt;/manifest&gt;</code></pre>
                 <ul>
                  <li>
                   &lt;dist&gt; tag helps the project to know how the module is being packed
                  </li>
                  <li>
                   <code class="graf--code-inline">
                    dist:onDemand="true"
                   </code>
                   : It specifies if the module is available as an on demand download.
                  </li>
                 </ul>
                 <p class="graf--p">
                  and to make your module downloadable on demand add the following in the app-module's build.gradle,
                 </p>
                 <pre><code class="language-java graf graf--code">implementation 'com.google.android.play:core:1.6.1'</code></pre>
                 <p class="graf--p">
                  The play core library is responsible for the dyamic modules download on demand.
                 </p>
                 <p class="graf--p">
                  Now, let's start to design the view to display the list of dummy news in news-feature dynamic module. In the src package, we create a package
                  <b class="graf--bold">
                   newsloader
                  </b>
                  and in that, we have sub-packages of
                  <b class="graf--bold">
                   adapter
                  </b>
                  ,
                  <b class="graf--bold">
                   data source
                  </b>
                  ,
                  <b class="graf--bold">
                   model
                  </b>
                  and
                  <b class="graf--bold">
                   NewsLoaderActivity
                  </b>
                  . In this,
                 </p>
                 <ul>
                  <li>
                   <b class="graf--bold">
                    adapter
                   </b>
                   package is responsible for providing the binding between the recyclerView and the data
                  </li>
                  <li>
                   <b class="graf--bold">
                    data source
                   </b>
                   provides the data for the recyclerView
                  </li>
                  <li>
                   <b class="graf--bold">
                    model
                   </b>
                   package is responsible for providing the structure of the data which has to be added in the recyclerView
                  </li>
                  <li>
                   and
                   <b class="graf--bold">
                    NewsLoaderActivity
                   </b>
                   file is the Activity file which we will open after downloading the dynamic feature from app-module.
                  </li>
                 </ul>
                 <p class="graf--p">
                  We can treat the dynamic-module as the individual app itself. So, if we use any 3rd party library in the dynamic module it will only be used when the dynamic module is downloaded on demand and not when the app is being uploaded in the play store.
                 </p>
                 <p class="graf--p">
                  If we want to share the 3rd party library from the main app's module to the dynamic module, we add the libraries in the app's
                  <b class="graf--bold">
                   build.gradle
                  </b>
                  using,
                 </p>
                 <pre><code class="language-java graf graf--code">api 'androidx.constraintlayout:constraintlayout:1.1.3'</code></pre>
                 <blockquote class="graf--blockquote">
                  When we use
                  <b class="graf--bold">
                   <i class="graf--italic">
                    api
                   </i>
                  </b>
                  the libraries can be used by the other modules as well as the dynamic modules
                  <b class="graf--bold">
                   <i class="graf--italic">
                    implements
                   </i>
                  </b>
                  the app module. If we use
                  <b class="graf--bold">
                   implementation
                  </b>
                  then the library is only used by module it is implemented in.
                 </blockquote>
                 <p class="graf--p">
                  Now, Let's learn how to make the dynamic-feature downloadable from the app's module.
                 </p>
                 <p class="graf--p">
                  We have already created the layout for MainActivity.kt file in app's module. Now, let us write the logic for downloading the modules.
                 </p>
                 <p class="graf--p">
                  Firstly, we will create 3 variables,
                 </p>
                 <pre><code class="language-java graf graf--code">lateinit var splitInstallManager: SplitInstallManager
lateinit var request: SplitInstallRequest
val DYNAMIC_FEATURE = "news_feature"</code></pre>
                 <ul>
                  <li>
                   <b class="graf--bold">
                    SplitInstallManager
                   </b>
                   is responsible for downloading the module. The app has to be in Foreground to download the dynamic module.
                  </li>
                  <li>
                   <b class="graf--bold">
                    SplitInstallRequest
                   </b>
                   will contain the request information that will be used to request our dynamic feature module from Google Play.
                  </li>
                 </ul>
                 <p class="graf--p">
                  Now, we have to initialize the lateinit variables in onCreate of the MainActivity,
                 </p>
                 <pre><code class="language-java graf graf--code">override fun onCreate(savedInstanceState: Bundle) {
    ....
    initDynamicModules()
}</code></pre>
                 <p class="graf--p">
                  and initDynamicModules will look like,
                 </p>
                 <pre><code class="language-java graf graf--code">private fun initDynamicModules() {
splitInstallManager = SplitInstallManagerFactory.create(this)
request = SplitInstallRequest
        .newBuilder()
        .addModule(DYNAMIC_FEATURE)
        .build();
}</code></pre>
                 <p class="graf--p">
                  Here,
                 </p>
                 <ul>
                  <li>
                   First we create the factory for splitInstallManager and then we create the SplitInstallRequest instance.
                  </li>
                  <li>
                   We add the module name, in
                   <b class="graf--bold">
                    addModule(/** Module Name **/)
                   </b>
                   and we can also add multiple multiple modules by add multiple addModule.
                  </li>
                 </ul>
                 <p class="graf--p">
                  Now, we are ready to setup the download feature of the dynamic-module. We will setup setOnClickListeners  for the button,
                 </p>
                 <pre><code class="language-java graf graf--code">private fun setClickListeners() {
    buttonClick.setOnClickListener {
        if (!isDynamicFeatureDownloaded(DYNAMIC_FEATURE)) {
            downloadFeature()
        } else {
            buttonDeleteNewsModule.visibility = View.VISIBLE
            buttonOpenNewsModule.visibility = View.VISIBLE
        }
    }
}</code></pre>
                 <p class="graf--p">
                  Here , first we check if the module is already downloaded or not and then we show the rest two buttons to delete or open modules.
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   isDynamicFeatureDownladed
                  </b>
                  looks like,
                 </p>
                 <pre><code class="language-java graf graf--code">private fun isDynamicFeatureDownloaded(feature: String): Boolean =
    splitInstallManager.installedModules.contains(feature)
</code></pre>
                 <p class="graf--p">
                  It will return if the installed module contains the dynamic-module or not.
                 </p>
                 <p class="graf--p">
                  If the dynamic-module was not downloaded initially, it will call
                  <b class="graf--bold">
                   <i class="graf--italic">
                    downloadFeature(),
                   </i>
                  </b>
                 </p>
                 <pre><code class="language-java graf graf--code">private fun downloadFeature() {
    splitInstallManager.startInstall(request)
        .addOnFailureListener {        
        }
        .addOnSuccessListener {
            buttonOpenNewsModule.visibility = View.VISIBLE
            buttonDeleteNewsModule.visibility = View.VISIBLE
        }
        .addOnCompleteListener {
        }
}</code></pre>
                 <p class="graf--p">
                  Here, the SplitInstallManager will start installing the module and when the the download success is successful , it will show the open and delete button.
                 </p>
                 <p class="graf--p">
                  The before and after of downloading the dynamic-module,
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="How to build a Modular Android App Architecture?" class="graf-image" src="/images/before-after-modular-app.png"/>
                 </div>
                 <p class="graf--p">
                  The dynamic-feature-module is downloaded  successful and it can be verified because the rest two buttons are visible.
                 </p>
                 <p class="graf--p">
                  Now, to open the Activity of dynamic-feature-module i.e NewsLoaderActivity we can't use normal intent as we open in same modules using Intent. To open the activity of different module on click of
                  <b class="graf--bold">
                   Open News Module
                  </b>
                  button we use,
                 </p>
                 <pre><code class="language-java graf graf--code">buttonOpenNewsModule.setOnClickListener {
    val intent = Intent().setClassName(this, "com.mindorks.news_feature.newsloader.NewsLoaderActivity")
    startActivity(intent)
}</code></pre>
                 <p class="graf--p">
                  Here, we use
                  <b class="graf--bold">
                   setClassName
                  </b>
                  we have to pass context and the path of the Activity in string format.
                 </p>
                 <blockquote class="graf--blockquote">
                  Note : If we refactor the code of the module we have to manually change the path in the intent to open the activity.
                 </blockquote>
                 <p class="graf--p">
                  And now, to delete the downloaded dynamic-feature-module in Android on the click of
                  <b class="graf--bold">
                   Delete News Module
                  </b>
                  we call
                  <b class="graf--bold">
                   uninstallDynamicFeature
                  </b>
                  function
                  <b class="graf--bold">
                   ,
                  </b>
                 </p>
                 <pre><code class="language-java graf graf--code">buttonDeleteNewsModule.setOnClickListener {
    val list = ArrayList&lt;String&gt;()
    list.add(DYNAMIC_FEATURE)
    uninstallDynamicFeature(list)
}</code></pre>
                 <p class="graf--p">
                  It takes list of strings which contains the name of dynamic module as parameter and
                  <b class="graf--bold">
                   uninstallDynamicFeature
                  </b>
                  looks like,
                 </p>
                 <pre><code class="language-java graf graf--code">private fun uninstallDynamicFeature(list: List&lt;String&gt;) {
    splitInstallManager.deferredUninstall(list)
        .addOnSuccessListener {
            buttonDeleteNewsModule.visibility = View.GONE
            buttonOpenNewsModule.visibility = View.GONE
        }
}</code></pre>
                 <p class="graf--p">
                  Here, in
                  <b class="graf--bold">
                   deferredUninstall
                  </b>
                  we take list as parameter and not string. And when the uninstall is successful both the open and delete buttons are hidden.
                 </p>
                 <ul>
                  <li>
                   If we have multiple modules in the app, we can get the list of all the installed modules using
                   <b class="graf--bold">
                    ,
                   </b>
                  </li>
                 </ul>
                 <pre><code class="language-java graf graf--code">SplitInstallManager.getInstalledModules()</code></pre>
                 <h4 class="graf--h3">
                  <b class="graf--bold">
                   Finally,
                  </b>
                 </h4>
                 <p class="graf--p">
                  We can also monitor the state of the request in the process when we request any dynamic-module,
                 </p>
                 <pre><code class="language-java graf graf--code">var mySessionId = 0
val listener = SplitInstallStateUpdatedListener {
    mySessionId = it.sessionId()
    when (it.status()) {
        SplitInstallSessionStatus.DOWNLOADING -&gt; {
            val totalBytes = it.totalBytesToDownload()
            val progress = it.bytesDownloaded()
            // Update progress bar.
        }
        SplitInstallSessionStatus.INSTALLING -&gt; Log.d("Status", "INSTALLING")
        SplitInstallSessionStatus.INSTALLED -&gt; Log.d("Status", "INSTALLED")
        SplitInstallSessionStatus.FAILED -&gt; Log.d("Status", "FAILED")
        SplitInstallSessionStatus.REQUIRES_USER_CONFIRMATION -&gt; Log.d("Status", "REQUIRES_USER_CONFIRMATION")
    }
}</code></pre>
                 <blockquote class="graf--blockquote">
                  <b class="graf--bold">
                   SplitInstallSessionStatus.
                  </b>
                  <i class="graf--italic">
                   <b class="graf--bold">
                    REQUIRES_USER_CONFIRMATION
                   </b>
                  </i>
                  only occur when attempting to download a sufficiently large module and to test it we have to upload it on playstore. To get the user confirmation we use,
                 </blockquote>
                 <pre><code class="language-java graf graf--code">SplitInstallSessionStatus.REQUIRES_USER_CONFIRMATION -&gt; startIntentSender(it.resolutionIntent().intentSender, null,0, 0, 0)</code></pre>
                 <p class="graf--p">
                 </p>
                 <p class="graf--p">
                  If we want to use small features and which doesn't require much size when compiled in an APK,  we can use
                  <b class="graf--bold">
                   libray-module
                  </b>
                  and it will work similarly as third party libraries. To create a
                  <b class="graf--bold">
                   library-module
                  </b>
                  , we goto,
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   File -&gt; New -&gt; New Module
                  </b>
                  , and we see
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="How to build a Modular Android App Architecture?" class="graf-image" src="/images/android-library-multi-module.png"/>
                 </div>
                 <p class="graf--p">
                  And here it gets the module created as same as the
                  <b class="graf--bold">
                   news-feature.
                  </b>
                 </p>
                 <ul>
                  <li>
                   In this, the code of the library module is directly accessible by the app module
                  </li>
                 </ul>
                 <p class="graf--p">
                  and in the
                  <b class="graf--bold">
                   build.gradle
                  </b>
                  of the library, we add
                 </p>
                 <pre><code class="language-java graf graf--code">apply plugin: 'com.android.library'</code></pre>
                 <p class="graf--p">
                  which is different from what we added for
                  <b class="graf--bold">
                   dynamic-modules.
                  </b>
                 </p>
                 <h4 class="graf--h3">
                  <b class="graf--bold">
                   But, the bigger question is how we decide which module to keep in dynamic-module and which module in library.
                  </b>
                 </h4>
                 <ul>
                  <li>
                   If the module is very less used feature in the app but is an important flow of the app we keep that in dynamic-module. For example, Paid Features, OnBoarding Flow etc.
                  </li>
                 </ul>
                 <blockquote class="graf--blockquote">
                  If the dynamic module is initially integrated in the first build of APK  can also be deleted later after the use. Like after the OnBoarding of the user, we can delete the module to save some storage.
                 </blockquote>
                 <ul>
                  <li>
                   If the module is very light in size we can keep as a library module.
                  </li>
                 </ul>
                 <h4 class="graf--h3">
                  Benefits of Modular Android App Architecture :
                 </h4>
                 <ul>
                  <li>
                   <b class="graf--bold">
                    Easily Managable By Multiple Devs
                   </b>
                   : The app can be handled properly by multiple devs in a team if they work on different modules at a time. It will not hamper anyone's code in the process
                  </li>
                  <li>
                   <b class="graf--bold">
                    Maintainability
                   </b>
                   : Consider having multiple XML files in layout folder if we are using single module architecture. Dividing it in multiple different modules helps to maintain it properly. It will also help in the fast compilation as the gradle will be responsible for building individual modules rather than one module.
                  </li>
                  <li>
                   <b class="graf--bold">
                    Reduced APK Size:
                   </b>
                   If we use Android App bundle with dynamic delivery it will reduce the app size by a lot and it will helps the user to quickly download the app and hence the app will have more signups
                  </li>
                  <li>
                   <b class="graf--bold">
                    Testing New Features :
                   </b>
                   If you want to test some new features, you can build it in separate modules and keep for users to test it. In this way, it will not interfere in the core flow of the app and we can also test the feature simultaneously.
                  </li>
                 </ul>
                 <h4 class="graf--h3">
                  <a class="markup--anchor" href="https://github.com/hi-manshu/modular-app-architecture" target="_blank">
                   You can find the complete project here
                  </a>
                 </h4>
                 <p class="graf--p">
                 </p>
                 <blockquote class="graf--blockquote">
                  This is how we can work with
                  <b class="graf--bold">
                   dynamic-feature-module
                  </b>
                  to design multi-module android app.
                 </blockquote>
                 <p class="graf--p">
                  Happy learning
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Team MindOrks :)
                  </b>
                 </p>
                 <p class="graf--p">
                 </p>
                </div>
               </div>
              </div>
             </section>
            </div>
           </div>
          </div>
         </article>
        </div>
       </div>
       <div class="ui divider">
       </div>
      </div>
      <div class="stretched fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui large center aligned header" style="padding-top:20px">
        Recommended for You
       </div>
      </div>
      <div class="fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui centered grid">
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card">
          <img alt="Speed up Gradle build for Android to save your time" class="ui centered image" src="/images/banner-speed-up-gradle.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Speed up Gradle build for Android to save your time
           </div>
           <div class="meta">
            6th August 2019
           </div>
           <div class="description">
            In this blog, we will talk about how can we speed up your gradle build to run it quickly and save your time
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card">
          <img alt="Using Jetpack Compose to build UI in Android" class="ui centered image" src="/images/banner_jetpack.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Using Jetpack Compose to build UI in Android
           </div>
           <div class="meta">
            25th October 2019
           </div>
           <div class="description">
            In this blog, we will build and learn how to Use Jetpack Compose to build UI in Android. We will learn how to setup and work with it. We will also discuss how to make few other components as well
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card">
          <img alt="Build Material and Dark Themes Apps Using Style in Android" class="ui centered image" src="/images/build-material-and-dark-themes-apps-using-style-in-android-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Build Material and Dark Themes Apps Using Style in Android
           </div>
           <div class="meta">
            26th October 2019
           </div>
           <div class="description">
            In this blog, we will learn how to build material and dark themes apps using styles in Android. We will see how we can change the look of the application just by writing some styles code for our application.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card">
          <img alt="Measure Method Execution Time In Android Debug Build" class="ui centered image" src="/images/measure-method-execution-time-in-android-debug-build-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Measure Method Execution Time In Android Debug Build
           </div>
           <div class="meta">
            16th December 2019
           </div>
           <div class="description">
            In this blog, we will learn how to measure the method execution time in debug build of your application. Method execution time will help in reducing the time complexity of your method and this in return accelerates your Android App performance.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card">
          <img alt="Build your first Android application in Kotlin" class="ui centered image" src="/images/first-android-app-in-kotlin-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Build your first Android application in Kotlin
           </div>
           <div class="meta">
            17th December 2018
           </div>
           <div class="description">
            In this blog, we will learn how to create and run your first Android application in Kotlin with the help of Android Studio. We will learn how to create an emulator in Android Studio and how to run applications on an emulator and on mobile devices.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card">
          <img alt="Understanding Build Analyzer in Android" class="ui centered image" src="/images/understanding-build-analyzer-in-android-9facfd1674bebde4.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Understanding Build Analyzer in Android
           </div>
           <div class="meta">
            2nd June 2020
           </div>
           <div class="description">
            In this blog, we are going to see how the build analyzer works and what are its features.
           </div>
          </div>
         </a>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div style="background:#fff">
     <footer class="content-container">
      <div class="ui centered padded grid" style="padding-top:40px;background:linear-gradient(to right,#c4e0e0,#e5f1f1)">
       <h2 class="ui huge icon center aligned header">
        <div class="content">
         Connect With Your Mentors
        </div>
       </h2>
       <div class="centered row">
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Janishar Ali" class="ui medium circular image" src="/assets/ali.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://janisharali.com" target="_blank">
             Janishar Ali
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://janisharali.com" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/janisharali" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Amit Shekhar" class="ui medium circular image" src="/assets/amit.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://amitshekhar.me" target="_blank">
             Amit Shekhar
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://amitshekhar.me" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/amitiitbhu" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="ui divider" style="margin:unset">
      </div>
      <h5 class="ui header" style="padding:16px;margin:unset;color:#555">
       <i aria-hidden="true" class="copyright icon">
       </i>
       <div class="content">
        Copyright 2022, MindOrks Nextgen Private Limited
       </div>
      </h5>
     </footer>
    </div>
   </div>
  </div>
  <script type="text/javascript">
   window.hljs.initHighlightingOnLoad()
  </script>
 </body>
</html>