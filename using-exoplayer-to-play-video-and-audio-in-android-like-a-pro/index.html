<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>
   Using Exoplayer to play Video and Audio in Android like a Pro
  </title>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="minimum-scale=1,initial-scale=1,width=device-width,shrink-to-fit=no" name="viewport"/>
  <link href="https://blog.mindorks.com/using-exoplayer-to-play-video-and-audio-in-android-like-a-pro" rel="canonical"/>
  <meta content="986249072156-dabps0lf90smluddrk5rkqsdjghk3hd3.apps.googleusercontent.com" name="google-signin-client_id"/>
  <meta content="android, learn android app development, android app development courses, android blogs, android tutorial" name="keywords"/>
  <meta content="Using Exoplayer to play Video and Audio in Android like a Pro" property="og:title"/>
  <meta content="website" property="og:type"/>
  <meta content="https://blog.mindorks.com/using-exoplayer-to-play-video-and-audio-in-android-like-a-pro" property="og:url"/>
  <meta content="/images/using-exoplayer-to-play-video-and-audio-in-android-like-a-pro-banner-1596b1f74d8d8382.png" property="og:image"/>
  <meta content="In this blog, we will learn how to use ExoPlayer like a pro. ExoPlayer is a library used to play audio and video in Android apps. You can customize the ExoPlayer according to your needs. So, let's learn how to use ExoPlayer." property="og:description"/>
  <meta content="Using Exoplayer to play Video and Audio in Android like a Pro" property="twitter:title"/>
  <meta content="In this blog, we will learn how to use ExoPlayer like a pro. ExoPlayer is a library used to play audio and video in Android apps. You can customize the ExoPlayer according to your needs. So, let's learn how to use ExoPlayer." name="twitter:description"/>
  <meta content="/images/using-exoplayer-to-play-video-and-audio-in-android-like-a-pro-banner-1596b1f74d8d8382.png" name="twitter:image:src"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="@MindorksNextGen" name="twitter:site"/>
  <meta content="In this blog, we will learn how to use ExoPlayer like a pro. ExoPlayer is a library used to play audio and video in Android apps. You can customize the ExoPlayer according to your needs. So, let's learn how to use ExoPlayer." name="description"/>
  <meta content="1620001391374687" property="fb:app_id"/>
  <link href="/styles/vendor-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link href="/styles/app-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link as="style" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" onload='this.onload=null,this.rel="stylesheet"' rel="preload"/>
  <noscript>
   <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  </noscript>
  <script type="text/javascript">
     </script>
  <script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-91686131-1","auto"),ga("require","cleanUrlTracker"),ga("require","eventTracker"),ga("require","impressionTracker"),ga("require","outboundLinkTracker"),ga("require","urlChangeTracker"),ga("require","maxScrollTracker"),ga("require","mediaQueryTracker"),ga("require","outboundFormTracker"),ga("require","outboundLinkTracker"),ga("require","pageVisibilityTracker"),ga("require","socialWidgetTracker"),ga("require","urlChangeTracker"),ga("send","pageview")
  </script>
  <script defer="defer" src="/assets/autotrack.js" type="text/javascript">
  </script>
  <script src="/assets/highlight.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/vendor-bundle-1.8.6.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/app-bundle-1.8.6.js" type="text/javascript">
  </script>
 </head>
 <body>
  <div id="root">
   <div class="screen app-load-content" data-reactroot="">
    <div class="ui centered grid">
     <div class="row" style="padding:0">
      <div class="ui fixed menu navbar huge borderless grid" style="background-color:#fff;height:60px">
      </div>
     </div>
     <div class="centered computer only row" style="padding:0">
      <div class="ui fixed top menu navbar huge borderless grid header-container" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="right menu">
        <a class="item" href="https://janisharali.com" target="_blank">
         Mentor Ali
        </a>
        <a class="item" href="https://amitshekhar.me" target="_blank">
         Mentor Amit
        </a>
       </div>
      </div>
     </div>
     <div class="tablet only mobile only row" style="padding:0">
      <div class="ui fixed top navbar huge menu borderless" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="item">
       </div>
      </div>
     </div>
    </div>
    <div class="header-height">
    </div>
    <div aria-live="assertive" class="redux-toastr">
     <div>
      <div class="top-left">
      </div>
      <div class="top-right">
      </div>
      <div class="top-center">
      </div>
      <div class="bottom-left">
      </div>
      <div class="bottom-right">
      </div>
      <div class="bottom-center">
      </div>
     </div>
    </div>
    <div class="content-container theme">
     <div class="ui centered one column grid" style="padding-bottom:80px;background-color:#fff">
      <div class="ten wide computer fifteen wide mobile fifteen wide tablet column" style="margin-top:50px">
       <div>
        <div class="blog-page-author">
         <div class="ui small header">
          <img alt="Admin MindOrks" class="ui circular image" src="https://s3.ap-south-1.amazonaws.com/mindorks/website/mindorks-admin.png"/>
          <div class="content">
           Admin MindOrks
           <div class="sub header" style="margin-top:5px">
            24th May 2019
           </div>
          </div>
         </div>
        </div>
        <div id="content">
         <article class="template">
          <div class="postContent">
           <div class="notesSource">
            <div class="postField postField--body" id="editor">
             <section class="section--first section--last">
              <div class="section-divider layoutSingleColumn-template">
               <hr class="section-divider"/>
              </div>
              <div class="section-content">
               <div class="section-inner layoutSingleColumn-template">
                <div>
                 <h1 class="graf--h1">
                  Using Exoplayer to play Video and Audio in Android like a Pro
                 </h1>
                 <div class="graf-image graf-caption">
                  <img alt="Using Exoplayer to play Video and Audio in Android like a Pro" class="graf-image" src="/images/using-exoplayer-to-play-video-and-audio-in-android-like-a-pro-banner-1596b1f74d8d8382.png"/>
                 </div>
                 <p class="graf--p">
                  Before starting, hold on a while and think of some application that includes Audio or Video in any form. Did you get the name of an app? In fact, think of apps that don’t have audio or video present in it. Did you find one? This shows that how important is media to apps.
                 </p>
                 <p class="graf--p">
                  Playing music and video in your android app is a must-have task because music and video are one of the most effective ways of fast communication between the user of the app and the provider or the developer of the app. There are many video applications that we use in our daily life such as YouTube, Netflix, Amazon Prime Video, etc. And as an Android Developer, you can also make an Android app like YouTube or Netflix.
                 </p>
                 <p class="graf--p">
                  Media can be played from the Internet or from your local device. Even, you can download and store the media in your local device or phone and there are various ways of adding audio and video in an Android app. Some of these are
                  <b class="graf--bold">
                   MediaPlayer
                  </b>
                  and
                  <b class="graf--bold">
                   ExoPlayer
                  </b>
                  . In this blog, we will learn one of them i.e. the
                  <b class="graf--bold">
                   ExoPlayer
                  </b>
                  . We will learn about ExoPlayer and we will see how to use ExoPlayer in our Android app.
                 </p>
                 <p class="graf--p">
                  The following is the timeline for this blog:
                 </p>
                 <ul>
                  <li>
                   Recap MediaPlayer
                  </li>
                  <li>
                   What is ExoPlayer?
                  </li>
                  <li>
                   MediaPlayer vs Exoplayer
                  </li>
                  <li>
                   How to use ExoPlayer in Activity/Fragment?
                  </li>
                  <li>
                   Playback States
                  </li>
                  <li>
                   ExoPlayer example
                  </li>
                  <li>
                   Handling Orientation change
                  </li>
                  <li>
                   Conclusion
                  </li>
                 </ul>
                 <p class="graf--p">
                  So, let’s get started.
                 </p>
                 <h4 class="graf--h3">
                  MediaPlayer
                 </h4>
                 <p class="graf--p">
                  To integrate audio, video, and images in your apps easily, the Android multimedia framework provides you with the support of MediaPlayer. The
                  <i class="graf--italic">
                   MediaPlayer
                  </i>
                  class is used to play media in android devices. It supports almost all types of media format present in Android. Using MediaPlayer in our app is very easy. But the main drawback of the MediaPlayer is that it supports very little customization i.e. if you want to customize your MediaPlayer as per your own needs, then you will find it difficult to do so. So, if you want to customize your media player then you should use ExoPlayer.
                 </p>
                 <h4 class="graf--h3">
                  What is ExoPlayer?
                 </h4>
                 <p class="graf--p">
                  Is ExoPlayer new to you? Wait, have you watched any YouTube video today? Yes? So, you have already used ExoPlayer. The YouTube app and many more Google’s video streaming apps use the ExoPlayer to stream and play videos.
                 </p>
                 <p class="graf--p">
                  ExoPlayer is a media player library that provides a way to play media with lots of customization in your android app. It’s an alternative of Android's MediaPlayer library used to play videos and audios.
                 </p>
                 <p class="graf--p">
                  Some of the advantages of ExoPlayer are:
                 </p>
                 <ul>
                  <li>
                   It supports dynamic adaptive streaming over HTTP(DASH).
                  </li>
                  <li>
                   It includes smooth streaming and encryption of the played video. Both DASH and SmoothStreaming are not there in MediaPlayer.
                  </li>
                  <li>
                   But the best advantage of using ExoPlayer is its customization property. You can customize your video player according to your needs. For example, if you want to add just the play button, then add that feature only.
                  </li>
                  <li>
                   It provides the support of playlist and you can also clip or merge or loop your media.
                  </li>
                 </ul>
                 <p class="graf--p">
                  So, there are many other features in the ExoPlayer that you can use as per your needs. ExoPlayer is reliable because it is directly handled by Google’s Android team. So, you will find each and every support for the ExoPlayer on the Developers website of Google.
                 </p>
                 <h4 class="graf--h3">
                  MediaPlayer vs ExoPlayer
                 </h4>
                 <p class="graf--p">
                  Before moving to the implementation of ExoPlayer, let's have a quick comparison between MediaPlayer and ExoPlayer:
                 </p>
                 <ul>
                  <li>
                   MediaPlayer is there from Android API level 1. But ExoPlayer was introduced in Android API level 16 i.e. the Android Jelly Bean. So, you can't use ExoPlayer for API less than 16. But this is not a matter to worry about. Almost 100% (99.2%, to be more precise) of Android devices present on the Play Store have API level 16 or more, so you can say that almost all Android devices present on Play Store, supports ExoPlayer.
                  </li>
                  <li>
                   The video played in the MediaPlayer does not support the smooth streaming. Also, there was no support for adaptive playbacks like DASH and HSL.
                  </li>
                  <li>
                   Caching is not there in MediaPlayer but it is in ExoPlayer i.e. the feature of loading the video in advance is not present in MediaPlayer.
                  </li>
                  <li>
                   MediaPlayer is less customizable as compared to the ExoPlayer. While playing an audio/video with MediaPlayer, you don't know what exactly is happening in the background but in case of the ExoPlayer, you get to know everything happening there.
                  </li>
                 </ul>
                 <p class="graf--p">
                  To have a deep understanding of where the MediaPlayer and ExoPlayer works, see the below image:
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Using Exoplayer to play Video and Audio in Android like a Pro" class="graf-image" src="/images/using-exoplayer-to-play-video-and-audio-in-android-like-a-pro-example-aadb69fe0e75da99.jpg"/>
                 </div>
                 <p class="graf--p">
                  Here you can find that the MediaPlayer is implemented inside the Operating System of Android and due to this you will find it difficult to customize the MediaPlayer according to your needs. But in the case of ExoPlayer, the implementation is done inside our App. So, you can easily customize the ExoPlayer in your app.
                 </p>
                 <p class="graf--p">
                  But there are a few disadvantages of using ExoPlayer also. For example, if you want to play audio only, then you should go with MediaPlayer because ExoPlayer consumes more battery than MediaPlayer.
                 </p>
                 <p class="graf--p">
                  Also, since the ExoPlayer is present in our application, so it will increase the APK size by a few hundred kilobytes. But anytime you can shrink the ExoPlayer used in your app(Learn more about ExoPlayer Shrinking from
                  <a class="markup--anchor" href="https://exoplayer.dev/shrinking.html" target="_blank">
                   here
                  </a>
                  ).
                 </p>
                 <h4 class="graf--h3">
                  How to use ExoPlayer in Activity/Fragment?
                 </h4>
                 <p class="graf--p">
                  Using ExoPlayer is quite easy. You need to follow four steps and you are good to go.
                 </p>
                 <ol type="1">
                  <li>
                   Add dependency of ExoPlayer in your application.
                  </li>
                  <li>
                   Add ExoPlayer in your layout file.
                  </li>
                  <li>
                   In your Java/Kotlin file make a function to initialize the player. This function will initialise the ExoPlayer in the player view and it will play the media when the player is ready.
                   <b class="graf--bold">
                    You can call this function from
                    <code class="graf--code-inline">
                     onStart
                    </code>
                    or
                    <code class="graf--code-inline">
                     onResume
                    </code>
                    .
                   </b>
                  </li>
                  <li>
                   Finally, you need to make a function to release the player. This method will be used to get the Playback position, find the states of play and pause used in the ExoPlayer and also to release the player and set the player to null when we are closing the activity or fragment.
                   <b class="graf--bold">
                    You can call this function from
                    <code class="graf--code-inline">
                     onPause
                    </code>
                    and
                    <code class="graf--code-inline">
                     onStop
                    </code>
                    .
                   </b>
                  </li>
                 </ol>
                 <p class="graf--p">
                  So, we will be using these four steps to play the media in our application. But before that let's understand the Playback States of any media player.
                 </p>
                 <h4 class="graf--h3">
                  Playback States
                 </h4>
                 <p class="graf--p">
                  In any player used for media playing, there are 4 states present in that player. These states are
                  <i class="graf--italic">
                   <b class="graf--bold">
                    Idle
                   </b>
                  </i>
                  ,
                  <i class="graf--italic">
                   <b class="graf--bold">
                    Buffering
                   </b>
                  </i>
                  ,
                  <i class="graf--italic">
                   <b class="graf--bold">
                    Ready
                   </b>
                  </i>
                  and
                  <i class="graf--italic">
                   <b class="graf--bold">
                    Ended
                   </b>
                  </i>
                  state. A simple view of these states are:
                 </p>
                 <p class="graf--p">
                  Picture courtesy: Exoplayer
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Using Exoplayer to play Video and Audio in Android like a Pro" class="graf-image" src="/images/exoplayer-like-a-pro-player-state.png"/>
                 </div>
                 <ol type="1">
                  <li>
                   <b class="graf--bold">
                    Idle
                   </b>
                   (
                   <code class="graf--code-inline">
                    <code class="graf--code-inline">
                     Player.STATE_IDLE
                    </code>
                   </code>
                   ): When the player has nothing to play, the player will be in the Idle state.
                  </li>
                  <li>
                   <b class="graf--bold">
                    Buffering
                   </b>
                   (
                   <code class="graf--code-inline">
                    <code class="graf--code-inline">
                     Player.STATE.BUFFERING
                    </code>
                   </code>
                   ): When the player tries to load the data or the media then the player will be in the buffering state.
                  </li>
                  <li>
                   <b class="graf--bold">
                    Ready
                   </b>
                   (
                   <code class="graf--code-inline">
                    <code class="graf--code-inline">
                     Player.STATE_READY
                    </code>
                   </code>
                   ): When the player is ready to play the video then the player will be in the ready state.
                  </li>
                  <li>
                   <b class="graf--bold">
                    Ended
                   </b>
                   (
                   <code class="graf--code-inline">
                    <code class="graf--code-inline">
                     Player.STATE_END
                    </code>
                   </code>
                   ): When the player has played the media then the player will come into the ended state. This state must be added before destroying an activity or a fragment.
                  </li>
                 </ol>
                 <p class="graf--p">
                  To use these states, you can override the
                  <code class="graf--code-inline">
                   onPlayerStateChanged()
                  </code>
                  function and here in this function you are provided with the
                  <code class="graf--code-inline">
                   playbackState
                  </code>
                  of the player and you can this
                  <code class="graf--code-inline">
                   playbackState
                  </code>
                  variable to perform various actions like when the state is
                  <code class="graf--code-inline">
                   BUFFERING
                  </code>
                  , then you can show some progress bar.
                 </p>
                 <p class="graf--p">
                  So, now we are done with the theory part of the ExoPlayer. Now, let’s move on to the implementation of the ExoPlayer in our Android App.
                 </p>
                 <h4 class="graf--h3">
                  ExoPlayer example
                 </h4>
                 <p class="graf--p">
                  In our example, we will be having only one Activity i.e. the MainActivity and inside that activity, there will be an ExoPlayer.
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Step1: Add dependency of ExoPlayer in your application
                  </b>
                 </p>
                 <p class="graf--p">
                  In your app-level
                  <code class="graf--code-inline">
                   build.gradle
                  </code>
                  file, add the dependency of ExoPlayer and sync it:
                 </p>
                 <pre><code class="language-java graf graf--code">implementation "com.google.android.exoplayer:exoplayer:$exoplayer_version"</code></pre>
                 <p class="graf--p">
                  Here, you can replace the
                  <code class="graf--code-inline">
                   $exoplayer_version
                  </code>
                  with the current version of ExoPlayer.(Find the current version of ExoPlayer from
                  <a class="markup--anchor" href="https://github.com/google/ExoPlayer/blob/release-v2/RELEASENOTES.md" target="_blank">
                   here
                  </a>
                  )
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   NOTE:
                  </b>
                  Make sure that Google and JCenter repositories are included in your
                  <code class="graf--code-inline">
                   build.gradle
                  </code>
                  .
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Step2: Add ExoPlayer in your layout file
                  </b>
                 </p>
                 <p class="graf--p">
                  Let's add ExoPlayer in our layout file. The following is the code of
                  <code class="graf--code-inline">
                   activity_main.xml
                  </code>
                  file:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"&gt;

    &lt;com.google.android.exoplayer2.ui.PlayerView
        android:id="@+id/exoplayerView"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent"&gt;

        &lt;ProgressBar
            android:id="@+id/progressBar"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:visibility="invisible" /&gt;

    &lt;/com.google.android.exoplayer2.ui.PlayerView&gt;
    
    &lt;!-- Other UI elements according to need--&gt;

&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre>
                 <p class="graf--p">
                  So, here, we are having one ExoPlayer view and one ProgressBar. The ProgressBar will be displayed when the state of the video is
                  <code class="graf--code-inline">
                   BUFFERING
                  </code>
                  .
                 </p>
                 <p class="graf--p">
                  For ExoPlayer we are using
                  <code class="graf--code-inline">
                   PlayerView
                  </code>
                  here, which can be used to play both audio and video. Also, it displays the subtitles of the video and it has many other features also. You can use the
                  <code class="graf--code-inline">
                   PlayerControlView
                  </code>
                  also.
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Step3/Step4: Adding code for ExoPlayer(initializing and releasing ExoPlayer)
                  </b>
                 </p>
                 <p class="graf--p">
                  Let's write the code for the ExoPlayer. The following is the code of the
                  <code class="graf--code-inline">
                   MainActivity.kt
                  </code>
                  file:
                 </p>
                 <pre><code class="language-java graf graf--code">class MainActivity : AppCompatActivity(), Player.EventListener {

    private lateinit var simpleExoplayer: SimpleExoPlayer
    private var playbackPosition: Long = 0
    private val mp4Url = "https://html5demos.com/assets/dizzy.mp4"
    private val dashUrl = "https://storage.googleapis.com/wvmedia/clear/vp9/tears/tears_uhd.mpd"
    private val urlList = listOf(mp4Url to "default", dashUrl to "dash")

    private val dataSourceFactory: DataSource.Factory by lazy {
        DefaultDataSourceFactory(this, "exoplayer-sample")
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
    }

    override fun onStart() {
        super.onStart()
        initializePlayer()
    }

    override fun onStop() {
        super.onStop()
        releasePlayer()
    }

    private fun initializePlayer() {
        simpleExoplayer = SimpleExoPlayer.Builder(this).build()
        val randomUrl = urlList.random()
        preparePlayer(randomUrl.first, randomUrl.second)
        exoplayerView.player = simpleExoplayer
        simpleExoplayer.seekTo(playbackPosition)
        simpleExoplayer.playWhenReady = true
        simpleExoplayer.addListener(this)
    }

    private fun buildMediaSource(uri: Uri, type: String): MediaSource {
        return if (type == "dash") {
            DashMediaSource.Factory(dataSourceFactory)
                .createMediaSource(uri)
        } else {
            ProgressiveMediaSource.Factory(dataSourceFactory)
                .createMediaSource(uri)
        }
    }

    private fun preparePlayer(videoUrl: String, type: String) {
        val uri = Uri.parse(videoUrl)
        val mediaSource = buildMediaSource(uri, type)
        simpleExoplayer.prepare(mediaSource)
    }

    private fun releasePlayer() {
        playbackPosition = simpleExoplayer.currentPosition
        simpleExoplayer.release()
    }

    override fun onPlayerError(error: ExoPlaybackException) {
        // handle error
    }

    override fun onPlayerStateChanged(playWhenReady: Boolean, playbackState: Int) {
        if (playbackState == Player.STATE_BUFFERING)
            progressBar.visibility = View.VISIBLE
        else if (playbackState == Player.STATE_READY || playbackState == Player.STATE_ENDED)
            progressBar.visibility = View.INVISIBLE
    }

}</code></pre>
                 <p class="graf--p">
                  Let's understand the code:
                 </p>
                 <ul>
                  <li>
                   Firstly, we created the variables i.e. the
                   <code class="graf--code-inline">
                    simpleExoPlayer
                   </code>
                   variable(it is the ExoPlayer variable), the
                   <code class="graf--code-inline">
                    playbackPosition
                   </code>
                   variable(used for the position of the media that is being played), the
                   <code class="graf--code-inline">
                    mp4Url
                   </code>
                   and the
                   <code class="graf--code-inline">
                    dashUrl
                   </code>
                   variable(some random URL of some video), the
                   <code class="graf--code-inline">
                    urlList
                   </code>
                   variable(to store the list of URLs that we just created) and the
                   <code class="graf--code-inline">
                    dataSourceFactory
                   </code>
                   (to store the source of Media).
                  </li>
                  <li>
                   Then we override all the functions like
                   <code class="graf--code-inline">
                    onCreate()
                   </code>
                   ,
                   <code class="graf--code-inline">
                    onStart()
                   </code>
                   ,
                   <code class="graf--code-inline">
                    onStop()
                   </code>
                   ,
                   <code class="graf--code-inline">
                    onPlayerStateChanged()
                   </code>
                  </li>
                  <li>
                   After that, we created the
                   <code class="graf--code-inline">
                    initializePlayer()
                   </code>
                   function that is used to create the instance of ExoPlayer by using
                   <code class="graf--code-inline">
                    SimpleExoPlayer.Builder()
                   </code>
                   . You can also use
                   <code class="graf--code-inline">
                    ExoPlayer.Builder()
                   </code>
                   . Another thing that is done inside this function is, we are getting a random URL from our
                   <code class="graf--code-inline">
                    urlList
                   </code>
                   and we are preparing the player to play that URL by calling the
                   <code class="graf--code-inline">
                    preparePlayer()
                   </code>
                   function.
                  </li>
                  <li>
                   In the
                   <code class="graf--code-inline">
                    preparePlayer()
                   </code>
                   function, we are getting the media source and we are preparing the player by calling the
                   <code class="graf--code-inline">
                    prepare()
                   </code>
                   function and passing the
                   <code class="graf--code-inline">
                    mediaSource
                   </code>
                   to it.
                  </li>
                  <li>
                   To release the player, we have
                   <code class="graf--code-inline">
                    releasePlayer()
                   </code>
                   function. This function is using the
                   <code class="graf--code-inline">
                    release()
                   </code>
                   method of ExoPlayer to release the player.
                  </li>
                  <li>
                   In the
                   <code class="graf--code-inline">
                    onPlayerStateChanged()
                   </code>
                   function, we are handling the progress bar i.e. if the state of the player is
                   <code class="graf--code-inline">
                    BUFFERING
                   </code>
                   , then the progress bar is visible and when the state is
                   <code class="graf--code-inline">
                    READY
                   </code>
                   or
                   <code class="graf--code-inline">
                    ENDED
                   </code>
                   , then it is invisible.
                  </li>
                  <li>
                   Also, we have
                   <code class="graf--code-inline">
                    onPlayerError()
                   </code>
                   function to handle the error in the player.
                  </li>
                  <li>
                   And finally, we are calling the
                   <code class="graf--code-inline">
                    initializePlayer()
                   </code>
                   function from
                   <code class="graf--code-inline">
                    onStart()
                   </code>
                   and
                   <code class="graf--code-inline">
                    releasePlayer()
                   </code>
                   function from
                   <code class="graf--code-inline">
                    onStop()
                   </code>
                   .
                  </li>
                 </ul>
                 <p class="graf--p">
                  Now, you can run the app and play the video.
                 </p>
                 <h4 class="graf--h3">
                  <b class="graf--bold">
                   Handling orientation change
                  </b>
                 </h4>
                 <p class="graf--p">
                  Till now, we are done with the coding part of the ExoPlayer. But there is one drawback. Try to change the orientation of the device while playing the video. You will find that after changing the orientation, the video will start playing from the initial state because the activity is recreated here. So, we must handle this situation because our video must play from the same place where it was in the other orientation.
                 </p>
                 <p class="graf--p">
                  So, to remove this problem, use the below code in your
                  <code class="graf--code-inline">
                   AndroiManifest.xml
                  </code>
                  <b class="graf--bold">
                   <i class="graf--italic">
                   </i>
                  </b>
                  file:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;activity android:name=".MainActivity"
    android:configChanges="keyboard|keyboardHidden|orientation|screenSize|screenLayout|smallestScreenSize|uiMode"&gt;
&lt;/activity&gt;</code></pre>
                 <p class="graf--p">
                  That's all. You are done with a functional ExoPlayer. Customize the player by adding some more features to your ExoPlayer app. You can go to the
                  <a class="markup--anchor" href="https://exoplayer.dev/" target="_blank">
                   ExoPlayer website
                  </a>
                  and learn more about the ExoPlayer.
                 </p>
                 <h4 class="graf--h3">
                  Conclusion
                 </h4>
                 <p class="graf--p">
                  So, we have covered a lot about ExoPlayer in this blog. But this is not all about ExoPlayer, there are a lot of other features of ExoPlayer. Actually, if you can’t do something with the MediaPlayer, then there is a high chance that you will find that feature in the ExoPlayer library.
                 </p>
                 <p class="graf--p">
                  Instead of so many features, before using ExoPlayer, you must think of the features that your app requires i.e. if you are making a simple music player app then go with the MediaPlayer otherwise use ExoPlayer.
                 </p>
                 <p class="graf--p">
                  So, explore more about ExoPlayer from
                  <a class="markup--anchor" href="https://github.com/google/ExoPlayer" target="_blank">
                   here
                  </a>
                  .
                 </p>
                 <p class="graf--p">
                  Keep Learning :)
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Team MindOrks
                  </b>
                 </p>
                </div>
               </div>
              </div>
             </section>
            </div>
           </div>
          </div>
         </article>
        </div>
       </div>
       <div class="ui divider">
       </div>
      </div>
      <div class="stretched fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui large center aligned header" style="padding-top:20px">
        Recommended for You
       </div>
      </div>
      <div class="fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui centered grid">
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/using-mediaplayer-to-play-an-audio-file-in-android/">
          <img alt="Using MediaPlayer to play an Audio File in Android" class="ui centered image" src="/images/using-mediaplayer-to-play-an-audio-file-in-android-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Using MediaPlayer to play an Audio File in Android
           </div>
           <div class="meta">
            10th October 2019
           </div>
           <div class="description">
            In this blog, we will learn how to use MediaPlayer to play an audio file in Android. We will learn about different states present in the MediaPlayer and will also implement it. So, feel the music.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/why-do-we-use-the-dependency-injection-framework-in-android/">
          <img alt="Why do we use the Dependency Injection Framework like Dagger in Android?" class="ui centered image" src="/images/dagger-banner-why.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Why do we use the Dependency Injection Framework like Dagger in Android?
           </div>
           <div class="meta">
            28th April 2020
           </div>
           <div class="description">
            In this blog, we are going to see why do we use the Dependency Injection Framework like Dagger in Android. We will also see how can we give our configuration to the framework.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/using-mockito-in-android-unit-testing-as-a-pro/">
          <img alt="Using Mockito in Android Unit Testing as a Pro" class="ui centered image" src="/images/use-mockito-as-pro-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Using Mockito in Android Unit Testing as a Pro
           </div>
           <div class="meta">
            26th July 2019
           </div>
           <div class="description">
            In this blog, we will learn about how to use mocking as a pro in Android unit testing. You will learn how to set up and the perform test using it
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/play-with-flexbox-layout-for-android/">
          <img alt="Play with Flexbox-Layout for Android" class="ui centered image" src="/images/flexbox_feature_image.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Play with Flexbox-Layout for Android
           </div>
           <div class="meta">
            26th January 2019
           </div>
           <div class="description">
            Learn about Google's library Flexbox layout for Android. FlexboxLayout is a library project which brings the similar capabilities of CSS Flexible Box Layout Module to Android.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/using-custom-and-downloadable-fonts-in-android/">
          <img alt="Using Custom and Downloadable Fonts in Android" class="ui centered image" src="/images/downloadable-font-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Using Custom and Downloadable Fonts in Android
           </div>
           <div class="meta">
            16th May 2019
           </div>
           <div class="description">
            In this blog, we will learn how to use custom and downloadable fonts in android that was introduced in Android 8.0. Now there is no need of writing some piece of code for using the fonts. Also you can choose from any of the thousands of fonts on Google Fonts and use them in your app.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/build-material-and-dark-themes-apps-using-style-in-android/">
          <img alt="Build Material and Dark Themes Apps Using Style in Android" class="ui centered image" src="/images/build-material-and-dark-themes-apps-using-style-in-android-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Build Material and Dark Themes Apps Using Style in Android
           </div>
           <div class="meta">
            26th October 2019
           </div>
           <div class="description">
            In this blog, we will learn how to build material and dark themes apps using styles in Android. We will see how we can change the look of the application just by writing some styles code for our application.
           </div>
          </div>
         </a>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div style="background:#fff">
     <footer class="content-container">
      <div class="ui centered padded grid" style="padding-top:40px;background:linear-gradient(to right,#c4e0e0,#e5f1f1)">
       <h2 class="ui huge icon center aligned header">
        <div class="content">
         Connect With Your Mentors
        </div>
       </h2>
       <div class="centered row">
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Janishar Ali" class="ui medium circular image" src="/assets/ali.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://janisharali.com" target="_blank">
             Janishar Ali
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://janisharali.com" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/janisharali" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Amit Shekhar" class="ui medium circular image" src="/assets/amit.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://amitshekhar.me" target="_blank">
             Amit Shekhar
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://amitshekhar.me" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/amitiitbhu" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="ui divider" style="margin:unset">
      </div>
      <h5 class="ui header" style="padding:16px;margin:unset;color:#555">
       <i aria-hidden="true" class="copyright icon">
       </i>
       <div class="content">
        Copyright 2022, MindOrks Nextgen Private Limited
       </div>
      </h5>
     </footer>
    </div>
   </div>
  </div>
  <script type="text/javascript">
   window.hljs.initHighlightingOnLoad()
  </script>
 </body>
</html>