<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>
   Understanding Touch Control and Events in Android
  </title>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="minimum-scale=1,initial-scale=1,width=device-width,shrink-to-fit=no" name="viewport"/>
  <link href="https://blog.mindorks.com/touch-control-and-events-in-android" rel="canonical"/>
  <meta content="986249072156-dabps0lf90smluddrk5rkqsdjghk3hd3.apps.googleusercontent.com" name="google-signin-client_id"/>
  <meta content="android, learn android app development, android app development courses, android blogs, android tutorial" name="keywords"/>
  <meta content="Understanding Touch Control and Events in Android" property="og:title"/>
  <meta content="website" property="og:type"/>
  <meta content="https://blog.mindorks.com/touch-control-and-events-in-android" property="og:url"/>
  <meta content="/images/understand-touch-control-event-04c9289a59e970da.png" property="og:image"/>
  <meta content="In this blog, we are going to understand how to work with touch control and events in android. We are going to learn how it works with view groups and their children." property="og:description"/>
  <meta content="Understanding Touch Control and Events in Android" property="twitter:title"/>
  <meta content="In this blog, we are going to understand how to work with touch control and events in android. We are going to learn how it works with view groups and their children." name="twitter:description"/>
  <meta content="/images/understand-touch-control-event-04c9289a59e970da.png" name="twitter:image:src"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="@MindorksNextGen" name="twitter:site"/>
  <meta content="In this blog, we are going to understand how to work with touch control and events in android. We are going to learn how it works with view groups and their children." name="description"/>
  <meta content="1620001391374687" property="fb:app_id"/>
  <link href="/styles/vendor-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link href="/styles/app-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link as="style" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" onload='this.onload=null,this.rel="stylesheet"' rel="preload"/>
  <noscript>
   <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  </noscript>
  <script type="text/javascript">
     </script>
  <script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-91686131-1","auto"),ga("require","cleanUrlTracker"),ga("require","eventTracker"),ga("require","impressionTracker"),ga("require","outboundLinkTracker"),ga("require","urlChangeTracker"),ga("require","maxScrollTracker"),ga("require","mediaQueryTracker"),ga("require","outboundFormTracker"),ga("require","outboundLinkTracker"),ga("require","pageVisibilityTracker"),ga("require","socialWidgetTracker"),ga("require","urlChangeTracker"),ga("send","pageview")
  </script>
  <script defer="defer" src="/assets/autotrack.js" type="text/javascript">
  </script>
  <script src="/assets/highlight.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/vendor-bundle-1.8.6.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/app-bundle-1.8.6.js" type="text/javascript">
  </script>
 </head>
 <body>
  <div id="root">
   <div class="screen app-load-content" data-reactroot="">
    <div class="ui centered grid">
     <div class="row" style="padding:0">
      <div class="ui fixed menu navbar huge borderless grid" style="background-color:#fff;height:60px">
      </div>
     </div>
     <div class="centered computer only row" style="padding:0">
      <div class="ui fixed top menu navbar huge borderless grid header-container" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="right menu">
        <a class="item" href="https://janisharali.com" target="_blank">
         Mentor Ali
        </a>
        <a class="item" href="https://amitshekhar.me" target="_blank">
         Mentor Amit
        </a>
       </div>
      </div>
     </div>
     <div class="tablet only mobile only row" style="padding:0">
      <div class="ui fixed top navbar huge menu borderless" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="item">
       </div>
      </div>
     </div>
    </div>
    <div class="header-height">
    </div>
    <div aria-live="assertive" class="redux-toastr">
     <div>
      <div class="top-left">
      </div>
      <div class="top-right">
      </div>
      <div class="top-center">
      </div>
      <div class="bottom-left">
      </div>
      <div class="bottom-right">
      </div>
      <div class="bottom-center">
      </div>
     </div>
    </div>
    <div class="content-container theme">
     <div class="ui centered one column grid" style="padding-bottom:80px;background-color:#fff">
      <div class="ten wide computer fifteen wide mobile fifteen wide tablet column" style="margin-top:50px">
       <div>
        <div class="blog-page-author">
         <div class="ui small header">
          <img alt="Himanshu Singh" class="ui circular image" src="https://lh3.googleusercontent.com/a-/AOh14Ghy8H-FJrgWB2TcxHCOKWxWEQB4AiklYADGTydu4nE=s96-c?sz=300"/>
          <div class="content">
           Himanshu Singh
           <div class="sub header" style="margin-top:5px">
            28th May 2020
           </div>
          </div>
         </div>
        </div>
        <div id="content">
         <article class="template">
          <div class="postContent">
           <div class="notesSource">
            <div class="postField postField--body" id="editor">
             <section class="section--first section--last">
              <div class="section-divider layoutSingleColumn-template">
               <hr class="section-divider"/>
              </div>
              <div class="section-content">
               <div class="section-inner layoutSingleColumn-template">
                <div>
                 <h1 class="graf--h1">
                  Understanding Touch Control and Events in Android
                 </h1>
                 <div class="graf-image graf-caption">
                  <img alt="Understanding Touch Control and Events in Android" class="graf-image" src="/images/understand-touch-control-event-04c9289a59e970da.png"/>
                 </div>
                 <p class="graf--p">
                  Almost all phones nowadays running Android are touch-controlled. There are very few phones which are not touch-based.
                 </p>
                 <p class="graf--p">
                  In this blog, we are going to talk about how we can handle touch events in Android. This is like, understanding how we can work around with touch controls and touch events when we tap on our screen.
                 </p>
                 <p class="graf--p">
                  We are going to discuss how touch events in Android work internally for any view.
                 </p>
                 <p class="graf--p">
                  So, how do the input events actually work and what exactly happens when we touch our screen when we have a ViewGroup having different views inside it?
                 </p>
                 <p class="graf--p">
                  In this case, we are going to talk about a case where we have a LinearLayout containing a button like,
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Understanding Touch Control and Events in Android" class="graf-image" src="/images/view-check-711c30b5330e1184.png"/>
                 </div>
                 <p class="graf--p">
                  What we are to going to discuss in the blog is,
                 </p>
                 <ul>
                  <li>
                   What happens when we touch the screen?
                  </li>
                  <li>
                   How do we intercept touch events?
                  </li>
                  <li>
                   How touch is handled?
                  </li>
                  <li>
                   What are the touch events we majorly work within Android for handling the touch control?
                  </li>
                 </ul>
                 <h4 class="graf--h3">
                  What happens when we touch the screen?
                 </h4>
                 <p class="graf--p">
                  So, when we touch the screen the activity's view gets the touch event notification first also known as
                  <code class="graf--code-inline">
                   DecorView
                  </code>
                  in Android. Now, we generally don't work with the touch of
                  <code class="graf--code-inline">
                   DecorView
                  </code>
                  . So, the touch gets transferred to the ViewGroup and subsequently to its children in the XML file.
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   But how can we transfer the touch event trigger?
                  </b>
                 </p>
                 <p class="graf--p">
                  In Android, the ViewGroup transfers the touch event from top to bottom in the hierarchy of ViewGroup to its children using
                  <code class="graf--code-inline">
                   dispatchTouchEvent()
                  </code>
                  .
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Understanding Touch Control and Events in Android" class="graf-image" src="/images/dispatchtouchevent-db98d7325653ecf9.jpg"/>
                 </div>
                 <h4 class="graf--h3">
                  How do we intercept touch events?
                 </h4>
                 <p class="graf--p">
                  First when we perform a touch action,
                 </p>
                 <p class="graf--p">
                  Then ViewGroup gets the touch event, and then it is intercepted in the ViewGroup itself using
                  <code class="graf--code-inline">
                   onInterceptTouchEvent()
                  </code>
                  .
                 </p>
                 <p class="graf--p">
                  If on intercepting if we return
                  <code class="graf--code-inline">
                   true
                  </code>
                  then the touch event is
                  <b class="graf--bold">
                   not
                  </b>
                  passed to its children and if we pass
                  <code class="graf--code-inline">
                   false
                  </code>
                  , the Android eco-system gets notified that the ViewGroup wants to dispatch the event to its children, in our case it is a button.
                 </p>
                 <blockquote class="graf--blockquote">
                  <i class="graf--italic">
                   In general, if returning true, it means we have handled the event in the ViewGroup itself, no need to dispatch to its children.
                  </i>
                 </blockquote>
                 <p class="graf--p">
                  Now, as the button we have, is the last view in our view tree. So, it won't be able to pass the touch event to its children anymore as it has none. So, in button, we would have our last onInterceptTouchEvent being called.
                 </p>
                 <blockquote class="graf--blockquote">
                  Intercepting of the event can only happen in ViewGroups and not Views.
                 </blockquote>
                 <p class="graf--p">
                  Now, let's discuss how the touch is handled in the view.
                 </p>
                 <h4 class="graf--h3">
                  How touch is handled in the view?
                 </h4>
                 <p class="graf--p">
                  When dispatching the touch event from top to bottom in the view hierarchy, we need to see at which position of the tree we need to handle the touch on the view.
                 </p>
                 <p class="graf--p">
                  When handling the dispatching the event, the top position of the hierarchy takes the lead, but when it comes to handling the touch the child views using onTouchEvent are always the first, and then it keeps moving towards the ViewGroups.
                 </p>
                 <p class="graf--p">
                  Touch event works just like the dispatching of the events but in the
                  <b class="graf--bold">
                   reverse
                  </b>
                  order from child to parent.
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Understanding Touch Control and Events in Android" class="graf-image" src="/images/mai-tree-event-30d871fc2985bb8a.jpg"/>
                 </div>
                 <p class="graf--p">
                  Let's say if we dispatch the event from ViewGroup and intercept the event there, it depends on the return value (true/false) that shall the touch of the view be handled on the ViewGroup or the children.
                 </p>
                 <p class="graf--p">
                  So in our case, if the
                  <code class="graf--code-inline">
                   onTouchEvent
                  </code>
                  of
                  <code class="graf--code-inline">
                   Button
                  </code>
                  returns
                  <b class="graf--bold">
                   true
                  </b>
                  , then it means that it has been handled and then, it will
                  <b class="graf--bold">
                   not
                  </b>
                  go to the
                  <code class="graf--code-inline">
                   LinearLayout
                  </code>
                  .
                 </p>
                 <h4 class="graf--h3">
                  What are the touch events we majorly work within Android for handling the touch control?
                 </h4>
                 <p class="graf--p">
                  When we get the touch event, it gets handled by
                  <code class="graf--code-inline">
                   onTouchEvent
                  </code>
                  which also has a parameter of type
                  <code class="graf--code-inline">
                   MotionEvent
                  </code>
                  .
                 </p>
                 <pre><code class="language-java graf graf--code">fun onTouchEvent(event: MotionEvent)</code></pre>
                 <p class="graf--p">
                  All the task performed regarding the touch has its reference in the event parameter. We can have the coordinates like X and Y points on the screen of the point on the touch.
                 </p>
                 <p class="graf--p">
                  It even has the actions in it, like let's see if we tap on the screen then
                  <b class="graf--bold">
                   MotionEvent.ACTION_DOWN
                  </b>
                  is called and when we lift the touch
                  <b class="graf--bold">
                   MotionEvent.ACTION_UP
                  </b>
                  is called.
                 </p>
                 <p class="graf--p">
                  Even dragging a finger on the screen, the action is
                  <b class="graf--bold">
                   MotionEvent.ACTION_MOVE.
                  </b>
                 </p>
                 <p class="graf--p">
                  So, the flow on the view happens is when we want to tap the button,
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Activity -&gt; dispatchTouchEvent (LinearLayout) -&gt; dispatchTouchEvent(Button) -&gt; onTouchEvent(Button).
                  </b>
                 </p>
                 <p class="graf--p">
                  and when we don't want to tap the button but want to handle the click on LinearLayout, the flow would be,
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Activity -&gt; dispatchTouchEvent (LinearLayout) -&gt; dispatchTouchEvent(Button) -&gt; onTouchEvent(Button) (will return false) -&gt; onTouchEvent(LinearLayout).
                  </b>
                 </p>
                 <h4 class="graf--h3">
                  <b class="graf--bold">
                   Summary
                  </b>
                 </h4>
                 <p class="graf--p">
                  To summarise everything how to work around touch control is,
                 </p>
                 <ul>
                  <li>
                   When working on touch events we start by clicking a view and removing the gesture (in our case our finger/stylus) then
                   <b class="graf--bold">
                    MotionEvent.ACTION_DOWN
                   </b>
                   and
                   <b class="graf--bold">
                    MotionEvent.ACTION_UP
                   </b>
                   is called respectively.
                  </li>
                  <li>
                   When the initial touch happens on the ViewGroup and after intercepting when it moves to the child, then
                   <b class="graf--bold">
                    MotionEvent.ACTION_CANCEL
                   </b>
                   gets called on the ViewGroup and the touch event dispatches to the children.
                  </li>
                  <li>
                   Now, everything depends on
                   <code class="graf--code-inline">
                    onInterceptTouchEvent()
                   </code>
                   and its return
                   <b class="graf--bold">
                    value
                   </b>
                   . Based on its return value the dispatchTouchEvent is dependent, that if returns true the dispatcher is canceled, and if it returns false then the dispatching of the touch event keeps going on until its used.
                  </li>
                  <li>
                   And
                   <code class="graf--code-inline">
                    onTouchEvent()
                   </code>
                   if the return value is true, then it means the touch is handled and if it returns false then it means the touch is not handled.
                  </li>
                 </ul>
                 <p class="graf--p">
                  Now, we know how to control the touch event and how it works. This is very useful when designing the CustomViews and own view library.
                 </p>
                 <p class="graf--p">
                  <a class="markup--anchor" href="https://github.com/MindorksOpenSource/EditDrawableText/blob/master/editdrawabletext/src/main/java/com/mindorks/editdrawabletext/EditDrawableText.kt" target="_blank">
                   You can check the implementation of how we can work with the onTouchEvent here.
                  </a>
                 </p>
                 <p class="graf--p">
                  Happy learning.
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Team MindOrks.
                  </b>
                 </p>
                </div>
               </div>
              </div>
             </section>
            </div>
           </div>
          </div>
         </article>
        </div>
       </div>
       <div class="ui divider">
       </div>
      </div>
      <div class="stretched fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui large center aligned header" style="padding-top:20px">
        Recommended for You
       </div>
      </div>
      <div class="fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui centered grid">
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/using-local-properties-file-to-avoid-api-keys-check-in-into-version-control-system/">
          <img alt="Using local.properties file to avoid API Keys check-in into Version Control System" class="ui centered image" src="/images/using-localproperties-banner-image.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Using local.properties file to avoid API Keys check-in into Version Control System
           </div>
           <div class="meta">
            3rd April 2020
           </div>
           <div class="description">
            This blog describes how to use the local.properties file in the Android Gradle system to avoid local or user-specific information such as API keys to be checked into the Version Control System.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/location-permissions-in-android-q/">
          <img alt="Understanding and Implementing Permission in Android Q" class="ui centered image" src="/images/location-permission.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Understanding and Implementing Permission in Android Q
           </div>
           <div class="meta">
            11th May 2019
           </div>
           <div class="description">
            In this blog, we will understand the new privacy-based location permission in Android Q and how to implement it in your app.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/understanding-density-independent-pixel-sp-dp-dip-in-android/">
          <img alt="Understanding Density Independence Pixel: sp, dp, dip in Android" class="ui centered image" src="/images/understanding_density_independent_pixel.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Understanding Density Independence Pixel: sp, dp, dip in Android
           </div>
           <div class="meta">
            31st January 2019
           </div>
           <div class="description">
            What is the best measurement unit for designing for Android Screen? Density Independent Pixel, Scaled Independent Pixels, Density Pixels or Pixels.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/understanding-settings-panel-in-android-q/">
          <img alt="Understanding Settings Panels in Android Q" class="ui centered image" src="/images/android-setting.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Understanding Settings Panels in Android Q
           </div>
           <div class="meta">
            14th May 2019
           </div>
           <div class="description">
            In this blog, we will understand the new setting panel which released in Android Q. With Google launching Android Q, Lot of exciting features has also popped up. One amazing feature is Location Service usage and few more.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/understanding-multidex-in-android/">
          <img alt="Understanding Multidex in Android" class="ui centered image" src="/images/understanding-multidex-banner-img.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Understanding Multidex in Android
           </div>
           <div class="meta">
            18th May 2019
           </div>
           <div class="description">
            In this blog, we will learn how to use Multidex in Android. Basically, Multidex is used when we want to add more than 64K methods in our Android project. If we don't use any Multidex for the project having more than 64K methods, then we will encounter DEX error. So, in this blog, we will learn how to use Multidex.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/understanding-the-application-lifecycle-in-android/">
          <img alt="Understanding the Application Lifecycle in Android" class="ui centered image" src="/images/understanding-the-application-lifecycle-in-android-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Understanding the Application Lifecycle in Android
           </div>
           <div class="meta">
            4th June 2019
           </div>
           <div class="description">
            In this blog, we will learn about the Application life cycle in Android. We will learn how to make use of various application states that a particular application has in general.
           </div>
          </div>
         </a>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div style="background:#fff">
     <footer class="content-container">
      <div class="ui centered padded grid" style="padding-top:40px;background:linear-gradient(to right,#c4e0e0,#e5f1f1)">
       <h2 class="ui huge icon center aligned header">
        <div class="content">
         Connect With Your Mentors
        </div>
       </h2>
       <div class="centered row">
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Janishar Ali" class="ui medium circular image" src="/assets/ali.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://janisharali.com" target="_blank">
             Janishar Ali
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://janisharali.com" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/janisharali" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Amit Shekhar" class="ui medium circular image" src="/assets/amit.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://amitshekhar.me" target="_blank">
             Amit Shekhar
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://amitshekhar.me" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/amitiitbhu" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="ui divider" style="margin:unset">
      </div>
      <h5 class="ui header" style="padding:16px;margin:unset;color:#555">
       <i aria-hidden="true" class="copyright icon">
       </i>
       <div class="content">
        Copyright 2022, MindOrks Nextgen Private Limited
       </div>
      </h5>
     </footer>
    </div>
   </div>
  </div>
  <script type="text/javascript">
   window.hljs.initHighlightingOnLoad()
  </script>
 </body>
</html>