<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>
   Shared ViewModel in Android: Shared between Fragments
  </title>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="minimum-scale=1,initial-scale=1,width=device-width,shrink-to-fit=no" name="viewport"/>
  <link href="https://blog.mindorks.com/shared-viewmodel-in-android-shared-between-fragments" rel="canonical"/>
  <meta content="986249072156-dabps0lf90smluddrk5rkqsdjghk3hd3.apps.googleusercontent.com" name="google-signin-client_id"/>
  <meta content="android, learn android app development, android app development courses, android blogs, android tutorial" name="keywords"/>
  <meta content="Shared ViewModel in Android: Shared between Fragments" property="og:title"/>
  <meta content="website" property="og:type"/>
  <meta content="https://blog.mindorks.com/shared-viewmodel-in-android-shared-between-fragments" property="og:url"/>
  <meta content="/images/shared-viewmodel-in-android-banner.png" property="og:image"/>
  <meta content="In this blog, we will learn how we can use the ViewModel in our application to communicate between various fragments in our application. We say it as SharedViewModel." property="og:description"/>
  <meta content="Shared ViewModel in Android: Shared between Fragments" property="twitter:title"/>
  <meta content="In this blog, we will learn how we can use the ViewModel in our application to communicate between various fragments in our application. We say it as SharedViewModel." name="twitter:description"/>
  <meta content="/images/shared-viewmodel-in-android-banner.png" name="twitter:image:src"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="@MindorksNextGen" name="twitter:site"/>
  <meta content="In this blog, we will learn how we can use the ViewModel in our application to communicate between various fragments in our application. We say it as SharedViewModel." name="description"/>
  <meta content="1620001391374687" property="fb:app_id"/>
  <link href="/styles/vendor-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link href="/styles/app-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link as="style" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" onload='this.onload=null,this.rel="stylesheet"' rel="preload"/>
  <noscript>
   <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  </noscript>
  <script type="text/javascript">
   window.__PRELOADED_STATE__={toastr:{toastrs:[],confirm:null},blogData:{data:{},latestBlogs:null,isFetching:!0,isFetchingLatestBlogs:!1,currentCategory:"",categories:[]},contactData:{formData:{email:"",name:"",phone:"",message:"",isWriting:!1,isNameError:!1,isEmailError:!1,isPhoneError:!1,isMessageError:!1,dismissMsg:!1},successMessage:null,errorMessage:null,isSending:!1},communityData:{formData:{email:"",isEmailError:!1,isWriting:!1,isSending:!1,dismissMsg:!1},successMessage:null,errorMessage:null},blogPageData:{blogId:289,data:{id:289,title:"Shared ViewModel in Android: Shared between Fragments",description:"In this blog, we will learn how we can use the ViewModel in our application to communicate between various fragments in our application. We say it as SharedViewModel.",text:'<h1 class="graf--h1">Shared ViewModel in Android: Shared between Fragments</h1> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/shared-viewmodel-in-android-banner.png class=\'graf-image\' alt=\'Shared ViewModel in Android: Shared between Fragments\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">Communication between Activities or Fragments in Android is a very common thing. Almost every application has some communication between various activities or fragments.</p><p class="graf--p">In this blog, we will learn how we can use the ViewModel in our application to communicate between various fragments in our application. We say it as SharedViewModel.</p><h4 class="graf--h3">Data sharing between Fragments</h4><p class="graf--p">Using SharedViewModel, we can communicate between fragments. If we consider two fragments, both the fragments can access the ViewModel through their activity.</p><p class="graf--p">Here, one fragment updates the data within the ViewModel which is shared between both the fragments and another fragment observes the changes on that data.</p><p class="graf--p">Let&#x27;s take a small example and learn it.</p><p class="graf--p"><b class="graf--bold">Note:</b> Do not forget to add the dependencies required for ViewModel, LiveData.</p><p class="graf--p">First, we will create a class SharedViewModel.</p><pre><code class="language-java graf graf--code">class SharedViewModel : ViewModel() {\n    val message = MutableLiveData&lt;String&gt;()\n\n    fun sendMessage(text: String) {\n        message.value = text\n    }\n}</code></pre><p class="graf--p">Now, we are going to create two Fragments:</p><ul><li><code class="graf--code-inline">MessageReceiverFragment</code>: This Fragment is going to receive the message which will be sent by MessageSenderFragment. It will have a TextView which will show the received message.</li><li><code class="graf--code-inline">MessageSenderFragment</code>: This Fragment is going to send the message which will be received by MessageReceiverFragment. It will have a Button to send the message.</li></ul><p class="graf--p">MessageReceiverFragment class:</p><pre><code class="language-java graf graf--code">class MessageReceiverFragment : Fragment() {\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        return inflater.inflate(R.layout.fragment_receiver, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        val model = ViewModelProvider(requireActivity()).get(SharedViewModel::class.java)\n        model.message.observe(viewLifecycleOwner, Observer {\n            textViewReceiver.text = it\n        })\n    }\n}</code></pre><p class="graf--p">fragment_receiver layout:</p><pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"\n    xmlns:app="http://schemas.android.com/apk/res-auto"\n    android:layout_width="match_parent"\n    android:layout_height="match_parent"&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:id="@+id/textViewReceiver"\n        android:layout_width="wrap_content"\n        android:layout_height="wrap_content"\n        android:text="Send Your Message"\n        app:layout_constraintBottom_toBottomOf="parent"\n        app:layout_constraintEnd_toEndOf="parent"\n        app:layout_constraintStart_toStartOf="parent"\n        app:layout_constraintTop_toTopOf="parent" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre><p class="graf--p">MessageSenderFragment class:</p><pre><code class="language-java graf graf--code">class MessageSenderFragment : Fragment() {\n    lateinit var model: SharedViewModel\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        return inflater.inflate(R.layout.fragment_sender, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        model = ViewModelProvider(requireActivity()).get(SharedViewModel::class.java)\n        button.setOnClickListener { model.sendMessage("MindOrks") }\n    }\n}</code></pre><p class="graf--p">fragment_sender layout:</p><pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"\n    xmlns:app="http://schemas.android.com/apk/res-auto"\n    android:layout_width="match_parent"\n    android:layout_height="match_parent"&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatButton\n        android:id="@+id/button"\n        android:layout_width="wrap_content"\n        android:layout_height="wrap_content"\n        android:text="Send Your Message"\n        app:layout_constraintBottom_toBottomOf="parent"\n        app:layout_constraintEnd_toEndOf="parent"\n        app:layout_constraintStart_toStartOf="parent"\n        app:layout_constraintTop_toTopOf="parent" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre><p class="graf--p">Now, let&#x27;s update the <code class="graf--code-inline">activity_main.xml</code>.</p><pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"\n    xmlns:app="http://schemas.android.com/apk/res-auto"\n    xmlns:tools="http://schemas.android.com/tools"\n    android:layout_width="match_parent"\n    android:layout_height="match_parent"\n    tools:context=".MainActivity"&gt;\n\n    &lt;fragment\n        android:id="@+id/receiverFragment"\n        android:name="com.mindorks.sharedviewmodelsample.MessageReceiverFragment"\n        android:layout_width="match_parent"\n        android:layout_height="0dp"\n        android:layout_marginStart="8dp"\n        android:layout_marginTop="8dp"\n        android:layout_marginEnd="8dp"\n        android:layout_marginBottom="8dp"\n        app:layout_constraintBottom_toTopOf="@+id/senderFragment"\n        app:layout_constraintEnd_toEndOf="parent"\n        app:layout_constraintHorizontal_bias="0.5"\n        app:layout_constraintStart_toStartOf="parent"\n        app:layout_constraintTop_toTopOf="parent" /&gt;\n\n    &lt;fragment\n        android:id="@+id/senderFragment"\n        android:name="com.mindorks.sharedviewmodelsample.MessageSenderFragment"\n        android:layout_width="match_parent"\n        android:layout_height="0dp"\n        android:layout_marginStart="8dp"\n        android:layout_marginTop="8dp"\n        android:layout_marginEnd="8dp"\n        android:layout_marginBottom="8dp"\n        app:layout_constraintBottom_toBottomOf="parent"\n        app:layout_constraintEnd_toEndOf="parent"\n        app:layout_constraintHorizontal_bias="0.5"\n        app:layout_constraintStart_toStartOf="parent"\n        app:layout_constraintTop_toBottomOf="@+id/receiverFragment" /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre><p class="graf--p">Our MainActivity Class.</p><pre><code class="language-java graf graf--code">class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n}</code></pre><p class="graf--p">Now, you are ready to run the app, see if it is working as expected. It should work.</p><p class="graf--p">Let&#x27;s discuss how it is working:</p><ul><li>Here, we have created an activity that consists of two fragments. The same activity is the host for both the fragment.</li><li>In both the fragment, we have created the object of SharedViewModel which is the same object as we are using the same single activity as an owner. This is the reason it is shared. Notice that we have used the <code class="graf--code-inline">requireActivity()</code>.</li></ul><pre><code class="language-java graf graf--code">ViewModelProvider(requireActivity()).get(SharedViewModel::class.java)</code></pre><ul><li>In the MessageSenderFragment, we are sending the message on button click, which sets the value of <code class="graf--code-inline">message - LiveData</code> in the SharedViewModel.</li><li>Then, in the MessageReceiverFragment, we are observing the change in the <code class="graf--code-inline">message - LiveData</code>, and whenever the message is coming, we are updating the data in textView.</li></ul><p class="graf--p">This is how it works.</p><p class="graf--p"><b class="graf--bold">Important: Create SharedViewModel using the same owner.</b></p><h4 class="graf--h3">Conclusion</h4><p class="graf--p">In this blog, we learned about Shared ViewModel in Android to communicate with other fragments. In the last, we saw one example of fragment communication using Shared ViewModel. Hope you enjoyed this blog.</p><p class="graf--p">Keep Learning :)</p><p class="graf--p">Team MindOrks!</p>',author:14897,img_url:"/images/shared-viewmodel-in-android-banner.png",blog_url:"shared-viewmodel-in-android-shared-between-fragments",likes:0,rank:0,category:1,published_at:"1st July 2019"},author:{id:14897,name:"Admin MindOrks",google_profile_pic:"https://s3.ap-south-1.amazonaws.com/mindorks/website/mindorks-admin.png",fb_profile_pic:null,profile_tagline:"Mindorks is an online software learning platform. It is a community of great programmers.",fb_profile_url:"https://www.facebook.com/mindorks.nextgen/",google_plus_profile_url:"https://mindorks.com",twitter_profile_url:"https://twitter.com/mindorksnextgen",github_profile_url:"https://github.com/mindorksopensource",linkedin_profile_url:"https://in.linkedin.com/company/mindorks"},isFetching:!1,similarBlogs:[{id:292,title:"How to communicate between fragments?",description:"In this blog, we will learn how to communicate between various Fragments in our Activity. You can have more than one Fragments in your Activity and it becomes a necessary task to learn how to communicate between those Fragments. So, let's learn how we can do this.",author:14897,img_url:"/images/how-to-communicate-between-fragments-banner.png",blog_url:"how-to-communicate-between-fragments",likes:0,rank:0,category:1,published_at:"15th July 2019",score:5.124495506286621},{id:228,title:"ViewModel with SavedState",description:"In this blog, we will learn about using SavedState in ViewModel. This is the part of Android Architecture Component. You will learn how to Persist ViewModel state across process recreation.",author:14897,img_url:"/images/viewModel-with-savedState%20.png",blog_url:"viewmodel-with-savedstate",likes:0,rank:0,category:1,published_at:"10th May 2019",score:3.1293888092041016},{id:195,title:"Android  Fragments and its Lifecycle",description:"Android Fragments",author:14897,img_url:"/images/android_fragments_mindorks_feature_image.png",blog_url:"android-fragments-and-its-lifecycle",likes:0,rank:0,category:1,published_at:"3rd January 2019",score:2.805088996887207},{id:307,title:"What are the differences between Dalvik and ART?",description:"In this blog, we will see the difference between Dalvik and ART in Android.",author:14897,img_url:"/images/differences-between-dalvik-and-art-banner.png",blog_url:"what-are-the-differences-between-dalvik-and-art",likes:0,rank:0,category:1,published_at:"31st July 2019",score:2.3285839557647705},{id:415,title:"What is the difference between const and val?",description:"In this tutorial, we will find the difference between const and val in Kotlin. Developers generally get confused between these two terms. So, let's find out the difference.",author:17146,img_url:"/images/what-is-the-difference-between-const-and-val-banner.jpg",blog_url:"what-is-the-difference-between-const-and-val",likes:0,rank:0,category:1,published_at:"8th April 2020",score:2.3285839557647705},{id:422,title:"Navigate between pages in a React Native App",description:"In this blog, we are going to learn how can we navigate inside a react native application and how navigation works. We will learn how to implement the navigation in our app.",author:9959,img_url:"/images/react-navigation-banner.png",blog_url:"navigate-between-pages-in-a-react-native-app",likes:0,rank:0,category:9,published_at:"21st April 2020",score:2.3285839557647705}],isSimilarBlogsFetching:!1},loginData:{data:null,isLoggingIn:!1,isLoggingOut:!1,loginState:!1,isForcedLogout:!1,isTokenRefreshed:!1,isRedirectHome:!1,message:""},updatesData:{news:null,inspirations:null,isNewsFetching:!0,isInspirationsFetching:!0},blogEditorData:{blogId:null,blogDetailsFormData:{title:"",description:"",imgUrl:"",blogUrl:"",category:"",categories:[],isWriting:!1,isTitleError:!1,isDescriptionError:!1,isImgUrlError:!1,isBlogUrlError:!1,isCategoryError:!1,isUploadingImage:!1,uploadedImageUrl:null},editorState:null,editorText:null,successMessage:null,errorMessage:null,isSending:!1,isMsgToShow:!1,isPublished:!1,isSubmitted:!1,isDraft:!0,isEditOfExistingBlog:!1,isFetchingBlogCategories:!1,isUploadingImage:!1,uploadedImageUrl:null},myBlogsData:{data:null,isSubmittedBlogsFetching:!0,isDraftBlogsFetching:!0,isPublishedBlogsFetching:!0,successMessage:null,errorMessage:null,isMsgToShow:!1,tabNames:["drafts","submissions","published"],selectedTab:"drafts",isFetchingBlog:!1,isDeletingBlog:!1,openEditorPage:!1},profilePreviewData:{profile:null,blogs:null,isFetchingProfile:!1,isFetchingAuthorBlogs:!1,successMessage:null,errorMessage:null,isMsgToShow:!1,isUserNotRegistered:!1,redirectToMyProfileEdit:!1},profileEditableData:{userId:null,name:null,fbProfilePicUrl:null,googleProfilePicUrl:null,profileFormData:{tagline:"",fbProfileUrl:"",googlePlusProfileUrl:"",twitterProfileUrl:"",githubProfileUrl:"",linkedinProfileUrl:"",isWriting:!1,isTaglineError:!1,isFbProfileUrlError:!1,isGooglePlusProfileUrlError:!1,isTwitterProfileUrlError:!1,isGithubProfileUrlError:!1,isLinkedinProfileUrlError:!1},isSavingProfile:!1,successMessage:null,errorMessage:null,isMsgToShow:!1,redirectToProfilePreview:!1},submitBlogData:{formData:{email:"",name:"",link:"",isWriting:!1,isNameError:!1,isEmailError:!1,isLinkError:!1,dismissMsg:!1},successMessage:null,errorMessage:null,isSubmitting:!1},advertisementsData:{data:{},isLoading:!1},recaptchaData:{verified:!1,successMessage:null,errorMessage:null},blogSearchData:{searches:null,isSearching:!1}}
  </script>
  <script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-91686131-1","auto"),ga("require","cleanUrlTracker"),ga("require","eventTracker"),ga("require","impressionTracker"),ga("require","outboundLinkTracker"),ga("require","urlChangeTracker"),ga("require","maxScrollTracker"),ga("require","mediaQueryTracker"),ga("require","outboundFormTracker"),ga("require","outboundLinkTracker"),ga("require","pageVisibilityTracker"),ga("require","socialWidgetTracker"),ga("require","urlChangeTracker"),ga("send","pageview")
  </script>
  <script defer="defer" src="/assets/autotrack.js" type="text/javascript">
  </script>
  <script src="/assets/highlight.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/vendor-bundle-1.8.6.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/app-bundle-1.8.6.js" type="text/javascript">
  </script>
 </head>
 <body>
  <div id="root">
   <div class="screen app-load-content" data-reactroot="">
    <div class="ui centered grid">
     <div class="row" style="padding:0">
      <div class="ui fixed menu navbar huge borderless grid" style="background-color:#fff;height:60px">
      </div>
     </div>
     <div class="centered computer only row" style="padding:0">
      <div class="ui fixed top menu navbar huge borderless grid header-container" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="right menu">
        <a class="item" href="https://janisharali.com" target="_blank">
         Mentor Ali
        </a>
        <a class="item" href="https://amitshekhar.me" target="_blank">
         Mentor Amit
        </a>
       </div>
      </div>
     </div>
     <div class="tablet only mobile only row" style="padding:0">
      <div class="ui fixed top navbar huge menu borderless" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="item">
       </div>
      </div>
     </div>
    </div>
    <div class="header-height">
    </div>
    <div aria-live="assertive" class="redux-toastr">
     <div>
      <div class="top-left">
      </div>
      <div class="top-right">
      </div>
      <div class="top-center">
      </div>
      <div class="bottom-left">
      </div>
      <div class="bottom-right">
      </div>
      <div class="bottom-center">
      </div>
     </div>
    </div>
    <div class="content-container theme">
     <div class="ui centered one column grid" style="padding-bottom:80px;background-color:#fff">
      <div class="ten wide computer fifteen wide mobile fifteen wide tablet column" style="margin-top:50px">
       <div>
        <div class="blog-page-author">
         <div class="ui small header">
          <img alt="Admin MindOrks" class="ui circular image" src="https://s3.ap-south-1.amazonaws.com/mindorks/website/mindorks-admin.png"/>
          <div class="content">
           Admin MindOrks
           <div class="sub header" style="margin-top:5px">
            1st July 2019
           </div>
          </div>
         </div>
        </div>
        <div id="content">
         <article class="template">
          <div class="postContent">
           <div class="notesSource">
            <div class="postField postField--body" id="editor">
             <section class="section--first section--last">
              <div class="section-divider layoutSingleColumn-template">
               <hr class="section-divider"/>
              </div>
              <div class="section-content">
               <div class="section-inner layoutSingleColumn-template">
                <div>
                 <h1 class="graf--h1">
                  Shared ViewModel in Android: Shared between Fragments
                 </h1>
                 <div class="graf-image graf-caption">
                  <img alt="Shared ViewModel in Android: Shared between Fragments" class="graf-image" src="/images/shared-viewmodel-in-android-banner.png"/>
                 </div>
                 <p class="graf--p">
                  Communication between Activities or Fragments in Android is a very common thing. Almost every application has some communication between various activities or fragments.
                 </p>
                 <p class="graf--p">
                  In this blog, we will learn how we can use the ViewModel in our application to communicate between various fragments in our application. We say it as SharedViewModel.
                 </p>
                 <h4 class="graf--h3">
                  Data sharing between Fragments
                 </h4>
                 <p class="graf--p">
                  Using SharedViewModel, we can communicate between fragments. If we consider two fragments, both the fragments can access the ViewModel through their activity.
                 </p>
                 <p class="graf--p">
                  Here, one fragment updates the data within the ViewModel which is shared between both the fragments and another fragment observes the changes on that data.
                 </p>
                 <p class="graf--p">
                  Let's take a small example and learn it.
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Note:
                  </b>
                  Do not forget to add the dependencies required for ViewModel, LiveData.
                 </p>
                 <p class="graf--p">
                  First, we will create a class SharedViewModel.
                 </p>
                 <pre><code class="language-java graf graf--code">class SharedViewModel : ViewModel() {
    val message = MutableLiveData&lt;String&gt;()

    fun sendMessage(text: String) {
        message.value = text
    }
}</code></pre>
                 <p class="graf--p">
                  Now, we are going to create two Fragments:
                 </p>
                 <ul>
                  <li>
                   <code class="graf--code-inline">
                    MessageReceiverFragment
                   </code>
                   : This Fragment is going to receive the message which will be sent by MessageSenderFragment. It will have a TextView which will show the received message.
                  </li>
                  <li>
                   <code class="graf--code-inline">
                    MessageSenderFragment
                   </code>
                   : This Fragment is going to send the message which will be received by MessageReceiverFragment. It will have a Button to send the message.
                  </li>
                 </ul>
                 <p class="graf--p">
                  MessageReceiverFragment class:
                 </p>
                 <pre><code class="language-java graf graf--code">class MessageReceiverFragment : Fragment() {

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        return inflater.inflate(R.layout.fragment_receiver, container, false)
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)
        val model = ViewModelProvider(requireActivity()).get(SharedViewModel::class.java)
        model.message.observe(viewLifecycleOwner, Observer {
            textViewReceiver.text = it
        })
    }
}</code></pre>
                 <p class="graf--p">
                  fragment_receiver layout:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"&gt;

    &lt;androidx.appcompat.widget.AppCompatTextView
        android:id="@+id/textViewReceiver"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Send Your Message"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" /&gt;

&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre>
                 <p class="graf--p">
                  MessageSenderFragment class:
                 </p>
                 <pre><code class="language-java graf graf--code">class MessageSenderFragment : Fragment() {
    lateinit var model: SharedViewModel

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        return inflater.inflate(R.layout.fragment_sender, container, false)
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)
        model = ViewModelProvider(requireActivity()).get(SharedViewModel::class.java)
        button.setOnClickListener { model.sendMessage("MindOrks") }
    }
}</code></pre>
                 <p class="graf--p">
                  fragment_sender layout:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"&gt;

    &lt;androidx.appcompat.widget.AppCompatButton
        android:id="@+id/button"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Send Your Message"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" /&gt;

&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre>
                 <p class="graf--p">
                  Now, let's update the
                  <code class="graf--code-inline">
                   activity_main.xml
                  </code>
                  .
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity"&gt;

    &lt;fragment
        android:id="@+id/receiverFragment"
        android:name="com.mindorks.sharedviewmodelsample.MessageReceiverFragment"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_marginStart="8dp"
        android:layout_marginTop="8dp"
        android:layout_marginEnd="8dp"
        android:layout_marginBottom="8dp"
        app:layout_constraintBottom_toTopOf="@+id/senderFragment"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintHorizontal_bias="0.5"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" /&gt;

    &lt;fragment
        android:id="@+id/senderFragment"
        android:name="com.mindorks.sharedviewmodelsample.MessageSenderFragment"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_marginStart="8dp"
        android:layout_marginTop="8dp"
        android:layout_marginEnd="8dp"
        android:layout_marginBottom="8dp"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintHorizontal_bias="0.5"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/receiverFragment" /&gt;


&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre>
                 <p class="graf--p">
                  Our MainActivity Class.
                 </p>
                 <pre><code class="language-java graf graf--code">class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
    }
}</code></pre>
                 <p class="graf--p">
                  Now, you are ready to run the app, see if it is working as expected. It should work.
                 </p>
                 <p class="graf--p">
                  Let's discuss how it is working:
                 </p>
                 <ul>
                  <li>
                   Here, we have created an activity that consists of two fragments. The same activity is the host for both the fragment.
                  </li>
                  <li>
                   In both the fragment, we have created the object of SharedViewModel which is the same object as we are using the same single activity as an owner. This is the reason it is shared. Notice that we have used the
                   <code class="graf--code-inline">
                    requireActivity()
                   </code>
                   .
                  </li>
                 </ul>
                 <pre><code class="language-java graf graf--code">ViewModelProvider(requireActivity()).get(SharedViewModel::class.java)</code></pre>
                 <ul>
                  <li>
                   In the MessageSenderFragment, we are sending the message on button click, which sets the value of
                   <code class="graf--code-inline">
                    message - LiveData
                   </code>
                   in the SharedViewModel.
                  </li>
                  <li>
                   Then, in the MessageReceiverFragment, we are observing the change in the
                   <code class="graf--code-inline">
                    message - LiveData
                   </code>
                   , and whenever the message is coming, we are updating the data in textView.
                  </li>
                 </ul>
                 <p class="graf--p">
                  This is how it works.
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Important: Create SharedViewModel using the same owner.
                  </b>
                 </p>
                 <h4 class="graf--h3">
                  Conclusion
                 </h4>
                 <p class="graf--p">
                  In this blog, we learned about Shared ViewModel in Android to communicate with other fragments. In the last, we saw one example of fragment communication using Shared ViewModel. Hope you enjoyed this blog.
                 </p>
                 <p class="graf--p">
                  Keep Learning :)
                 </p>
                 <p class="graf--p">
                  Team MindOrks!
                 </p>
                </div>
               </div>
              </div>
             </section>
            </div>
           </div>
          </div>
         </article>
        </div>
       </div>
       <div class="ui divider">
       </div>
      </div>
      <div class="stretched fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui large center aligned header" style="padding-top:20px">
        Recommended for You
       </div>
      </div>
      <div class="fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui centered grid">
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/how-to-communicate-between-fragments/">
          <img alt="How to communicate between fragments?" class="ui centered image" src="/images/how-to-communicate-between-fragments-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            How to communicate between fragments?
           </div>
           <div class="meta">
            15th July 2019
           </div>
           <div class="description">
            In this blog, we will learn how to communicate between various Fragments in our Activity. You can have more than one Fragments in your Activity and it becomes a necessary task to learn how to communicate between those Fragments. So, let's learn how we can do this.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/viewmodel-with-savedstate/">
          <img alt="ViewModel with SavedState" class="ui centered image" src="/images/viewModel-with-savedState%20.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            ViewModel with SavedState
           </div>
           <div class="meta">
            10th May 2019
           </div>
           <div class="description">
            In this blog, we will learn about using SavedState in ViewModel. This is the part of Android Architecture Component. You will learn how to Persist ViewModel state across process recreation.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/android-fragments-and-its-lifecycle/">
          <img alt="Android  Fragments and its Lifecycle" class="ui centered image" src="/images/android_fragments_mindorks_feature_image.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Android  Fragments and its Lifecycle
           </div>
           <div class="meta">
            3rd January 2019
           </div>
           <div class="description">
            Android Fragments
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/what-are-the-differences-between-dalvik-and-art/">
          <img alt="What are the differences between Dalvik and ART?" class="ui centered image" src="/images/differences-between-dalvik-and-art-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            What are the differences between Dalvik and ART?
           </div>
           <div class="meta">
            31st July 2019
           </div>
           <div class="description">
            In this blog, we will see the difference between Dalvik and ART in Android.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/what-is-the-difference-between-const-and-val/">
          <img alt="What is the difference between const and val?" class="ui centered image" src="/images/what-is-the-difference-between-const-and-val-banner.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            What is the difference between const and val?
           </div>
           <div class="meta">
            8th April 2020
           </div>
           <div class="description">
            In this tutorial, we will find the difference between const and val in Kotlin. Developers generally get confused between these two terms. So, let's find out the difference.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/navigate-between-pages-in-a-react-native-app/">
          <img alt="Navigate between pages in a React Native App" class="ui centered image" src="/images/react-navigation-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Navigate between pages in a React Native App
           </div>
           <div class="meta">
            21st April 2020
           </div>
           <div class="description">
            In this blog, we are going to learn how can we navigate inside a react native application and how navigation works. We will learn how to implement the navigation in our app.
           </div>
          </div>
         </a>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div style="background:#fff">
     <footer class="content-container">
      <div class="ui centered padded grid" style="padding-top:40px;background:linear-gradient(to right,#c4e0e0,#e5f1f1)">
       <h2 class="ui huge icon center aligned header">
        <div class="content">
         Connect With Your Mentors
        </div>
       </h2>
       <div class="centered row">
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Janishar Ali" class="ui medium circular image" src="/assets/ali.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://janisharali.com" target="_blank">
             Janishar Ali
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://janisharali.com" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/janisharali" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Amit Shekhar" class="ui medium circular image" src="/assets/amit.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://amitshekhar.me" target="_blank">
             Amit Shekhar
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://amitshekhar.me" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/amitiitbhu" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="ui divider" style="margin:unset">
      </div>
      <h5 class="ui header" style="padding:16px;margin:unset;color:#555">
       <i aria-hidden="true" class="copyright icon">
       </i>
       <div class="content">
        Copyright 2022, MindOrks Nextgen Private Limited
       </div>
      </h5>
     </footer>
    </div>
   </div>
  </div>
  <script type="text/javascript">
   window.hljs.initHighlightingOnLoad()
  </script>
 </body>
</html>