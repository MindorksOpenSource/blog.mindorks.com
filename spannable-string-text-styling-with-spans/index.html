<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>
   Spannable String: Text Styling with Spans
  </title>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="minimum-scale=1,initial-scale=1,width=device-width,shrink-to-fit=no" name="viewport"/>
  <link href="https://blog.mindorks.com/spannable-string-text-styling-with-spans" rel="canonical"/>
  <meta content="986249072156-dabps0lf90smluddrk5rkqsdjghk3hd3.apps.googleusercontent.com" name="google-signin-client_id"/>
  <meta content="android, learn android app development, android app development courses, android blogs, android tutorial" name="keywords"/>
  <meta content="Spannable String: Text Styling with Spans" property="og:title"/>
  <meta content="website" property="og:type"/>
  <meta content="https://blog.mindorks.com/spannable-string-text-styling-with-spans" property="og:url"/>
  <meta content="/images/banner-spannable-string-text-styling-with-spans-09aed703960d3992.jpg" property="og:image"/>
  <meta content="In this blog, we will learn how to style the text in an Android app with the help of Spans. There are many operations such as increase the font of some part of the text, underline some part of the text, make a bullet list, etc that can be done with the help of Spans." property="og:description"/>
  <meta content="Spannable String: Text Styling with Spans" property="twitter:title"/>
  <meta content="In this blog, we will learn how to style the text in an Android app with the help of Spans. There are many operations such as increase the font of some part of the text, underline some part of the text, make a bullet list, etc that can be done with the help of Spans." name="twitter:description"/>
  <meta content="/images/banner-spannable-string-text-styling-with-spans-09aed703960d3992.jpg" name="twitter:image:src"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="@MindorksNextGen" name="twitter:site"/>
  <meta content="In this blog, we will learn how to style the text in an Android app with the help of Spans. There are many operations such as increase the font of some part of the text, underline some part of the text, make a bullet list, etc that can be done with the help of Spans." name="description"/>
  <meta content="1620001391374687" property="fb:app_id"/>
  <link href="/styles/vendor-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link href="/styles/app-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link as="style" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" onload='this.onload=null,this.rel="stylesheet"' rel="preload"/>
  <noscript>
   <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  </noscript>
  <script type="text/javascript">
   window.__PRELOADED_STATE__={toastr:{toastrs:[],confirm:null},blogData:{data:{},latestBlogs:null,isFetching:!0,isFetchingLatestBlogs:!1,currentCategory:"",categories:[]},contactData:{formData:{email:"",name:"",phone:"",message:"",isWriting:!1,isNameError:!1,isEmailError:!1,isPhoneError:!1,isMessageError:!1,dismissMsg:!1},successMessage:null,errorMessage:null,isSending:!1},communityData:{formData:{email:"",isEmailError:!1,isWriting:!1,isSending:!1,dismissMsg:!1},successMessage:null,errorMessage:null},blogPageData:{blogId:505,data:{id:505,title:"Spannable String: Text Styling with Spans",description:"In this blog, we will learn how to style the text in an Android app with the help of Spans. There are many operations such as increase the font of some part of the text, underline some part of the text, make a bullet list, etc that can be done with the help of Spans.",text:'<h1 class="graf--h1">Spannable String: Text Styling with Spans</h1> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/banner-spannable-string-text-styling-with-spans-09aed703960d3992.jpg alt="Banner Spannable String Text Styling With Spans" class=\'graf-image\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">Text styling is one of the important aspects when it comes to enhancing the UI of an Android application. In Android, we can change the size, color, weight, style, etc of a text and make the text more attractive and appealing.</p><p class="graf--p">But think of a situation, when you want different colors for different parts of a TextView. For example, if the text is &quot;Hello Android&quot; and you want to have the color of &quot;Hello&quot; as green and &quot;Android&quot; as red. How can you achieve this? You can make two TextViews and set the textColor to green and red respectively. But it is not a good way of doing this. So, here comes the role of Styling the texts with the help of Spans.</p><p class="graf--p">In this blog, we are going to learn how to use Spans for styling our text used in our application. We are going to cover the following topics:</p><ul><li>What are Spans?</li><li>Change different colors for different words in a TextView</li><li>Spannable Flags</li><li>Change the background color of some part of a TextView</li><li>Multiple Spans to the same text</li><li>Different font size of the string in the same TextView</li><li>Underline a part of the text in TextView</li><li>Set some part of the TextView Clickable</li><li>Add a Bulleted list in Android</li></ul><h2 class="graf--h2">What are Spans?</h2><p class="graf--p">Spans are markup objects that are used to style a text either at the character level(for example, changing colors of different words) or at the paragraph level(for example, making a bullet list).</p><p class="graf--p">In order to style a text with the help of Spans, you can use the following three classes:</p><ul><li><b class="graf--bold">SpannedString:</b> This is used when there is no need to modify the text or the markup after its creation.</li><li><b class="graf--bold">SpannableString:</b> This is used when there is no need to modify the text but you need to modify the markup i.e. you need to add some spans to your text.</li><li><b class="graf--bold">SpannableStringBuilder:</b> This is used when you need to modify the text as well as the markup.</li></ul><p class="graf--p">This is a quick intro about the Spans in Android. Now, let&#x27;s see some of the use-cases of it. In all of our example, we are going to use the following TextView having id as <code class="graf--code-inline">tvMessage</code>:</p><pre><code class="language-java graf graf--code">&lt;TextView\n    android:id="@+id/tvMessage"\n    android:layout_width="wrap_content"\n    android:layout_height="wrap_content"\n    android:layout_margin="8dp"\n    android:gravity="center"\n    android:textColor="@color/black"\n    android:textSize="24sp"\n    app:layout_constraintBottom_toBottomOf="parent"\n    app:layout_constraintLeft_toLeftOf="parent"\n    app:layout_constraintRight_toRightOf="parent"\n    app:layout_constraintTop_toTopOf="parent"\n    tools:text="Hello World!" /&gt;</code></pre><h2 class="graf--h2">Change different colors for different words in a TextView</h2><p class="graf--p">There may be situations when you want to have different colors for a different part of the same textview. So, here you can use the <code class="graf--code-inline">ForegroundColorSpan</code>.</p><pre><code class="language-java graf graf--code">val spannable = SpannableString("You can start learning Android from MindOrks")\nspannable.setSpan(\n    ForegroundColorSpan(Color.RED),\n    36, // start\n    44, // end\n    Spannable.SPAN_EXCLUSIVE_INCLUSIVE\n)\ntvMessage.text = spannable</code></pre><p class="graf--p">Here, we are changing the color of &quot;MindOrks&quot; to Red. The output of the above code will be:</p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/foreground-color-span-example-81d155c8ef6b7d6b.jpg alt="Foreground Color Span Example" class=\'graf-image\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">If you look at the code, then you will find that we are using the <code class="graf--code-inline">SpannableString</code> class because we are having a fixed text. Also, we are using the <code class="graf--code-inline">setSpan</code> method to set the foreground color of text starting from the 36th position and ending at the 44th position in the string. Also, we are passing some flags with it i.e. the <code class="graf--code-inline">Spannable.</code><i class="graf--italic"><code class="graf--code-inline">SPAN_EXCLUSIVE_INCLUSIVE</code>.</i></p><p class="graf--p">Let&#x27;s learn about these flags.</p><h2 class="graf--h2">Spannable Flags</h2><p class="graf--p">There are many flags that can be used with Spans but the most commonly used flags are:</p><ul><li>SPAN_EXCLUSIVE_EXCLUSIVE</li><li>SPAN_EXCLUSIVE_INCLUSIVE</li><li>SPAN_INCLUSIVE_EXCLUSIVE</li><li>SPAN_INCLUSIVE_INCLUSIVE</li></ul><p class="graf--p">These flags are used to tell the Spans whether or not the Span should include the text that is inserted at the start or the end position. Inclusive means add it to the Span and exclusive means remove it from the Span.</p><p class="graf--p">If you are using an immutable string i.e. if you are not adding other strings with your original string then all the four flags will work the same. But if you are using a mutable string, then the role of these four flags will come into play. Let&#x27;s understand this with the help of an example.</p><p class="graf--p">Here, we are going to insert some text in our original string. So, as discussed earlier, for mutable string, we need to use the <code class="graf--code-inline">SpannableStringBuilder</code>.</p><pre><code class="language-java graf graf--code">val spannableStringBuilder = SpannableStringBuilder("Android")\nspannableStringBuilder.setSpan(\n    ForegroundColorSpan(Color.RED),\n    1, // start\n    4, // end\n    Spannable.SPAN_INCLUSIVE_INCLUSIVE\n)\nspannableStringBuilder.insert(4, "1")\nspannableStringBuilder.insert(1, "1")\ntvMessage.text = spannableStringBuilder</code></pre><p class="graf--p">The corresponding output for all the four flags are shown as below:</p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/span-flag-example-9530cea2d13fe0ec.png alt="Span Flag Example" class=\'graf-image\' />\n\t\t\t\t\t\t\t\t</div ><h2 class="graf--h2">Multiple Spans to the same text</h2><p class="graf--p">You can use the <code class="graf--code-inline">setSpan</code> method as many times as you want on a single text also. For example, if you want to change the color of a text, make it bold and italic at the same time, then you can do this by:</p><pre><code class="language-java graf graf--code">val spannable = SpannableString("You can start learning Android from MindOrks")\nspannable.setSpan(\n    ForegroundColorSpan(Color.RED),\n    36, // start\n    44, // end\n    Spannable.SPAN_EXCLUSIVE_INCLUSIVE\n)\nspannable.setSpan(\n    StyleSpan(Typeface.BOLD_ITALIC),\n    36, // start\n    44, // end\n    Spannable.SPAN_EXCLUSIVE_INCLUSIVE\n)\ntvMessage.text = spannable</code></pre><p class="graf--p">Here, the color of the text is Red and it is bold and italic at the same time. The output of the above code will be:</p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/multiple-spans-example-5ba87ae3b5e79db9.jpg alt="Multiple Spans Example" class=\'graf-image\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">You can use the <code class="graf--code-inline">setSpan</code> method as many times as you want.</p><h2 class="graf--h2">Change the background color of some part of a TextView</h2><p class="graf--p">You can change the background color of some parts of the text in the TextView by using <code class="graf--code-inline">BackgroundColorSpan</code>.</p><pre><code class="language-java graf graf--code">val spannable = SpannableString("You can start learning Android from MindOrks")\nspannable.setSpan(\n    BackgroundColorSpan(Color.RED),\n    36, // start\n    44, // end\n    Spannable.SPAN_EXCLUSIVE_INCLUSIVE\n)\ntvMessage.text = spannable</code></pre><p class="graf--p">Here, we are changing the background to Red. The output of the above code will be:</p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/background-color-span-example-5908b4d7c15a58ce.jpg alt="Background Color Span Example" class=\'graf-image\' />\n\t\t\t\t\t\t\t\t</div ><h2 class="graf--h2">Different font size of the string in the same TextView</h2><p class="graf--p">You can use <code class="graf--code-inline">RelativeSizeSpan</code> to change the size of some parts of the TextView. The change in the size of the text will be relative i.e. with respect to other text in the string.</p><pre><code class="language-java graf graf--code">val spannable = SpannableString("You can start learning Android from MindOrks")\nspannable.setSpan(\n    RelativeSizeSpan(2f),\n    36, // start\n    44, // end\n    Spannable.SPAN_EXCLUSIVE_INCLUSIVE\n)\ntvMessage.text = spannable</code></pre><p class="graf--p">Here, the size of &quot;MindOrks&quot; is <code class="graf--code-inline">2f</code> than other text. The output of the above code will be:</p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/relative-size-span-example-3186649e2ea54a20.jpg alt="Relative Size Span Example" class=\'graf-image\' />\n\t\t\t\t\t\t\t\t</div ><h2 class="graf--h2">Underline a part of the text in TextView</h2><p class="graf--p">You can underline a part of the text by using the <code class="graf--code-inline">UnderlineSpan</code> as below:</p><pre><code class="language-java graf graf--code">val spannable = SpannableString("You can start learning Android from MindOrks")\nspannable.setSpan(\n    UnderlineSpan(),\n    36, // start\n    44, // end\n    Spannable.SPAN_EXCLUSIVE_INCLUSIVE\n)\ntvMessage.text = spannable</code></pre><p class="graf--p">The output of the above code will be:</p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/underline-span-example-47a20f3128fba24c.jpg alt="Underline Span Example" class=\'graf-image\' />\n\t\t\t\t\t\t\t\t</div ><h2 class="graf--h2">Set some part of the TextView Clickable</h2><p class="graf--p">You can set some parts of the TextView clickable using the <code class="graf--code-inline">ClickableSpan</code>. For example:</p><pre><code class="language-java graf graf--code">val spanText = SpannableStringBuilder("MindOrks")\n\nval clickableMindOrks = object : ClickableSpan() {\n    override fun onClick(view: View) {\n        Toast.makeText(view.context, "MindOrks Clicked!", Toast.LENGTH_SHORT).show()\n    }\n}\nspanText.setSpan(\n    clickableMindOrks,\n    0,\n    spanText.length,\n    0\n)\nspanText.setSpan(\n    ForegroundColorSpan(Color.RED),\n    0, // start\n    8, // end\n    Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\n)\ntvMessage.setText(spanText, TextView.BufferType.SPANNABLE)</code></pre><p class="graf--p">Here, on clicking &quot;MindOrks&quot; a toast is displayed. The output of the above code will be:</p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/clickable-span-example-343f9ac58dfa889b.jpg alt="Clickable Span Example" class=\'graf-image\' />\n\t\t\t\t\t\t\t\t</div ><h2 class="graf--h2">Add a Bulleted list in Android</h2><p class="graf--p">With the help of <code class="graf--code-inline">BulletSpan</code>, you can create a bullet list in your application to display some information in a short and simple way.</p><pre><code class="language-java graf graf--code">// function to covert a list into bullet list\nfun convertToBulletList(stringList: List&lt;String&gt;): CharSequence {\n    val spannableStringBuilder = SpannableStringBuilder("Learn Android from\\n")\n    stringList.forEachIndexed { index, text -&gt;\n        val line: CharSequence = text + if (index &lt; stringList.size - 1) "\\n" else ""\n        val spannable: Spannable = SpannableString(line)\n        spannable.setSpan(\n            BulletSpan(15, Color.RED),\n            0,\n            spannable.length,\n            Spanned.SPAN_INCLUSIVE_EXCLUSIVE\n        )\n        spannableStringBuilder.append(spannable)\n    }\n    return spannableStringBuilder\n}\nval androidResourceList = listOf("MindOrks Course", "MindOrks Blog", "MindOrks OpenSource", "MindOrks YouTube")\ntvMessage.text = convertToBulletList(androidResourceList)</code></pre><p class="graf--p">The output of the above code will be:</p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/bullet-span-example-0a880c08173123f5.jpg alt="Bullet Span Example" class=\'graf-image\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">So, in this way, we can use Spans to style the texts present in our application.</p><p class="graf--p">Hope you learned something new today and I am sure that you are going to use these awesome features in your app very soon.</p><p class="graf--p">Do share this blog with other developers to spread the knowledge.</p><p class="graf--p">Keep Learning!</p><p class="graf--p"><b class="graf--bold">Also, Let’s connect on</b> <b class="graf--bold"><span class=""><a class="markup--anchor" target="_blank" href="https://twitter.com/hiii_sumit">Twitter</a></span>,</b> <b class="graf--bold"><span class=""><a class="markup--anchor" target="_blank" href="https://www.linkedin.com/in/mishra3452/">Linkedin</a></span>,</b> <b class="graf--bold"><span class=""><a class="markup--anchor" target="_blank" href="https://github.com/mishra3452">Github</a></span>, and</b> <b class="graf--bold"><span class=""><a class="markup--anchor" target="_blank" href="https://www.facebook.com/mishra3452">Facebook</a></span></b></p>',author:17146,img_url:"/images/banner-spannable-string-text-styling-with-spans-09aed703960d3992.jpg",blog_url:"spannable-string-text-styling-with-spans",likes:0,rank:0,category:1,published_at:"25th September 2020"},author:{id:17146,name:"Sumit Mishra",google_profile_pic:"https://lh3.googleusercontent.com/a-/AOh14GiHP4JrkmlLjuz_uG1g4E0MhTUClSNytqB8o-pxCA=s96-c?sz=300",fb_profile_pic:null,profile_tagline:"Software Development Engineer at MindOrks",fb_profile_url:"https://www.facebook.com/mishra3452",google_plus_profile_url:null,twitter_profile_url:"https://twitter.com/hiii_sumit",github_profile_url:"https://github.com/mishra3452",linkedin_profile_url:"https://www.linkedin.com/in/sumit-mishra-a15499135/"},isFetching:!1,similarBlogs:[{id:341,title:"Best Practices for Using Text in Android",description:"In this blog, we will learn some of the best practices of using texts in Android. This is very important because we know that almost 70% of the application is covered by text. So, the performance of the application majorly depends on the texts present in it. Let's learn how to do that.",author:17146,img_url:"/images/best-practices-for-using-texts-in-android-banner.png",blog_url:"best-practices-for-using-text-in-android",likes:0,rank:0,category:1,published_at:"24th September 2019",score:3.587033748626709}],isSimilarBlogsFetching:!1},loginData:{data:null,isLoggingIn:!1,isLoggingOut:!1,loginState:!1,isForcedLogout:!1,isTokenRefreshed:!1,isRedirectHome:!1,message:""},updatesData:{news:null,inspirations:null,isNewsFetching:!0,isInspirationsFetching:!0},blogEditorData:{blogId:null,blogDetailsFormData:{title:"",description:"",imgUrl:"",blogUrl:"",category:"",categories:[],isWriting:!1,isTitleError:!1,isDescriptionError:!1,isImgUrlError:!1,isBlogUrlError:!1,isCategoryError:!1,isUploadingImage:!1,uploadedImageUrl:null},editorState:null,editorText:null,successMessage:null,errorMessage:null,isSending:!1,isMsgToShow:!1,isPublished:!1,isSubmitted:!1,isDraft:!0,isEditOfExistingBlog:!1,isFetchingBlogCategories:!1,isUploadingImage:!1,uploadedImageUrl:null},myBlogsData:{data:null,isSubmittedBlogsFetching:!0,isDraftBlogsFetching:!0,isPublishedBlogsFetching:!0,successMessage:null,errorMessage:null,isMsgToShow:!1,tabNames:["drafts","submissions","published"],selectedTab:"drafts",isFetchingBlog:!1,isDeletingBlog:!1,openEditorPage:!1},profilePreviewData:{profile:null,blogs:null,isFetchingProfile:!1,isFetchingAuthorBlogs:!1,successMessage:null,errorMessage:null,isMsgToShow:!1,isUserNotRegistered:!1,redirectToMyProfileEdit:!1},profileEditableData:{userId:null,name:null,fbProfilePicUrl:null,googleProfilePicUrl:null,profileFormData:{tagline:"",fbProfileUrl:"",googlePlusProfileUrl:"",twitterProfileUrl:"",githubProfileUrl:"",linkedinProfileUrl:"",isWriting:!1,isTaglineError:!1,isFbProfileUrlError:!1,isGooglePlusProfileUrlError:!1,isTwitterProfileUrlError:!1,isGithubProfileUrlError:!1,isLinkedinProfileUrlError:!1},isSavingProfile:!1,successMessage:null,errorMessage:null,isMsgToShow:!1,redirectToProfilePreview:!1},submitBlogData:{formData:{email:"",name:"",link:"",isWriting:!1,isNameError:!1,isEmailError:!1,isLinkError:!1,dismissMsg:!1},successMessage:null,errorMessage:null,isSubmitting:!1},advertisementsData:{data:{},isLoading:!1},recaptchaData:{verified:!1,successMessage:null,errorMessage:null},blogSearchData:{searches:null,isSearching:!1}}
  </script>
  <script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-91686131-1","auto"),ga("require","cleanUrlTracker"),ga("require","eventTracker"),ga("require","impressionTracker"),ga("require","outboundLinkTracker"),ga("require","urlChangeTracker"),ga("require","maxScrollTracker"),ga("require","mediaQueryTracker"),ga("require","outboundFormTracker"),ga("require","outboundLinkTracker"),ga("require","pageVisibilityTracker"),ga("require","socialWidgetTracker"),ga("require","urlChangeTracker"),ga("send","pageview")
  </script>
  <script defer="defer" src="/assets/autotrack.js" type="text/javascript">
  </script>
  <script src="/assets/highlight.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/vendor-bundle-1.8.6.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/app-bundle-1.8.6.js" type="text/javascript">
  </script>
 </head>
 <body>
  <div id="root">
   <div class="screen app-load-content" data-reactroot="">
    <div class="ui centered grid">
     <div class="row" style="padding:0">
      <div class="ui fixed menu navbar huge borderless grid" style="background-color:#fff;height:60px">
      </div>
     </div>
     <div class="centered computer only row" style="padding:0">
      <div class="ui fixed top menu navbar huge borderless grid header-container" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="right menu">
        <a class="item" href="https://janisharali.com" target="_blank">
         Mentor Ali
        </a>
        <a class="item" href="https://amitshekhar.me" target="_blank">
         Mentor Amit
        </a>
       </div>
      </div>
     </div>
     <div class="tablet only mobile only row" style="padding:0">
      <div class="ui fixed top navbar huge menu borderless" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="item">
       </div>
      </div>
     </div>
    </div>
    <div class="header-height">
    </div>
    <div aria-live="assertive" class="redux-toastr">
     <div>
      <div class="top-left">
      </div>
      <div class="top-right">
      </div>
      <div class="top-center">
      </div>
      <div class="bottom-left">
      </div>
      <div class="bottom-right">
      </div>
      <div class="bottom-center">
      </div>
     </div>
    </div>
    <div class="content-container theme">
     <div class="ui centered one column grid" style="padding-bottom:80px;background-color:#fff">
      <div class="ten wide computer fifteen wide mobile fifteen wide tablet column" style="margin-top:50px">
       <div>
        <div class="blog-page-author">
         <div class="ui small header">
          <img alt="Sumit Mishra" class="ui circular image" src="https://lh3.googleusercontent.com/a-/AOh14GiHP4JrkmlLjuz_uG1g4E0MhTUClSNytqB8o-pxCA=s96-c?sz=300"/>
          <div class="content">
           Sumit Mishra
           <div class="sub header" style="margin-top:5px">
            25th September 2020
           </div>
          </div>
         </div>
        </div>
        <div id="content">
         <article class="template">
          <div class="postContent">
           <div class="notesSource">
            <div class="postField postField--body" id="editor">
             <section class="section--first section--last">
              <div class="section-divider layoutSingleColumn-template">
               <hr class="section-divider"/>
              </div>
              <div class="section-content">
               <div class="section-inner layoutSingleColumn-template">
                <div>
                 <h1 class="graf--h1">
                  Spannable String: Text Styling with Spans
                 </h1>
                 <div class="graf-image graf-caption">
                  <img alt="Banner Spannable String Text Styling With Spans" class="graf-image" src="/images/banner-spannable-string-text-styling-with-spans-09aed703960d3992.jpg"/>
                 </div>
                 <p class="graf--p">
                  Text styling is one of the important aspects when it comes to enhancing the UI of an Android application. In Android, we can change the size, color, weight, style, etc of a text and make the text more attractive and appealing.
                 </p>
                 <p class="graf--p">
                  But think of a situation, when you want different colors for different parts of a TextView. For example, if the text is "Hello Android" and you want to have the color of "Hello" as green and "Android" as red. How can you achieve this? You can make two TextViews and set the textColor to green and red respectively. But it is not a good way of doing this. So, here comes the role of Styling the texts with the help of Spans.
                 </p>
                 <p class="graf--p">
                  In this blog, we are going to learn how to use Spans for styling our text used in our application. We are going to cover the following topics:
                 </p>
                 <ul>
                  <li>
                   What are Spans?
                  </li>
                  <li>
                   Change different colors for different words in a TextView
                  </li>
                  <li>
                   Spannable Flags
                  </li>
                  <li>
                   Change the background color of some part of a TextView
                  </li>
                  <li>
                   Multiple Spans to the same text
                  </li>
                  <li>
                   Different font size of the string in the same TextView
                  </li>
                  <li>
                   Underline a part of the text in TextView
                  </li>
                  <li>
                   Set some part of the TextView Clickable
                  </li>
                  <li>
                   Add a Bulleted list in Android
                  </li>
                 </ul>
                 <h2 class="graf--h2">
                  What are Spans?
                 </h2>
                 <p class="graf--p">
                  Spans are markup objects that are used to style a text either at the character level(for example, changing colors of different words) or at the paragraph level(for example, making a bullet list).
                 </p>
                 <p class="graf--p">
                  In order to style a text with the help of Spans, you can use the following three classes:
                 </p>
                 <ul>
                  <li>
                   <b class="graf--bold">
                    SpannedString:
                   </b>
                   This is used when there is no need to modify the text or the markup after its creation.
                  </li>
                  <li>
                   <b class="graf--bold">
                    SpannableString:
                   </b>
                   This is used when there is no need to modify the text but you need to modify the markup i.e. you need to add some spans to your text.
                  </li>
                  <li>
                   <b class="graf--bold">
                    SpannableStringBuilder:
                   </b>
                   This is used when you need to modify the text as well as the markup.
                  </li>
                 </ul>
                 <p class="graf--p">
                  This is a quick intro about the Spans in Android. Now, let's see some of the use-cases of it. In all of our example, we are going to use the following TextView having id as
                  <code class="graf--code-inline">
                   tvMessage
                  </code>
                  :
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;TextView
    android:id="@+id/tvMessage"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_margin="8dp"
    android:gravity="center"
    android:textColor="@color/black"
    android:textSize="24sp"
    app:layout_constraintBottom_toBottomOf="parent"
    app:layout_constraintLeft_toLeftOf="parent"
    app:layout_constraintRight_toRightOf="parent"
    app:layout_constraintTop_toTopOf="parent"
    tools:text="Hello World!" /&gt;</code></pre>
                 <h2 class="graf--h2">
                  Change different colors for different words in a TextView
                 </h2>
                 <p class="graf--p">
                  There may be situations when you want to have different colors for a different part of the same textview. So, here you can use the
                  <code class="graf--code-inline">
                   ForegroundColorSpan
                  </code>
                  .
                 </p>
                 <pre><code class="language-java graf graf--code">val spannable = SpannableString("You can start learning Android from MindOrks")
spannable.setSpan(
    ForegroundColorSpan(Color.RED),
    36, // start
    44, // end
    Spannable.SPAN_EXCLUSIVE_INCLUSIVE
)
tvMessage.text = spannable</code></pre>
                 <p class="graf--p">
                  Here, we are changing the color of "MindOrks" to Red. The output of the above code will be:
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Foreground Color Span Example" class="graf-image" src="/images/foreground-color-span-example-81d155c8ef6b7d6b.jpg"/>
                 </div>
                 <p class="graf--p">
                  If you look at the code, then you will find that we are using the
                  <code class="graf--code-inline">
                   SpannableString
                  </code>
                  class because we are having a fixed text. Also, we are using the
                  <code class="graf--code-inline">
                   setSpan
                  </code>
                  method to set the foreground color of text starting from the 36th position and ending at the 44th position in the string. Also, we are passing some flags with it i.e. the
                  <code class="graf--code-inline">
                   Spannable.
                  </code>
                  <i class="graf--italic">
                   <code class="graf--code-inline">
                    SPAN_EXCLUSIVE_INCLUSIVE
                   </code>
                   .
                  </i>
                 </p>
                 <p class="graf--p">
                  Let's learn about these flags.
                 </p>
                 <h2 class="graf--h2">
                  Spannable Flags
                 </h2>
                 <p class="graf--p">
                  There are many flags that can be used with Spans but the most commonly used flags are:
                 </p>
                 <ul>
                  <li>
                   SPAN_EXCLUSIVE_EXCLUSIVE
                  </li>
                  <li>
                   SPAN_EXCLUSIVE_INCLUSIVE
                  </li>
                  <li>
                   SPAN_INCLUSIVE_EXCLUSIVE
                  </li>
                  <li>
                   SPAN_INCLUSIVE_INCLUSIVE
                  </li>
                 </ul>
                 <p class="graf--p">
                  These flags are used to tell the Spans whether or not the Span should include the text that is inserted at the start or the end position. Inclusive means add it to the Span and exclusive means remove it from the Span.
                 </p>
                 <p class="graf--p">
                  If you are using an immutable string i.e. if you are not adding other strings with your original string then all the four flags will work the same. But if you are using a mutable string, then the role of these four flags will come into play. Let's understand this with the help of an example.
                 </p>
                 <p class="graf--p">
                  Here, we are going to insert some text in our original string. So, as discussed earlier, for mutable string, we need to use the
                  <code class="graf--code-inline">
                   SpannableStringBuilder
                  </code>
                  .
                 </p>
                 <pre><code class="language-java graf graf--code">val spannableStringBuilder = SpannableStringBuilder("Android")
spannableStringBuilder.setSpan(
    ForegroundColorSpan(Color.RED),
    1, // start
    4, // end
    Spannable.SPAN_INCLUSIVE_INCLUSIVE
)
spannableStringBuilder.insert(4, "1")
spannableStringBuilder.insert(1, "1")
tvMessage.text = spannableStringBuilder</code></pre>
                 <p class="graf--p">
                  The corresponding output for all the four flags are shown as below:
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Span Flag Example" class="graf-image" src="/images/span-flag-example-9530cea2d13fe0ec.png"/>
                 </div>
                 <h2 class="graf--h2">
                  Multiple Spans to the same text
                 </h2>
                 <p class="graf--p">
                  You can use the
                  <code class="graf--code-inline">
                   setSpan
                  </code>
                  method as many times as you want on a single text also. For example, if you want to change the color of a text, make it bold and italic at the same time, then you can do this by:
                 </p>
                 <pre><code class="language-java graf graf--code">val spannable = SpannableString("You can start learning Android from MindOrks")
spannable.setSpan(
    ForegroundColorSpan(Color.RED),
    36, // start
    44, // end
    Spannable.SPAN_EXCLUSIVE_INCLUSIVE
)
spannable.setSpan(
    StyleSpan(Typeface.BOLD_ITALIC),
    36, // start
    44, // end
    Spannable.SPAN_EXCLUSIVE_INCLUSIVE
)
tvMessage.text = spannable</code></pre>
                 <p class="graf--p">
                  Here, the color of the text is Red and it is bold and italic at the same time. The output of the above code will be:
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Multiple Spans Example" class="graf-image" src="/images/multiple-spans-example-5ba87ae3b5e79db9.jpg"/>
                 </div>
                 <p class="graf--p">
                  You can use the
                  <code class="graf--code-inline">
                   setSpan
                  </code>
                  method as many times as you want.
                 </p>
                 <h2 class="graf--h2">
                  Change the background color of some part of a TextView
                 </h2>
                 <p class="graf--p">
                  You can change the background color of some parts of the text in the TextView by using
                  <code class="graf--code-inline">
                   BackgroundColorSpan
                  </code>
                  .
                 </p>
                 <pre><code class="language-java graf graf--code">val spannable = SpannableString("You can start learning Android from MindOrks")
spannable.setSpan(
    BackgroundColorSpan(Color.RED),
    36, // start
    44, // end
    Spannable.SPAN_EXCLUSIVE_INCLUSIVE
)
tvMessage.text = spannable</code></pre>
                 <p class="graf--p">
                  Here, we are changing the background to Red. The output of the above code will be:
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Background Color Span Example" class="graf-image" src="/images/background-color-span-example-5908b4d7c15a58ce.jpg"/>
                 </div>
                 <h2 class="graf--h2">
                  Different font size of the string in the same TextView
                 </h2>
                 <p class="graf--p">
                  You can use
                  <code class="graf--code-inline">
                   RelativeSizeSpan
                  </code>
                  to change the size of some parts of the TextView. The change in the size of the text will be relative i.e. with respect to other text in the string.
                 </p>
                 <pre><code class="language-java graf graf--code">val spannable = SpannableString("You can start learning Android from MindOrks")
spannable.setSpan(
    RelativeSizeSpan(2f),
    36, // start
    44, // end
    Spannable.SPAN_EXCLUSIVE_INCLUSIVE
)
tvMessage.text = spannable</code></pre>
                 <p class="graf--p">
                  Here, the size of "MindOrks" is
                  <code class="graf--code-inline">
                   2f
                  </code>
                  than other text. The output of the above code will be:
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Relative Size Span Example" class="graf-image" src="/images/relative-size-span-example-3186649e2ea54a20.jpg"/>
                 </div>
                 <h2 class="graf--h2">
                  Underline a part of the text in TextView
                 </h2>
                 <p class="graf--p">
                  You can underline a part of the text by using the
                  <code class="graf--code-inline">
                   UnderlineSpan
                  </code>
                  as below:
                 </p>
                 <pre><code class="language-java graf graf--code">val spannable = SpannableString("You can start learning Android from MindOrks")
spannable.setSpan(
    UnderlineSpan(),
    36, // start
    44, // end
    Spannable.SPAN_EXCLUSIVE_INCLUSIVE
)
tvMessage.text = spannable</code></pre>
                 <p class="graf--p">
                  The output of the above code will be:
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Underline Span Example" class="graf-image" src="/images/underline-span-example-47a20f3128fba24c.jpg"/>
                 </div>
                 <h2 class="graf--h2">
                  Set some part of the TextView Clickable
                 </h2>
                 <p class="graf--p">
                  You can set some parts of the TextView clickable using the
                  <code class="graf--code-inline">
                   ClickableSpan
                  </code>
                  . For example:
                 </p>
                 <pre><code class="language-java graf graf--code">val spanText = SpannableStringBuilder("MindOrks")

val clickableMindOrks = object : ClickableSpan() {
    override fun onClick(view: View) {
        Toast.makeText(view.context, "MindOrks Clicked!", Toast.LENGTH_SHORT).show()
    }
}
spanText.setSpan(
    clickableMindOrks,
    0,
    spanText.length,
    0
)
spanText.setSpan(
    ForegroundColorSpan(Color.RED),
    0, // start
    8, // end
    Spannable.SPAN_EXCLUSIVE_EXCLUSIVE
)
tvMessage.setText(spanText, TextView.BufferType.SPANNABLE)</code></pre>
                 <p class="graf--p">
                  Here, on clicking "MindOrks" a toast is displayed. The output of the above code will be:
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Clickable Span Example" class="graf-image" src="/images/clickable-span-example-343f9ac58dfa889b.jpg"/>
                 </div>
                 <h2 class="graf--h2">
                  Add a Bulleted list in Android
                 </h2>
                 <p class="graf--p">
                  With the help of
                  <code class="graf--code-inline">
                   BulletSpan
                  </code>
                  , you can create a bullet list in your application to display some information in a short and simple way.
                 </p>
                 <pre><code class="language-java graf graf--code">// function to covert a list into bullet list
fun convertToBulletList(stringList: List&lt;String&gt;): CharSequence {
    val spannableStringBuilder = SpannableStringBuilder("Learn Android from\n")
    stringList.forEachIndexed { index, text -&gt;
        val line: CharSequence = text + if (index &lt; stringList.size - 1) "\n" else ""
        val spannable: Spannable = SpannableString(line)
        spannable.setSpan(
            BulletSpan(15, Color.RED),
            0,
            spannable.length,
            Spanned.SPAN_INCLUSIVE_EXCLUSIVE
        )
        spannableStringBuilder.append(spannable)
    }
    return spannableStringBuilder
}
val androidResourceList = listOf("MindOrks Course", "MindOrks Blog", "MindOrks OpenSource", "MindOrks YouTube")
tvMessage.text = convertToBulletList(androidResourceList)</code></pre>
                 <p class="graf--p">
                  The output of the above code will be:
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Bullet Span Example" class="graf-image" src="/images/bullet-span-example-0a880c08173123f5.jpg"/>
                 </div>
                 <p class="graf--p">
                  So, in this way, we can use Spans to style the texts present in our application.
                 </p>
                 <p class="graf--p">
                  Hope you learned something new today and I am sure that you are going to use these awesome features in your app very soon.
                 </p>
                 <p class="graf--p">
                  Do share this blog with other developers to spread the knowledge.
                 </p>
                 <p class="graf--p">
                  Keep Learning!
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Also, Let’s connect on
                  </b>
                  <b class="graf--bold">
                   <span class="">
                    <a class="markup--anchor" href="https://twitter.com/hiii_sumit" target="_blank">
                     Twitter
                    </a>
                   </span>
                   ,
                  </b>
                  <b class="graf--bold">
                   <span class="">
                    <a class="markup--anchor" href="https://www.linkedin.com/in/mishra3452/" target="_blank">
                     Linkedin
                    </a>
                   </span>
                   ,
                  </b>
                  <b class="graf--bold">
                   <span class="">
                    <a class="markup--anchor" href="https://github.com/mishra3452" target="_blank">
                     Github
                    </a>
                   </span>
                   , and
                  </b>
                  <b class="graf--bold">
                   <span class="">
                    <a class="markup--anchor" href="https://www.facebook.com/mishra3452" target="_blank">
                     Facebook
                    </a>
                   </span>
                  </b>
                 </p>
                </div>
               </div>
              </div>
             </section>
            </div>
           </div>
          </div>
         </article>
        </div>
       </div>
       <div class="ui divider">
       </div>
      </div>
      <div class="stretched fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui large center aligned header" style="padding-top:20px">
        Recommended for You
       </div>
      </div>
      <div class="fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui centered grid">
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/best-practices-for-using-text-in-android/">
          <img alt="Best Practices for Using Text in Android" class="ui centered image" src="/images/best-practices-for-using-texts-in-android-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Best Practices for Using Text in Android
           </div>
           <div class="meta">
            24th September 2019
           </div>
           <div class="description">
            In this blog, we will learn some of the best practices of using texts in Android. This is very important because we know that almost 70% of the application is covered by text. So, the performance of the application majorly depends on the texts present in it. Let's learn how to do that.
           </div>
          </div>
         </a>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div style="background:#fff">
     <footer class="content-container">
      <div class="ui centered padded grid" style="padding-top:40px;background:linear-gradient(to right,#c4e0e0,#e5f1f1)">
       <h2 class="ui huge icon center aligned header">
        <div class="content">
         Connect With Your Mentors
        </div>
       </h2>
       <div class="centered row">
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Janishar Ali" class="ui medium circular image" src="/assets/ali.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://janisharali.com" target="_blank">
             Janishar Ali
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://janisharali.com" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/janisharali" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Amit Shekhar" class="ui medium circular image" src="/assets/amit.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://amitshekhar.me" target="_blank">
             Amit Shekhar
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://amitshekhar.me" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/amitiitbhu" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="ui divider" style="margin:unset">
      </div>
      <h5 class="ui header" style="padding:16px;margin:unset;color:#555">
       <i aria-hidden="true" class="copyright icon">
       </i>
       <div class="content">
        Copyright 2022, MindOrks Nextgen Private Limited
       </div>
      </h5>
     </footer>
    </div>
   </div>
  </div>
  <script type="text/javascript">
   window.hljs.initHighlightingOnLoad()
  </script>
 </body>
</html>