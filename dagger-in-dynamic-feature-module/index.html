<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>
   Using Dagger in Dynamic Feature Module
  </title>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="minimum-scale=1,initial-scale=1,width=device-width,shrink-to-fit=no" name="viewport"/>
  <link href="https://blog.mindorks.com/dagger-in-dynamic-feature-module" rel="canonical"/>
  <meta content="986249072156-dabps0lf90smluddrk5rkqsdjghk3hd3.apps.googleusercontent.com" name="google-signin-client_id"/>
  <meta content="android, learn android app development, android app development courses, android blogs, android tutorial" name="keywords"/>
  <meta content="Using Dagger in Dynamic Feature Module" property="og:title"/>
  <meta content="website" property="og:type"/>
  <meta content="https://blog.mindorks.com/dagger-in-dynamic-feature-module" property="og:url"/>
  <meta content="/images/dynamic-feature-module-banner-f27f94e8e526888d.png" property="og:image"/>
  <meta content="In this blog, we are going to learn how to use dagger in dynamic feature modules. " property="og:description"/>
  <meta content="Using Dagger in Dynamic Feature Module" property="twitter:title"/>
  <meta content="In this blog, we are going to learn how to use dagger in dynamic feature modules. " name="twitter:description"/>
  <meta content="/images/dynamic-feature-module-banner-f27f94e8e526888d.png" name="twitter:image:src"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="@MindorksNextGen" name="twitter:site"/>
  <meta content="In this blog, we are going to learn how to use dagger in dynamic feature modules. " name="description"/>
  <meta content="1620001391374687" property="fb:app_id"/>
  <link href="/styles/vendor-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link href="/styles/app-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link as="style" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" onload='this.onload=null,this.rel="stylesheet"' rel="preload"/>
  <noscript>
   <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  </noscript>
  <script type="text/javascript">
     </script>
  <script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-91686131-1","auto"),ga("require","cleanUrlTracker"),ga("require","eventTracker"),ga("require","impressionTracker"),ga("require","outboundLinkTracker"),ga("require","urlChangeTracker"),ga("require","maxScrollTracker"),ga("require","mediaQueryTracker"),ga("require","outboundFormTracker"),ga("require","outboundLinkTracker"),ga("require","pageVisibilityTracker"),ga("require","socialWidgetTracker"),ga("require","urlChangeTracker"),ga("send","pageview")
  </script>
  <script defer="defer" src="/assets/autotrack.js" type="text/javascript">
  </script>
  <script src="/assets/highlight.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/vendor-bundle-1.8.6.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/app-bundle-1.8.6.js" type="text/javascript">
  </script>
 </head>
 <body>
  <div id="root">
   <div class="screen app-load-content" data-reactroot="">
    <div class="ui centered grid">
     <div class="row" style="padding:0">
      <div class="ui fixed menu navbar huge borderless grid" style="background-color:#fff;height:60px">
      </div>
     </div>
     <div class="centered computer only row" style="padding:0">
      <div class="ui fixed top menu navbar huge borderless grid header-container" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="right menu">
        <a class="item" href="https://janisharali.com" target="_blank">
         Mentor Ali
        </a>
        <a class="item" href="https://amitshekhar.me" target="_blank">
         Mentor Amit
        </a>
       </div>
      </div>
     </div>
     <div class="tablet only mobile only row" style="padding:0">
      <div class="ui fixed top navbar huge menu borderless" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="item">
       </div>
      </div>
     </div>
    </div>
    <div class="header-height">
    </div>
    <div aria-live="assertive" class="redux-toastr">
     <div>
      <div class="top-left">
      </div>
      <div class="top-right">
      </div>
      <div class="top-center">
      </div>
      <div class="bottom-left">
      </div>
      <div class="bottom-right">
      </div>
      <div class="bottom-center">
      </div>
     </div>
    </div>
    <div class="content-container theme">
     <div class="ui centered one column grid" style="padding-bottom:80px;background-color:#fff">
      <div class="ten wide computer fifteen wide mobile fifteen wide tablet column" style="margin-top:50px">
       <div>
        <div class="blog-page-author">
         <div class="ui small header">
          <img alt="Himanshu Singh" class="ui circular image" src="https://lh3.googleusercontent.com/a-/AOh14Ghy8H-FJrgWB2TcxHCOKWxWEQB4AiklYADGTydu4nE=s96-c?sz=300"/>
          <div class="content">
           Himanshu Singh
           <div class="sub header" style="margin-top:5px">
            18th May 2020
           </div>
          </div>
         </div>
        </div>
        <div id="content">
         <article class="template">
          <div class="postContent">
           <div class="notesSource">
            <div class="postField postField--body" id="editor">
             <section class="section--first section--last">
              <div class="section-divider layoutSingleColumn-template">
               <hr class="section-divider"/>
              </div>
              <div class="section-content">
               <div class="section-inner layoutSingleColumn-template">
                <div>
                 <h1 class="graf--h1">
                  Using Dagger in Dynamic Feature Module
                 </h1>
                 <div class="graf-image graf-caption">
                  <img alt="Using Dagger in Dynamic Feature Module" class="graf-image" src="/images/dynamic-feature-module-banner-f27f94e8e526888d.png"/>
                 </div>
                 <p class="graf--p">
                  In this blog, we are going to learn how we can setup Dagger in our project having Dynamic Features Module.
                 </p>
                 <p class="graf--p">
                  As we have already understood that how we can setup dagger in our Android project which has multi-module architecture in our last blog.
                 </p>
                 <p class="graf--p">
                  <a class="markup--anchor" href="https://blog.mindorks.com/dagger-in-a-multi-module-project" target="_blank">
                   To check out how we can use Dagger in Multi-Module Architecture, Click here
                  </a>
                  .
                 </p>
                 <p class="graf--p">
                  We will be extending our project which we worked on in our last project.
                 </p>
                 <p class="graf--p">
                  But before that, we need to learn how to create and setup a dynamic-feature module.
                  <a class="markup--anchor" href="https://blog.mindorks.com/how-to-build-a-modular-android-app-architecture" target="_blank">
                   To learn about how to do it, click here.
                  </a>
                 </p>
                 <p class="graf--p">
                  First, let's get a brief,
                 </p>
                 <h4 class="graf--h3">
                  What are Dynamic features modules?
                 </h4>
                 <p class="graf--p">
                  It is like any other module in android but only to be separated from the module. It is shipped with app bundles and a user can download or delete the module based on its requirement.
                 </p>
                 <p class="graf--p">
                  So, now let's get started.
                 </p>
                 <h4 class="graf--h3">
                  Step 01.
                 </h4>
                 <p class="graf--p">
                  First I will create a dynamic-feature module in the project from,
                 </p>
                 <blockquote class="graf--blockquote">
                  <b class="graf--bold">
                   File-&gt; New -&gt; New Module and select Dynamic Feature Module
                  </b>
                 </blockquote>
                 <p class="graf--p">
                  and we will name it as
                  <i class="graf--italic">
                   <code class="graf--code-inline">
                    featureThree
                   </code>
                   .
                  </i>
                 </p>
                 <h4 class="graf--h3">
                  Step 02.
                 </h4>
                 <p class="graf--p">
                  Then we will add,
                 </p>
                 <pre><code class="language-java graf graf--code">android {
    ....
    dynamicFeatures = [":featureThree"]
}</code></pre>
                 <p class="graf--p">
                  in the app's build.gradle file.
                 </p>
                 <p class="graf--p">
                  In featureThree's build.gradle we will add the dependency for the app, base, and dagger, like,
                 </p>
                 <pre><code class="language-java graf graf--code">implementation project(':app')
implementation project(':base')
implementation "com.google.dagger:dagger:2.27"
kapt "com.google.dagger:dagger-compiler:2.27"</code></pre>
                 <p class="graf--p">
                  and to support
                  <b class="graf--bold">
                   kapt
                  </b>
                  in featureThree will use the plugin,
                 </p>
                 <pre><code class="language-java graf graf--code">apply plugin: 'kotlin-kapt'</code></pre>
                 <p class="graf--p">
                  The setup for dependency is completed.
                 </p>
                 <h4 class="graf--h3">
                  Step 03.
                 </h4>
                 <p class="graf--p">
                  Now we will create an activity called FeatureThreeActivity in the featureThree module.
                 </p>
                 <p class="graf--p">
                  Now, in the featureThree module, we will create
                  <code class="graf--code-inline">
                   di
                  </code>
                  package and we will create 3 sub-packages of
                  <b class="graf--bold">
                   component
                  </b>
                  ,
                  <b class="graf--bold">
                   module
                  </b>
                  , and
                  <b class="graf--bold">
                   scope
                  </b>
                  .
                 </p>
                 <p class="graf--p">
                  In the component package, will we add FeatureThreeComponent and update the code like,
                 </p>
                 <pre><code class="language-java graf graf--code">@FeatureThreeScope
@Component(
    dependencies = [BaseComponent::class],
    modules = [FeatureThreeModule::class]
)
interface FeatureThreeComponent {

    fun inject(activity: FeatureThreeActivity)

}</code></pre>
                 <p class="graf--p">
                  <a class="markup--anchor" href="https://blog.mindorks.com/dagger-in-a-multi-module-project" target="_blank">
                   To check about base features like BaseComponent and BaseModule, click here.
                  </a>
                 </p>
                 <p class="graf--p">
                  Now, we will create FeatureThreeModule in the module package,
                 </p>
                 <pre><code class="language-java graf graf--code">@Module
class FeatureThreeModule {
}</code></pre>
                 <p class="graf--p">
                  and finally, we will create scope.kt file in scopes package and update the code as,
                 </p>
                 <pre><code class="language-java graf graf--code">@Scope
@Retention(AnnotationRetention.SOURCE)
annotation class FeatureThreeScope</code></pre>
                 <h4 class="graf--h3">
                  Step 04.
                 </h4>
                 <p class="graf--p">
                  Now, finally, we will update the FeatureThreeActivity's code to implement the FeatureThreeComponent like,
                 </p>
                 <pre><code class="language-java graf graf--code">override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    setContentView(R.layout.activity_feature_three)

    DaggerFeatureThreeComponent
        .builder()
        .baseComponent(InjectUtils.provideBaseComponent(applicationContext))
        .build()
        .inject(this)

}</code></pre>
                 <p class="graf--p">
                  We are not creating a new instance of BaseComponent here, but rather passing it from the base module.
                  <a class="markup--anchor" href="https://blog.mindorks.com/dagger-in-a-multi-module-project" target="_blank">
                   To know more click here.
                  </a>
                 </p>
                 <h4 class="graf--h3">
                  Step 05.
                 </h4>
                 <p class="graf--p">
                  Now we will inject the DatabaseService and NetworkService in FeatureThreeActivity and update the activity's code like,
                 </p>
                 <pre><code class="language-java graf graf--code">class FeatureThreeActivity : AppCompatActivity() {

    @Inject
    lateinit var databaseService: DatabaseService

    @Inject
    lateinit var networkService: NetworkService

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_feature_three)

        DaggerFeatureThreeComponent
            .builder()
            .baseComponent(InjectUtils.provideBaseComponent(applicationContext))
            .build()
            .inject(this)

        Log.d("DaggerSample_Feature3", databaseService.toString())
    }
}</code></pre>
                 <p class="graf--p">
                  We are done setting up the dagger for this module.
                 </p>
                 <p class="graf--p">
                  Now, we need to test if implementing dagger in dynamic-feature module was a success or not.
                 </p>
                 <p class="graf--p">
                  So, we will check that the injection of DatabaseService and NetworkService in MainActivity and FeatureThreeActivity is getting the same memory allocation.
                 </p>
                 <p class="graf--p">
                  We will check, with the Log statement which we have added in the activity files.
                 </p>
                 <p class="graf--p">
                  Now, We will update the code in onCreate() of MainActivity, to open the FeatureThreeActivity using,
                 </p>
                 <pre><code class="language-java graf graf--code">val intent = Intent().setClassName(this, "com.mindorks.sample.feature.three.FeatureThreeActivity")
startActivity(intent)</code></pre>
                 <p class="graf--p">
                  Now, if we run the app, we get,
                 </p>
                 <pre><code class="language-java graf graf--code">DaggerSample_Main: com.mindorks.dagger.multi.module.base.data.DatabaseService@63d3f1
DaggerSample_Feature3: com.mindorks.dagger.multi.module.base.data.DatabaseService@63d3f1</code></pre>
                 <p class="graf--p">
                  So, here you can see that we are getting the same memory allocation for database service across different modules.
                 </p>
                 <p class="graf--p">
                  So, this is how we can use the dagger in dynamic feature modules.
                 </p>
                 <p class="graf--p">
                  <a class="markup--anchor" href="https://github.com/MindorksOpenSource/Dagger-Dynamic-Feature-Module" target="_blank">
                   You can find the complete project here.
                  </a>
                 </p>
                 <p class="graf--p">
                  Happy learning.
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Team MindOrks :)
                  </b>
                 </p>
                </div>
               </div>
              </div>
             </section>
            </div>
           </div>
          </div>
         </article>
        </div>
       </div>
       <div class="ui divider">
       </div>
      </div>
      <div class="stretched fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui large center aligned header" style="padding-top:20px">
        Recommended for You
       </div>
      </div>
      <div class="fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui centered grid">
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/dagger-in-a-multi-module-project/">
          <img alt="Using Dagger in a Multi-Module Project" class="ui centered image" src="/images/using-dagger-multi-module-banner-a470a36d17d373f4.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Using Dagger in a Multi-Module Project
           </div>
           <div class="meta">
            17th May 2020
           </div>
           <div class="description">
            In this blog, we are going to learn how we can use dagger in a multi-module architecture in our project for better dependency management.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/exploring-edge-to-edge-feature-in-android-q/">
          <img alt="Exploring Edge to Edge Feature in Android Q" class="ui centered image" src="/images/edge-to-edge.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Exploring Edge to Edge Feature in Android Q
           </div>
           <div class="meta">
            23rd May 2019
           </div>
           <div class="description">
            In this blog, we will talk about how to use the Edge to Edge feature of Android Q This will help the user to explore the complete width and height of the device.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/why-do-we-use-the-dependency-injection-framework-in-android/">
          <img alt="Why do we use the Dependency Injection Framework like Dagger in Android?" class="ui centered image" src="/images/dagger-banner-why.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Why do we use the Dependency Injection Framework like Dagger in Android?
           </div>
           <div class="meta">
            28th April 2020
           </div>
           <div class="description">
            In this blog, we are going to see why do we use the Dependency Injection Framework like Dagger in Android. We will also see how can we give our configuration to the framework.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/dagger-hilt-tutorial/">
          <img alt="Dagger Hilt Tutorial - Step by Step Guide" class="ui centered image" src="/images/banner-dagger-hilt-d089fd89370529ef.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Dagger Hilt Tutorial - Step by Step Guide
           </div>
           <div class="meta">
            15th June 2020
           </div>
           <div class="description">
            In this blog, we are going to see how to work with Dagger-Hilt, the new dependency injection library based on top of Dagger with a step by step guide. Dagger-Hilt is recommended by Google for dependency injection in Android.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/pushing-notifications-in-android-using-fcm/">
          <img alt="Push Notifications in Android Using FCM" class="ui centered image" src="/images/fcm.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Push Notifications in Android Using FCM
           </div>
           <div class="meta">
            15th May 2019
           </div>
           <div class="description">
            In this blog, we will learn using Push Notifications in Android Device using FCM. We will learn how to integrate the push notification feature in the app from scratch and handle the message as well.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/using-custom-and-downloadable-fonts-in-android/">
          <img alt="Using Custom and Downloadable Fonts in Android" class="ui centered image" src="/images/downloadable-font-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Using Custom and Downloadable Fonts in Android
           </div>
           <div class="meta">
            16th May 2019
           </div>
           <div class="description">
            In this blog, we will learn how to use custom and downloadable fonts in android that was introduced in Android 8.0. Now there is no need of writing some piece of code for using the fonts. Also you can choose from any of the thousands of fonts on Google Fonts and use them in your app.
           </div>
          </div>
         </a>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div style="background:#fff">
     <footer class="content-container">
      <div class="ui centered padded grid" style="padding-top:40px;background:linear-gradient(to right,#c4e0e0,#e5f1f1)">
       <h2 class="ui huge icon center aligned header">
        <div class="content">
         Connect With Your Mentors
        </div>
       </h2>
       <div class="centered row">
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Janishar Ali" class="ui medium circular image" src="/assets/ali.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://janisharali.com" target="_blank">
             Janishar Ali
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://janisharali.com" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/janisharali" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Amit Shekhar" class="ui medium circular image" src="/assets/amit.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://amitshekhar.me" target="_blank">
             Amit Shekhar
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://amitshekhar.me" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/amitiitbhu" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="ui divider" style="margin:unset">
      </div>
      <h5 class="ui header" style="padding:16px;margin:unset;color:#555">
       <i aria-hidden="true" class="copyright icon">
       </i>
       <div class="content">
        Copyright 2022, MindOrks Nextgen Private Limited
       </div>
      </h5>
     </footer>
    </div>
   </div>
  </div>
  <script type="text/javascript">
   window.hljs.initHighlightingOnLoad()
  </script>
 </body>
</html>