<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>
   Implementing Android Jetpack Preferences
  </title>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="minimum-scale=1,initial-scale=1,width=device-width,shrink-to-fit=no" name="viewport"/>
  <link href="https://blog.mindorks.com/implementing-android-jetpack-preferences" rel="canonical"/>
  <meta content="986249072156-dabps0lf90smluddrk5rkqsdjghk3hd3.apps.googleusercontent.com" name="google-signin-client_id"/>
  <meta content="android, learn android app development, android app development courses, android blogs, android tutorial" name="keywords"/>
  <meta content="Implementing Android Jetpack Preferences" property="og:title"/>
  <meta content="website" property="og:type"/>
  <meta content="https://blog.mindorks.com/implementing-android-jetpack-preferences" property="og:url"/>
  <meta content="/images/implementing-android-jetpack-preferences-banner.png" property="og:image"/>
  <meta content="In this blog, we will learn how to implement Preferences in Android. Preferences are a part of Android Jetpack and are used to implement in-app settings. So, by using Preferences, you can change the behavior of your app without changing the system's settings. Let's get started." property="og:description"/>
  <meta content="Implementing Android Jetpack Preferences" property="twitter:title"/>
  <meta content="In this blog, we will learn how to implement Preferences in Android. Preferences are a part of Android Jetpack and are used to implement in-app settings. So, by using Preferences, you can change the behavior of your app without changing the system's settings. Let's get started." name="twitter:description"/>
  <meta content="/images/implementing-android-jetpack-preferences-banner.png" name="twitter:image:src"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="@MindorksNextGen" name="twitter:site"/>
  <meta content="In this blog, we will learn how to implement Preferences in Android. Preferences are a part of Android Jetpack and are used to implement in-app settings. So, by using Preferences, you can change the behavior of your app without changing the system's settings. Let's get started." name="description"/>
  <meta content="1620001391374687" property="fb:app_id"/>
  <link href="/styles/vendor-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link href="/styles/app-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link as="style" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" onload='this.onload=null,this.rel="stylesheet"' rel="preload"/>
  <noscript>
   <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  </noscript>
  <script type="text/javascript">
     </script>
  <script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-91686131-1","auto"),ga("require","cleanUrlTracker"),ga("require","eventTracker"),ga("require","impressionTracker"),ga("require","outboundLinkTracker"),ga("require","urlChangeTracker"),ga("require","maxScrollTracker"),ga("require","mediaQueryTracker"),ga("require","outboundFormTracker"),ga("require","outboundLinkTracker"),ga("require","pageVisibilityTracker"),ga("require","socialWidgetTracker"),ga("require","urlChangeTracker"),ga("send","pageview")
  </script>
  <script defer="defer" src="/assets/autotrack.js" type="text/javascript">
  </script>
  <script src="/assets/highlight.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/vendor-bundle-1.8.6.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/app-bundle-1.8.6.js" type="text/javascript">
  </script>
 </head>
 <body>
  <div id="root">
   <div class="screen app-load-content" data-reactroot="">
    <div class="ui centered grid">
     <div class="row" style="padding:0">
      <div class="ui fixed menu navbar huge borderless grid" style="background-color:#fff;height:60px">
      </div>
     </div>
     <div class="centered computer only row" style="padding:0">
      <div class="ui fixed top menu navbar huge borderless grid header-container" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="right menu">
        <a class="item" href="https://janisharali.com" target="_blank">
         Mentor Ali
        </a>
        <a class="item" href="https://amitshekhar.me" target="_blank">
         Mentor Amit
        </a>
       </div>
      </div>
     </div>
     <div class="tablet only mobile only row" style="padding:0">
      <div class="ui fixed top navbar huge menu borderless" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="item">
       </div>
      </div>
     </div>
    </div>
    <div class="header-height">
    </div>
    <div aria-live="assertive" class="redux-toastr">
     <div>
      <div class="top-left">
      </div>
      <div class="top-right">
      </div>
      <div class="top-center">
      </div>
      <div class="bottom-left">
      </div>
      <div class="bottom-right">
      </div>
      <div class="bottom-center">
      </div>
     </div>
    </div>
    <div class="content-container theme">
     <div class="ui centered one column grid" style="padding-bottom:80px;background-color:#fff">
      <div class="ten wide computer fifteen wide mobile fifteen wide tablet column" style="margin-top:50px">
       <div>
        <div class="blog-page-author">
         <div class="ui small header">
          <img alt="Admin MindOrks" class="ui circular image" src="https://s3.ap-south-1.amazonaws.com/mindorks/website/mindorks-admin.png"/>
          <div class="content">
           Admin MindOrks
           <div class="sub header" style="margin-top:5px">
            29th June 2019
           </div>
          </div>
         </div>
        </div>
        <div id="content">
         <article class="template">
          <div class="postContent">
           <div class="notesSource">
            <div class="postField postField--body" id="editor">
             <section class="section--first section--last">
              <div class="section-divider layoutSingleColumn-template">
               <hr class="section-divider"/>
              </div>
              <div class="section-content">
               <div class="section-inner layoutSingleColumn-template">
                <div>
                 <h1 class="graf--h1">
                  Implementing Android Jetpack Preferences
                 </h1>
                 <div class="graf-image graf-caption">
                  <img alt="undefined" class="graf-image" src="/images/implementing-android-jetpack-preferences-banner.png"/>
                 </div>
                 <p class="graf--p">
                  Implementing a Settings screen in your application is the best way to provide a better user experience by giving users various options to use the application according to the way they want. For example, your application can let the user select the tone for the notification received from the application. One of the live examples of these preferences in android can be the YouTube application, where you can change the theme of the application by just selecting the theme option available in the app. You can find this Settings option in almost each and every application that you use. So, to go with the trend, you should learn how to implement the Preferences in your application by using the best possible and easiest way.
                 </p>
                 <p class="graf--p">
                  If you are looking for
                  <a class="markup--anchor" href="https://blog.mindorks.com/jetpack-datastore-preferences" target="_blank">
                   "Jetpack DataStore Preferences". Check here.
                  </a>
                 </p>
                 <p class="graf--p">
                  If you have used the Preferences in your application then you must be thinking that how is this task easy? Yeah, using Preferences is very easy because we can use the
                  <a class="markup--anchor" href="https://developer.android.com/jetpack/androidx/releases/preference" target="_blank">
                   Preference Library
                  </a>
                  which is a part of
                  <a class="markup--anchor" href="https://developer.android.com/jetpack" target="_blank">
                   Android Jetpack
                  </a>
                  . This will reduce your time of writing the code for the same. So, without wasting any time, letâ€™s get started.
                 </p>
                 <h3 class="graf--h3">
                  Before getting started
                 </h3>
                 <p class="graf--p">
                  Before getting started with Preferences, we should know the ways that can be used to use Preferences in our application. There are two ways of using the preferences in our application. They are:
                 </p>
                 <ol type="1">
                  <li>
                   <b class="graf--bold">
                    The XML way:
                   </b>
                   Here, you declare all your preferences in an XML file and use this file in your activity.
                  </li>
                  <li>
                   <b class="graf--bold">
                    The coding way:
                   </b>
                   Apart from XML, you can also write codes for the Preferences in your activity. If you want to build an Android app without writing so many lines of code, then you shouldnâ€™t use this.
                  </li>
                 </ol>
                 <p class="graf--p">
                  After knowing the ways of using Preferences in our application, the next thing that should be taken care of is the library that is used for using the Preferences. Add the below line in your app-level
                  <b class="graf--bold">
                   <i class="graf--italic">
                    build.gradle
                   </i>
                  </b>
                  file to use the Preferences Library:
                 </p>
                 <pre><code class="language-java graf graf--code">implementation 'androidx.preference:preference:1.1.0-alpha05'</code></pre>
                 <p class="graf--p">
                  Also, in order to add the Preferences in your app, you have to add an XML directory. In this directory, you can write the XML code for your preferences. So, in the
                  <b class="graf--bold">
                   res
                  </b>
                  directory create an XML directory.
                 </p>
                 <p class="graf--p">
                  You can add a Preference Screen by adding the
                  <b class="graf--bold">
                   PreferenceScreen
                  </b>
                  tag in your XML file. Inside this tag, you can add your preferences using the
                  <b class="graf--bold">
                   Preference
                  </b>
                  tag. So, the basic structure of the Preference XML file will be:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;PreferenceScreen&gt;
    &lt;Preference&gt;
        &lt;!-- preference1 --&gt;
    &lt;/Preference&gt;
    &lt;Preference&gt;
        &lt;!-- preference2 --&gt;
    &lt;/Preference&gt;
&lt;/PreferenceScreen&gt;</code></pre>
                 <p class="graf--p">
                  Also, you can use the
                  <b class="graf--bold">
                   PreferenceCategory
                  </b>
                  tag to put your preferences in a category. For example, you can group together the UI Preferences in one group and the sounds Preferences in the other category.
                 </p>
                 <p class="graf--p">
                  After having the basic idea of the Preferences, letâ€™s learn all the Preferences one by one.
                 </p>
                 <h3 class="graf--h3">
                  Basic Preferences
                 </h3>
                 <p class="graf--p">
                  You can perform a number of tasks using the Settings option of your application, but the easiest and the most common ones are
                  <b class="graf--bold">
                   Simple Text
                  </b>
                  ,
                  <b class="graf--bold">
                   Simple Text with some summary
                  </b>
                  ,
                  <b class="graf--bold">
                   Simple Text with icon
                  </b>
                  and
                  <b class="graf--bold">
                   Simple Text with some styles or text decoration
                  </b>
                  .
                 </p>
                 <p class="graf--p">
                  In order to use a simple text Preference, add the below code in your XML file under
                  <b class="graf--bold">
                   PreferenceScreen:
                  </b>
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;Preference
    app:key="preference_example"
    app:title="@string/title_preference"
    app:summary="@string/summary_preference"/&gt;</code></pre>
                 <p class="graf--p">
                  Here,
                  <b class="graf--bold">
                   app:key
                  </b>
                  is used to uniquely identify a preference. By doing so, you can easily retrieve the value of a particular Preference.
                  <b class="graf--bold">
                   app:title
                  </b>
                  is used to add the title of the Preference and
                  <b class="graf--bold">
                   app:summary
                  </b>
                  is used to provide some summary to the preferences. This is generally used to describe what the preference is all about.
                 </p>
                 <p class="graf--p">
                  To style your simple text Preference you can add styles in your string and use the same string in your XML. For example, add the below string in your
                  <b class="graf--bold">
                   <i class="graf--italic">
                    res/values/strings.xml
                   </i>
                  </b>
                  :
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;string name="title_preference"&gt;&lt;b&gt;You&lt;/b&gt; &lt;i&gt;are&lt;/i&gt; &lt;u&gt;awesome&lt;/u&gt;&lt;/string&gt;
&lt;string name="summary_preference"&gt;You can use some styles in your preferences by using the described way.&lt;/string&gt;</code></pre>
                 <p class="graf--p">
                  After that, all you need to do is just add the title and summary in your XML file:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;Preference
    app:key="stylized_example"
    app:title="@string/title_preference"
    app:summary="@string/summary_preference"/&gt;</code></pre>
                 <p class="graf--p">
                  You can add some icons to your Preferences by using the
                  <b class="graf--bold">
                   app:icon
                  </b>
                  attribute.
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;Preference
    app:key="icon_example"
    app:title="@string/title_preference"
    app:summary="@string/summary_preference"
    app:icon="@drawable/ic_android"/&gt;</code></pre>
                 <p class="graf--p">
                  If the texts used in your Preferences are not fitting in one line due to screen size or larger font size or any other reason, you can use the
                  <b class="graf--bold">
                   app:singleLineTitle
                  </b>
                  attribute to display only that amount of text that is fitted in the screen.
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;Preference
    app:key="single_line_title"
    app:title="@string/title_single_line_title_preference"
    app:summary="@string/summary_single_line_title_preference"
    app:singleLineTitle="true"/&gt;</code></pre>
                 <p class="graf--p">
                  So, the following is the output of all the above Basic Preferences:
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="undefined" class="graf-image" src="/images/implementing-android-jetpack-preferences-basic-preferences.png"/>
                 </div>
                 <p class="graf--p">
                  In order to use Preferences by writing codes, you can use the below code:
                 </p>
                 <pre><code class="language-java graf graf--code">val simplePreference = Preference(context).apply {
    key = "simple_preference" //to set the KEY
    title = "Titie of Preference" //to set the TITLE
    summary = "Summary of Preference" //to set the SUMMARY
    icon = ContextCompat.getDrawable(context, R.drawable.ic_android) //to add ICON
    isSingleLineTitle = true //to set one line title
}</code></pre>
                 <h3 class="graf--h3">
                  Dialogs
                 </h3>
                 <p class="graf--p">
                  You can use
                  <b class="graf--bold">
                   Dialogs
                  </b>
                  in your Preferences. That dialog can be of any type i.e. you can use some Alert dialog or an EditText dialog or some dialog having single or multi-select list Preference.
                 </p>
                 <p class="graf--p">
                  In order to use an EditText Preference, just use the EditTextPrefernce tag and the best part of it is, by using the
                  <b class="graf--bold">
                   app:useSimpleSummaryProvider
                  </b>
                  attribute, you can set your summary to the text entered in the EditText.
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;EditTextPreference
    app:key="edittext_example"
    app:title="@string/title_preference"
    app:useSimpleSummaryProvider="true"
    app:dialogTitle="@string/dialog_title_preference"/&gt;</code></pre>
                 <p class="graf--p">
                  If you donâ€™t want to use the XML file, then you can use the EditText preference by using the below code:
                 </p>
                 <pre><code class="language-java graf graf--code">val editTextPreference = EditTextPreference(context).apply {
    key = "edittext_example"
    ...
}</code></pre>
                 <div class="graf-image graf-caption">
                  <img alt="undefined" class="graf-image" src="/images/implementing-android-jetpack-preferences-edittext-preferences.png"/>
                 </div>
                 <p class="graf--p">
                  To use a
                  <b class="graf--bold">
                   ListPrefernce
                  </b>
                  , use the ListPrefernce tag and put your entries in the list by using the
                  <b class="graf--bold">
                   app:entries
                  </b>
                  tag. Also, you define the values that are associated with each entry of the list by using the
                  <b class="graf--bold">
                   app:entryValues
                  </b>
                  . So, add the below entries and values in your
                  <b class="graf--bold">
                   <i class="graf--italic">
                    res/arrays.xml
                   </i>
                  </b>
                  file:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;string-array name="entries"&gt;
    &lt;item&gt;First Value&lt;/item&gt;
    &lt;item&gt;Second Value&lt;/item&gt;
    &lt;item&gt;Third Value&lt;/item&gt;
&lt;/string-array&gt;

&lt;string-array name="entry_values"&gt;
    &lt;item&gt;1&lt;/item&gt;
    &lt;item&gt;2&lt;/item&gt;
    &lt;item&gt;3&lt;/item&gt;
&lt;/string-array&gt;</code></pre>
                 <p class="graf--p">
                  After adding entries, use the
                  <b class="graf--bold">
                   ListPreference
                  </b>
                  tag to add the List Preference:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;ListPreference
    app:key="list_example"
    app:title="@string/title_preference"
    app:useSimpleSummaryProvider="true"
    app:entries="@array/entries"
    app:entryValues="@array/entry_values"
    app:dialogTitle="@string/dialog_title_preference"/&gt;</code></pre>
                 <p class="graf--p">
                  To use a ListPreference programmatically, you can use the below code:
                 </p>
                 <pre><code class="language-java graf graf--code">val listPreference = ListPreference(context).apply {
    key = "list_example"
    title = "@string/title_preference"
    entries = arrayOf("First Value", "Second Value", "Third Value")
    entryValues = arrayOf("1", "2", "3")
}</code></pre>
                 <div class="graf-image graf-caption">
                  <img alt="undefined" class="graf-image" src="/images/implementing-android-jetpack-preferences-list-preferences.png"/>
                 </div>
                 <p class="graf--p">
                  Finally, if you want to use the Multi-Select ListPreference, you can use the
                  <b class="graf--bold">
                   MultiSelectListPreference
                  </b>
                  tag like below:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;MultiSelectListPreference
    app:key="multi_select_list"
    app:title="@string/title_preference"
    app:summary="@string/summary_preference"
    app:entries="@array/entries"
    app:entryValues="@array/entry_values"
    app:dialogTitle="@string/dialog_title_preference"/&gt;</code></pre>
                 <p class="graf--p">
                  To use the MultiSelectListPreference programmatically, you can use the below code:
                 </p>
                 <pre><code class="language-java graf graf--code">val multiSelectListPreference = MultiSelectListPreference(context).apply {
    key = "multi_select_list"
    title = "@string/title_preference"
    summary = "@string/summary_preference"
    entries = arrayOf("First Value", "Second Value", "Third Value")
    entryValues = arrayOf("1", "2", "3")
}</code></pre>
                 <div class="graf-image graf-caption">
                  <img alt="undefined" class="graf-image" src="/images/implementing-android-jetpack-preferences-multiselect-preferences.png"/>
                 </div>
                 <h3 class="graf--h3">
                  Widgets
                 </h3>
                 <p class="graf--p">
                  You can use various widgets such as
                  <b class="graf--bold">
                   Checkbox
                  </b>
                  ,
                  <b class="graf--bold">
                   Switch
                  </b>
                  ,
                  <b class="graf--bold">
                   Dropdown,
                  </b>
                  and
                  <b class="graf--bold">
                   Seekbar
                  </b>
                  in our Preference.
                 </p>
                 <p class="graf--p">
                  To use a Checkbox in your Preference, you can use the CheckBoxPreference in your XML file:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;CheckBoxPreference
    app:key="checkbox_example"
    app:title="@string/title_preference"
    app:summary="@string/summary_preference"/&gt;</code></pre>
                 <p class="graf--p">
                  To implement programmatically, you can use:
                 </p>
                 <pre><code class="language-java graf graf--code">val checkBoxPreference = CheckBoxPreference(context).apply {
    key = "checkbox_example"
    ...//other attributes
}</code></pre>
                 <p class="graf--p">
                  To use the Switch Preference, you can use the
                  <b class="graf--bold">
                   SwitchPreferenceCompat
                  </b>
                  in your XML file:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;SwitchPreferenceCompat
    app:key="switch_example"
    app:title="@string/title_preference"
    app:summary="@string/summary_preference"/&gt;</code></pre>
                 <p class="graf--p">
                  To implement programmatically, you can use:
                 </p>
                 <pre><code class="language-java graf graf--code">val switchPreference = SwitchPreferenceCompat(context).apply {
    key = "checkbox_example"
    ...//other attributes
}</code></pre>
                 <p class="graf--p">
                  You can use the Drop Down Preference in the same way as used for the ListPreference, but here, you have to use the
                  <b class="graf--bold">
                   DropDownPreference
                  </b>
                  tag:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;DropDownPreference
    app:key="dropdown_example"
    app:title="@string/title_preference"
    app:useSimpleSummaryProvider="true"
    app:entries="@array/entries"
    app:entryValues="@array/entry_values"/&gt;</code></pre>
                 <p class="graf--p">
                  To implement Drop Down programmatically, you can use:
                 </p>
                 <pre><code class="language-java graf graf--code">val dropDownPreference = DropDownPreference(context).apply {
    key = "dropdown_example"
    title = "@string/title_preference"
    ...//entries and entries values same as ListPrefernces
}</code></pre>
                 <p class="graf--p">
                  To use a Seek bar Preference, you can use the SeekBarPrefernce tag in your XML file:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;SeekBarPreference
    app:key="seekbar_example"
    app:title="@string/title_preference"
    app:defaultValue="20"/&gt;</code></pre>
                 <p class="graf--p">
                  The app:defaultValue is used to set the default value of the SeekBar out of 100. Also, you can change the maximum value i.e. instead of 100, you can set your maximum value by using
                  <b class="graf--bold">
                   app:max
                  </b>
                  attribute.
                 </p>
                 <p class="graf--p">
                  To use the SeekBar programmatically, use the below code:
                 </p>
                 <pre><code class="language-java graf graf--code">val seekBarPreference = SeekBarPreference(context).apply {
    key = "seekbar_example"
    title = "@string/title_preference"
    setDefaultValue(20)
}</code></pre>
                 <p class="graf--p">
                  Following is the example of Widgets used as Preferences:
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="undefined" class="graf-image" src="/images/implementing-android-jetpack-preferences-widget-preferences.png"/>
                 </div>
                 <h3 class="graf--h3">
                  Expandable Preferences
                 </h3>
                 <p class="graf--p">
                  Sometimes, we just need not show all the preferences present in a category. So, instead of showing all the Preferences, just show some or none of them and if the user clicks on the Expandable Preference, then the Preference will be expanded and you will see the whole Preference list.
                 </p>
                 <p class="graf--p">
                  So, to use an Expandable Preference, all you need to do is just add the
                  <b class="graf--bold">
                   app:initialExpandedChildrenCount
                  </b>
                  attribute in your PreferenceCategory and set the value to the number of Preferences that you want to show when the Preference is not expanded.
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;PreferenceScreen
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:android="http://schemas.android.com/apk/res/android"&gt;

    &lt;PreferenceCategory
        app:key="advanced"
        app:title="Learning Preferences"
        app:initialExpandedChildrenCount="1"&gt;

        &lt;Preference
            app:key="expandable_example"
            app:title="Hello I am Simple text"
            app:summary="I am the preference that will be showed when the preference is not expanded"/&gt;

        &lt;Preference
            app:title="MindOrks"
            app:summary="Click me to open the MindOrks website"&gt;

            &lt;intent android:action="android.intent.action.VIEW"
                    android:data="https://mindorks.com/"/&gt;

        &lt;/Preference&gt;

        &lt;SwitchPreferenceCompat
            app:key="parent"
            app:title="I am Switch"
            app:summary="You can turn me on/off i.e. you can toggle me!"/&gt;
        
    &lt;/PreferenceCategory&gt;

&lt;/PreferenceScreen&gt;</code></pre>
                 <div class="graf-image graf-caption">
                  <img alt="Implementing Android Jetpack Preferences Expandable preferences" class="graf-image" src="/images/implementing-android-jetpack-preferences-expandable-preferences.png"/>
                 </div>
                 <h3 class="graf--h3">
                  Using Preferences in our Project
                 </h3>
                 <p class="graf--p">
                  After looking at various types of Preferences that can be used in Settings, letâ€™s look at how we can display this on our Activity or simply letâ€™s look at how to connect these XML files with our Activity.
                 </p>
                 <p class="graf--p">
                  To display your Preferenceâ€™s XML file, all you need to do is just use the
                  <b class="graf--bold">
                   setPreferencesFromResource()
                  </b>
                  . For example:
                 </p>
                 <pre><code class="language-java graf graf--code">class PreferencesExample : PreferenceFragmentCompat() {
    override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {
        setPreferencesFromResource(R.xml.mainfile, rootKey)
    }
}</code></pre>
                 <p class="graf--p">
                  So, letâ€™s look at one example.
                 </p>
                 <p class="graf--p">
                  Create a project in Android Studio and add the dependency of the Preferences Library in your app level
                  <b class="graf--bold">
                   <i class="graf--italic">
                    build.gradle
                   </i>
                  </b>
                  file.
                 </p>
                 <p class="graf--p">
                  After adding the dependency, add the below code for the
                  <b class="graf--bold">
                   <i class="graf--italic">
                    activity_main.xml
                   </i>
                  </b>
                  file:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"&gt;
    &lt;FrameLayout
        android:id="@+id/preferences"
        android:layout_width="match_parent"
        android:layout_height="match_parent"/&gt;
&lt;/LinearLayout&gt;</code></pre>
                 <p class="graf--p">
                  Now in the
                  <b class="graf--bold">
                   <i class="graf--italic">
                    res/xml
                   </i>
                  </b>
                  directory, create an XML file named
                  <b class="graf--bold">
                   <i class="graf--italic">
                    mainfile.xml
                   </i>
                  </b>
                  and add the below code:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;PreferenceScreen
    xmlns:app="http://schemas.android.com/apk/res-auto"&gt;

    &lt;Preference
        app:title="Basic Preferences"
        app:summary="Here you will find some of the Basic Preferences"
        app:fragment="com.example.androidx.preference.sample.MainActivity$BasicPreferences"/&gt;

    &lt;Preference
        app:title="Widget Preferences"
        app:summary="Here you will find some of the Widget Preferences"
        app:fragment="com.example.androidx.preference.sample.MainActivity$WidgetPreferences"/&gt;

    &lt;Preference
        app:title="Dialog Preferences"
        app:summary="Here you will find some of the Dialog Preferences"
        app:fragment="com.example.androidx.preference.sample.MainActivity$DialogPreferences"/&gt;

    &lt;Preference
        app:title="@string/advanced_attributes"
        app:summary="Here you will find Expandable Preferences"
        app:fragment="com.example.androidx.preference.sample.MainActivity$ExpandablePreferences"/&gt;

&lt;/PreferenceScreen&gt;</code></pre>
                 <p class="graf--p">
                  The above file is used to link various Preferences with the help of basic simple text Preferences.
                 </p>
                 <p class="graf--p">
                  Now in the same res/xml directory, add four more files for
                  <b class="graf--bold">
                   Basic Preference
                  </b>
                  (name:
                  <i class="graf--italic">
                   basic_preferences.xml
                  </i>
                  ),
                  <b class="graf--bold">
                   Widgets Preferences
                  </b>
                  (name:
                  <i class="graf--italic">
                   widgets.xml
                  </i>
                  ),
                  <b class="graf--bold">
                   Dialog Preferences
                  </b>
                  (name:
                  <i class="graf--italic">
                   dialogs.xml
                  </i>
                  ) and for
                  <b class="graf--bold">
                   Expandable Preferences
                  </b>
                  (name:
                  <i class="graf--italic">
                   expandable.xml
                  </i>
                  ). Add the codes of the respective preferences that we have learned in the blog. For example, the code for the
                  <b class="graf--bold">
                   <i class="graf--italic">
                    basic_preferences.xml
                   </i>
                  </b>
                  looks like:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;PreferenceScreen
    xmlns:app="http://schemas.android.com/apk/res-auto"&gt;

    &lt;PreferenceCategory
        app:title="Learning Preferences"&gt;

        &lt;Preference
            app:key="preference"
            app:title="Simple Text Heading"
            app:summary="Here is my description. Read for more information"/&gt;

        &lt;Preference
            app:key="stylized"
            app:title="@string/title_stylish_preference"
            app:summary="@string/summary_stylish_preference"/&gt;

        &lt;Preference
            app:key="icon"
            app:title="I am using Icon"
            app:summary="You can use the icons stored in the Drawable directory"
            app:icon="@drawable/ic_android"/&gt;

        &lt;Preference
            app:key="single_line_title"
            app:title="Hi! I am a very big title. Even you can't imagin how bif I am "
            app:summary="Here only one line is used for the Title. But in the summary more than one lines are used"
            app:singleLineTitle="true" /&gt;
    &lt;/PreferenceCategory&gt;

&lt;/PreferenceScreen&gt;</code></pre>
                 <p class="graf--p">
                  After adding the XML codes for the rest of the Preference files, add the below code for the
                  <b class="graf--bold">
                   <i class="graf--italic">
                    MainActivity.kt
                   </i>
                  </b>
                  file:
                 </p>
                 <pre><code class="language-java graf graf--code">private const val TITLE_TAG = "preferencesActivityTitle"

class MainActivity : AppCompatActivity(),
        PreferenceFragmentCompat.OnPreferenceStartFragmentCallback {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        if (savedInstanceState == null) {
            supportFragmentManager
                    .beginTransaction()
                    .replace(R.id.preferences, PreferencesExample())
                    .commit()
        } else {
            title = savedInstanceState.getCharSequence(TITLE_TAG)
        }
        supportFragmentManager.addOnBackStackChangedListener {
            if (supportFragmentManager.backStackEntryCount == 0) {
                setTitle(R.string.title)
            }
        }
        supportActionBar?.setDisplayHomeAsUpEnabled(true)
    }

    override fun onSaveInstanceState(outState: Bundle) {
        super.onSaveInstanceState(outState)
        // Save current activity title so we can set it again after a configuration change
        outState.putCharSequence(TITLE_TAG, title)
    }

    override fun onSupportNavigateUp(): Boolean {
        if (supportFragmentManager.popBackStackImmediate()) {
            return true
        }
        return super.onSupportNavigateUp()
    }

    override fun onPreferenceStartFragment(
            caller: PreferenceFragmentCompat,
            pref: Preference
    ): Boolean {
        // Instantiate the new Fragment
        val args = pref.extras
        val fragment = supportFragmentManager.fragmentFactory.instantiate(
                classLoader,
                pref.fragment
        ).apply {
            arguments = args
            setTargetFragment(caller, 0)
        }
        // Replace the existing Fragment with the new Fragment
        supportFragmentManager.beginTransaction()
                .replace(R.id.preferences, fragment)
                .addToBackStack(null)
                .commit()
        title = pref.title
        return true
    }

    /**
     * The mainfile preference fragment that displays preferences that link to the other preference
     * fragments below.
     */
    class PreferencesExample : PreferenceFragmentCompat() {
        override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {
            setPreferencesFromResource(R.xml.mainfile, rootKey)
        }
    }

    /**
     * A preference fragment that demonstrates commonly used preference attributes.
     */
    class BasicPreferences : PreferenceFragmentCompat() {
        override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {
            setPreferencesFromResource(R.xml.basic_preferences, rootKey)
        }
    }

    /**
     * A preference fragment that demonstrates preferences which contain dynamic widgets.
     */
    class WidgetPreferences : PreferenceFragmentCompat() {
        override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {
            setPreferencesFromResource(R.xml.widgets, rootKey)
        }
    }

    /**
     * A preference fragment that demonstrates preferences that launch a dialog when tapped.
     */
    class DialogPreferences : PreferenceFragmentCompat() {
        override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {
            setPreferencesFromResource(R.xml.dialogs, rootKey)
        }
    }

    /**
     * A preference fragment that demonstrates more expandable attributes and functionality.
     */
    class ExpandablePreferences : PreferenceFragmentCompat() {
        override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {
            setPreferencesFromResource(R.xml.expandable, rootKey)
        }
    }
}</code></pre>
                 <p class="graf--p">
                  Finally, run your application on your mobile phone. You can use these Preference settings in your application.
                 </p>
                 <h3 class="graf--h3">
                  Conclusion
                 </h3>
                 <p class="graf--p">
                  In this blog, we learned how to use the Preferences in our Application. Preferences are the part of Android Jetpack and are used to apply some settings preferences to our application that helps in better user experience.
                 </p>
                 <p class="graf--p">
                  Thatâ€™s it for this blog. Keep Learning :)
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Team MindOrks!
                  </b>
                 </p>
                </div>
               </div>
              </div>
             </section>
            </div>
           </div>
          </div>
         </article>
        </div>
       </div>
       <div class="ui divider">
       </div>
      </div>
      <div class="stretched fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui large center aligned header" style="padding-top:20px">
        Recommended for You
       </div>
      </div>
      <div class="fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui centered grid">
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/implementing-preferences-settings-screen-in-android/">
          <img alt="Implementing Preferences Settings Screen in Android" class="ui centered image" src="/images/implementing-preferences-settings-in-android-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Implementing Preferences Settings Screen in Android
           </div>
           <div class="meta">
            9th June 2019
           </div>
           <div class="description">
            In this blog, we will learn how to implement the Preferences Settings Screen in Android. Settings screen are used to change the functionality and behavior of a particular application without changing the system settings. For example, you can change the background of a particular application by using the Settings feature.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/what-is-android-jetpack-and-why-should-we-use-it/">
          <img alt="What is Android Jetpack and why should we use it?" class="ui centered image" src="/images/android-jetpack.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            What is Android Jetpack and why should we use it?
           </div>
           <div class="meta">
            4th January 2019
           </div>
           <div class="description">
            What is Android Jetpack and why should we use it? Benefits of Android Jetpack. Build high quality, robust apps using the Android Jetpack. Android Jetpack is a collection of Android software components which helps us in building great Android apps.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/using-jetpack-compose-to-build-ui-in-android/">
          <img alt="Using Jetpack Compose to build UI in Android" class="ui centered image" src="/images/banner_jetpack.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Using Jetpack Compose to build UI in Android
           </div>
           <div class="meta">
            25th October 2019
           </div>
           <div class="description">
            In this blog, we will build and learn how to Use Jetpack Compose to build UI in Android. We will learn how to setup and work with it. We will also discuss how to make few other components as well
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/jetpack-navigation-component-in-android/">
          <img alt="Using Jetpack Navigation Component in Android" class="ui centered image" src="/images/using-jetpack-navigation-component-in-android-banner-925bdeb7f7ee09f0.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Using Jetpack Navigation Component in Android
           </div>
           <div class="meta">
            21st May 2020
           </div>
           <div class="description">
            In this blog, we are going to learn how to integrate the navigation component, how to see the complete navigation graph of our application, and how to pass arguments safely in Android.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/getting-started-with-camerax/">
          <img alt="Getting Started With CameraX Jetpack Support Library" class="ui centered image" src="/images/camerax-jetpack-support-library.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Getting Started With CameraX Jetpack Support Library
           </div>
           <div class="meta">
            11th May 2019
           </div>
           <div class="description">
            In this blog, you will learn how to use camera-x support library to build your next generation camera app.In this app we will be building a Camera app from scratch.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/state-management-in-jetpack-compose/">
          <img alt="State Management in Jetpack Compose" class="ui centered image" src="/images/state-management-compose-android-min.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            State Management in Jetpack Compose
           </div>
           <div class="meta">
            2nd May 2020
           </div>
           <div class="description">
            In this blog, we are going to learn how to manage state in Jetpack Compose. We will also see different ways to handle state with examples.
           </div>
          </div>
         </a>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div style="background:#fff">
     <footer class="content-container">
      <div class="ui centered padded grid" style="padding-top:40px;background:linear-gradient(to right,#c4e0e0,#e5f1f1)">
       <h2 class="ui huge icon center aligned header">
        <div class="content">
         Connect With Your Mentors
        </div>
       </h2>
       <div class="centered row">
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Janishar Ali" class="ui medium circular image" src="/assets/ali.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://janisharali.com" target="_blank">
             Janishar Ali
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://janisharali.com" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/janisharali" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Amit Shekhar" class="ui medium circular image" src="/assets/amit.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://amitshekhar.me" target="_blank">
             Amit Shekhar
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://amitshekhar.me" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/amitiitbhu" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="ui divider" style="margin:unset">
      </div>
      <h5 class="ui header" style="padding:16px;margin:unset;color:#555">
       <i aria-hidden="true" class="copyright icon">
       </i>
       <div class="content">
        Copyright 2022, MindOrks Nextgen Private Limited
       </div>
      </h5>
     </footer>
    </div>
   </div>
  </div>
  <script type="text/javascript">
   window.hljs.initHighlightingOnLoad()
  </script>
 </body>
</html>