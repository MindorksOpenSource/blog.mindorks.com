<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>
   Using Constraint layout in Jetpack Compose
  </title>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="minimum-scale=1,initial-scale=1,width=device-width,shrink-to-fit=no" name="viewport"/>
  <link href="https://blog.mindorks.com/constraint-layout-in-jetpack-compose" rel="canonical"/>
  <meta content="986249072156-dabps0lf90smluddrk5rkqsdjghk3hd3.apps.googleusercontent.com" name="google-signin-client_id"/>
  <meta content="android, learn android app development, android app development courses, android blogs, android tutorial" name="keywords"/>
  <meta content="Using Constraint layout in Jetpack Compose" property="og:title"/>
  <meta content="website" property="og:type"/>
  <meta content="https://blog.mindorks.com/constraint-layout-in-jetpack-compose" property="og:url"/>
  <meta content="/images/constraint-layout-compose-bannerr.png" property="og:image"/>
  <meta content="In this blog, we are going to learn how to use constraint layout in Jetpack Compose to design our UI." property="og:description"/>
  <meta content="Using Constraint layout in Jetpack Compose" property="twitter:title"/>
  <meta content="In this blog, we are going to learn how to use constraint layout in Jetpack Compose to design our UI." name="twitter:description"/>
  <meta content="/images/constraint-layout-compose-bannerr.png" name="twitter:image:src"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="@MindorksNextGen" name="twitter:site"/>
  <meta content="In this blog, we are going to learn how to use constraint layout in Jetpack Compose to design our UI." name="description"/>
  <meta content="1620001391374687" property="fb:app_id"/>
  <link href="/styles/vendor-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link href="/styles/app-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link as="style" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" onload='this.onload=null,this.rel="stylesheet"' rel="preload"/>
  <noscript>
   <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  </noscript>
  <script type="text/javascript">
   window.__PRELOADED_STATE__={toastr:{toastrs:[],confirm:null},blogData:{data:{},latestBlogs:null,isFetching:!0,isFetchingLatestBlogs:!1,currentCategory:"",categories:[]},contactData:{formData:{email:"",name:"",phone:"",message:"",isWriting:!1,isNameError:!1,isEmailError:!1,isPhoneError:!1,isMessageError:!1,dismissMsg:!1},successMessage:null,errorMessage:null,isSending:!1},communityData:{formData:{email:"",isEmailError:!1,isWriting:!1,isSending:!1,dismissMsg:!1},successMessage:null,errorMessage:null},blogPageData:{blogId:440,data:{id:440,title:"Using Constraint layout in Jetpack Compose",description:"In this blog, we are going to learn how to use constraint layout in Jetpack Compose to design our UI.",text:'<h1 class="graf--h1">Using ConstraintLayout in Jetpack Compose</h1> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/constraint-layout-compose-bannerr.png class=\'graf-image\' alt=\'Using Constraint layout in Jetpack Compose\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">Till now we might have worked with ConstraintLayout in our android projects. But in this blog, we are going to talk about how we can use ConstrainLayout in Jetpack Compose.</p><p class="graf--p">In this blog, we are going to discuss,</p><ul><li>What is ConstraintLayout?</li><li>How we can use ConstraintLayout in our project?</li></ul><h4 class="graf--h3">What is ConstraintLayout?</h4><p class="graf--p">ConstraintLayout is a ViewGroup that position its children based on relative constraint between different views inside it or the parent itself.</p><p class="graf--p">ConstraintLayout helps us to design responsive UI for our screen and reduces nesting of views by keeping a flat structure. This also improves the performance of the layout as well as it reduces the number of nested views in it.</p><h4 class="graf--h3">How we can use ConstraintLayouts in our project?</h4><p class="graf--p">In this project, we are going to build,</p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/splash-sample-compose.png\n class=\'graf-image\' alt=\'Using Constraint layout in Jetpack Compose\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">Here, we have an image, and two text views as well. And we are going to align all of these using ConstraintLayout.</p><blockquote class="graf--blockquote">We are going to use dev10 version for this project.</blockquote><p class="graf--p"><a class="markup--anchor" target="_blank" href="https://github.com/MindorksOpenSource/Jetpack-Compose-WhatsApp-Clone">You can get the complete project here.</a></p><p class="graf--p"><a class="markup--anchor" target="_blank" href="https://blog.mindorks.com/using-jetpack-compose-to-build-ui-in-android">And to get started in Jetpack Compose click here.</a></p><h4 class="graf--h3">Step 1.</h4><p class="graf--p">First, let&#x27;s design a container that will hold our ConstraintLayout and its children. Here we will use <i class="graf--italic">Scaffold </i>for this purpose.</p><pre><code class="language-java graf graf--code">Scaffold(\n    scaffoldState = scaffoldState,\n    bodyContent = {\n      \n    }\n)</code></pre><p class="graf--p">Here in the <code class="graf--code-inline">bodyContent</code> we are going to add our code for ConstraintLayout.</p><h4 class="graf--h3">Step 2.</h4><p class="graf--p">A ConstraintLayout in Compose is similar to a ConstraintLayout from the classic Android View System but here it is a composable function. We can design a simple layout in ConstrainLayout like,</p><pre><code class="language-java graf graf--code">@Composable fun MyConstraintLayoutView(){\n    ConstraintLayout(constraintSet = ConstraintSet {}) {\n        Text("Hey Mindorks")\n    }\n}</code></pre><p class="graf--p">Here, ConstraintLayout is the container  which will have the,</p><ul><li><b class="graf--bold">ConstraintSet</b>: ConstraintSet the set of constraints that we will use on views to align it with other views.</li><li><b class="graf--bold">Children</b>: The other composable which will help us to design the views.</li></ul><p class="graf--p">Now, let&#x27;s design our <code class="graf--code-inline">SplashView</code> as the above design.</p><p class="graf--p">We will declare the ConstraintLayout, and we are going to declare the ConstraintSet inside which we are going to declare out constraints as well like,</p><pre><code class="language-java graf graf--code">Scaffold(\n    scaffoldState = scaffoldState,\n    bodyContent = {\n        ConstraintLayout(ConstraintSet {\n\n            val surface = tag(SURFACE_TAG)\n            val textFrom = tag(TEXT_FROM_TAG)\n            val textCompany = tag(TEXT_COMPANY_TAG)\n            val imageLogo = tag(IMAGE_LOGO_TAG)\n        }\n        )\n    }\n)</code></pre><p class="graf--p">Here, the <b class="graf--bold"><code class="graf--code-inline">tag()</code></b> have constant values which are,</p><pre><code class="language-java graf graf--code">private const val SURFACE_TAG = "surface"\nprivate const val TEXT_FROM_TAG = "textFrom"\nprivate const val TEXT_COMPANY_TAG = "textCompany"\nprivate const val IMAGE_LOGO_TAG = "imageLogo"</code></pre><p class="graf--p">Now, we will add the variables using a tag which is of type, </p><pre><code class="language-java graf graf--code">ConstrainedLayoutReference</code></pre><p class="graf--p">It helps us to reference the widgets that we will be creating which corresponds to the ConstraintLayout children with a specific tag, which can be used to define the constraints to be imposed on those children.</p><blockquote class="graf--blockquote"><code class="graf--code-inline">tag</code> can be considered as <code class="graf--code-inline">findViewById</code>.</blockquote><p class="graf--p">Now, we are going to set constraints to these 4 layout references.</p><p class="graf--p">Here, the surface is like the background which has to align to the top, bottom, right, and left of the parent. So to add the constraint for it we will use,</p><pre><code class="language-java graf graf--code">surface.apply {\n    left constrainTo parent.left\n    top constrainTo parent.top\n    right constrainTo parent.right\n    bottom constrainTo parent.bottom\n}</code></pre><p class="graf--p">Here<b class="graf--bold">, </b>we constrained the <code class="graf--code-inline">surface</code> to the <code class="graf--code-inline">parent&#x27;s</code> left, right, bottom, top.</p><p class="graf--p">Left here in the direction of children and we use <code class="graf--code-inline">constrainTo</code> to set the required constraints to it by mapping to the other view.</p> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/explaied-constraint.png class=\'graf-image\' alt=\'Using Constraint layout in Jetpack Compose\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">Here, from the image, consider that the square is the parent and circle is the surface. Then, the left of the circle is constrained to the left of the parent and similarly for all other respective sides. This is what,</p><pre><code class="language-java graf graf--code"> left constrainTo parent.left </code></pre><p class="graf--p">means in ConstraintLayout as well when we constraint view&#x27;s left to the left of parent.</p><p class="graf--p">Similarly, we want the <code class="graf--code-inline">imageLogo</code> to be constrained to center with the width and height to be wrapped. For that, we will use,</p><pre><code class="language-java graf graf--code">imageLogo.apply {\n    left constrainTo parent.left\n    top constrainTo parent.top\n    right constrainTo parent.right\n    bottom constrainTo parent.bottom\n    width to wrap\n    height to wrap\n}</code></pre><p class="graf--p">Here<b class="graf--bold">, </b>we constrained the <code class="graf--code-inline">imageLogo</code> to the parent&#x27;s left, right, bottom, top. We also see that we have set the width and height to <code class="graf--code-inline">wrap</code>.</p><p class="graf--p">Now, for <code class="graf--code-inline">textCompany</code> we want it constrained to be at the bottom of the screen and <code class="graf--code-inline">textFrom</code> to be constrained to <code class="graf--code-inline">textCompany</code>.</p><p class="graf--p">So, <code class="graf--code-inline">textCompany</code> and <code class="graf--code-inline">textFrom</code> will look like,</p><pre><code class="language-java graf graf--code">textCompany.apply {\n    bottom constrainTo parent.bottom\n    right constrainTo parent.right\n    left constrainTo parent.left\n}\ntextFrom.apply {\n    bottom constrainTo textCompany.top\n    right constrainTo textCompany.right\n    left constrainTo textCompany.left\n}</code></pre><p class="graf--p">Here<b class="graf--bold">, </b><code class="graf--code-inline">textCompany</code> is constrained to bottom, right, and left of parent and <code class="graf--code-inline">textFrom</code> is constrained to top, right, and left of textCompany.</p><p class="graf--p">Now, since we are done adding the constraints, the complete code will look like,</p><pre><code class="language-java graf graf--code">Scaffold(\n    scaffoldState = scaffoldState,\n    bodyContent = {\n        ConstraintLayout(ConstraintSet {\n\n            val surface = tag(SURFACE_TAG)\n            val textFrom = tag(TEXT_FROM_TAG)\n            val textCompany = tag(TEXT_COMPANY_TAG)\n            val imageLogo = tag(IMAGE_LOGO_TAG)\n\n            surface.apply {\n                left constrainTo parent.left\n                top constrainTo parent.top\n                right constrainTo parent.right\n                bottom constrainTo parent.bottom\n            }\n            imageLogo.apply {\n                left constrainTo parent.left\n                top constrainTo parent.top\n                right constrainTo parent.right\n                bottom constrainTo parent.bottom\n                width to wrap\n                height to wrap\n            }\n            textCompany.apply {\n                bottom constrainTo parent.bottom\n                right constrainTo parent.right\n                left constrainTo parent.left\n            }\n            textFrom.apply {\n                bottom constrainTo textCompany.top\n                right constrainTo textCompany.right\n                left constrainTo textCompany.left\n            }\n\n        }) {\n          //our views\n        }\n    })</code></pre><p class="graf--p"> Let us start designing the views and add these constraints to it. </p><p class="graf--p">We would need 4 views, one for surface, one image view, and two textViews.</p><p class="graf--p">So, let&#x27;s start us by designing a view for the surface. We will create a container Box like,</p><pre><code class="language-java graf graf--code">Box(\n    modifier = Modifier.fillMaxSize() +\n            Modifier.drawBackground(colorLightGreen()) +\n            Modifier.tag(SURFACE_TAG)\n)</code></pre><p class="graf--p">Here, we added a <code class="graf--code-inline">modifier</code> to it fill the <code class="graf--code-inline">maxWidth</code> and <code class="graf--code-inline">maxHeight</code> available to it. It will add a green color background using <code class="graf--code-inline">drawBackground()</code> and at last to implement the constraint we added above, we use <code class="graf--code-inline">Modifier.tag()</code> with the SURFACE_TAG we defined above.</p><p class="graf--p">By using a <code class="graf--code-inline">tag()</code> we will implement the constraint to Box which we added above. This will implement a background of green color with full width and height.</p><p class="graf--p">Now, for other views as well, we will add the <code class="graf--code-inline">constraints</code> using <code class="graf--code-inline">Modified.tag()</code> and the views will be constrained to that position. To design the rest of the views we will write using,</p><pre><code class="language-java graf graf--code">Text(\n    text = "from",\n    modifier = Modifier.tag(TEXT_FROM_TAG) + Modifier.padding(bottom = _8dp),\n    color = Color.DarkGray\n)\nText(\n    text = "FACEBOOK",\n    style = TextStyle(\n        fontSize = _20sp,\n        fontFamily = FontFamily.SansSerif,\n        fontStyle = FontStyle.Normal\n    ),\n    modifier = Modifier.tag(TEXT_COMPANY_TAG) + Modifier.padding(bottom = _16dp),\n    color = colorGreen()\n)\n\nImageLoader.load(\n    imageUrl = R.drawable.ic_whatsapp,\n    modifier = Modifier.tag(IMAGE_LOGO_TAG)\n) {}</code></pre><p class="graf--p">Here, we have added tags to all three views and they now have implemented the constraints we have defined earlier. <code class="graf--code-inline">ImageLoader.Load() </code>is a composable function which helps us loading an image and the code looks like,</p><pre><code class="language-java graf graf--code">@Composable\nfun load(@DrawableRes imageUrl: Int, modifier: Modifier, onClick: (Boolean) -&gt; Unit) {\n\n    val vectorAsset = loadVectorResource(imageUrl)\n    vectorAsset.resource.resource?.let {\n        Clickable(onClick = {\n            onClick(true)\n        }) {\n            Image(\n                asset = it,\n                modifier = modifier,\n                contentScale = ContentScale.Fit\n\n            )\n        }\n    }\n}</code></pre><p class="graf--p">Now, if we run the app setting this view we will get our desired output.</p><h4 class="graf--h3">Conclusion</h4><p class="graf--p">In Jetpack Compose we still use the ConstraintLayout same as how we use it in XML by constraining it to the views and parent for creating the layout.</p><p class="graf--p"><span class=""><a class="markup--anchor" target="_blank" href="https://github.com/MindorksOpenSource/Jetpack-Compose-WhatsApp-Clone">You can get the complete project here.</a></span></p><p class="graf--p">Happy learning.</p><p class="graf--p"><b class="graf--bold">Team MindOrks :)</b></p>',author:9959,img_url:"/images/constraint-layout-compose-bannerr.png",blog_url:"constraint-layout-in-jetpack-compose",likes:0,rank:0,category:1,published_at:"11th May 2020"},author:{id:9959,name:"Himanshu Singh",google_profile_pic:"https://lh3.googleusercontent.com/a-/AOh14Ghy8H-FJrgWB2TcxHCOKWxWEQB4AiklYADGTydu4nE=s96-c?sz=300",fb_profile_pic:null,profile_tagline:null,fb_profile_url:"https://www.facebook.com/scorpiey",google_plus_profile_url:null,twitter_profile_url:"https://twitter.com/hi_man_shoe",github_profile_url:"https://github.com/hi-manshu",linkedin_profile_url:"https://www.linkedin.com/in/himanshoe-singh/"},isFetching:!1,similarBlogs:[{id:367,title:"Using Jetpack Compose to build UI in Android",description:"In this blog, we will build and learn how to Use Jetpack Compose to build UI in Android. We will learn how to setup and work with it. We will also discuss how to make few other components as well",author:9959,img_url:"/images/banner_jetpack.png",blog_url:"using-jetpack-compose-to-build-ui-in-android",likes:0,rank:0,category:1,published_at:"25th October 2019",score:4.316653251647949},{id:432,title:"State Management in Jetpack Compose",description:"In this blog, we are going to learn how to manage state in Jetpack Compose. We will also see different ways to handle state with examples.",author:9959,img_url:"/images/state-management-compose-android-min.jpg",blog_url:"state-management-in-jetpack-compose",likes:0,rank:0,category:1,published_at:"2nd May 2020",score:3.9975550174713135},{id:510,title:"Jetpack Compose Tutorial - Step by Step Guide",description:"In this tutorial, we are going to learn about the Jetpack Compose, a modern toolkit for building native UI. We will go through this tutorial to learn Jetpack Compose for Android by example.",author:14897,img_url:"/images/banner-jetpack-compose-tutorial-713779506dbc7754.jpg",blog_url:"jetpack-compose-tutorial",likes:0,rank:0,category:1,published_at:"5th November 2020",score:3.9975550174713135},{id:511,title:"Pagination in Jetpack Compose",description:"In this blog, we will learn how to build pagination using the paging library in Jetpack Compose. We will learn how to load data from API and show it in the paginated list.",author:9959,img_url:"/images/jetpack-compose-pagination-banner-b806521cd4f325b6.jpg",blog_url:"pagination-in-jetpack-compose",likes:0,rank:0,category:1,published_at:"26th November 2020",score:3.9975550174713135},{id:512,title:"Jetpack Compose: Navigation",description:"In this blog, we will learn how to navigate between different composable using Jetpack Navigation.",author:17146,img_url:"/images/banner-jetpack-compose-navigation-657edc7b323cafdf.png",blog_url:"jetpack-compose-navigation",likes:0,rank:0,category:1,published_at:"4th December 2020",score:3.9975550174713135},{id:279,title:"Using Coordinator Layout in Android",description:"In this blog, we will learn how to use Coordinator Layout in Android. Coordinator Layout is super-powered FrameLayout that is used to handle the physical transactions or animations between various views present in a particular Activity.  ",author:17146,img_url:"/images/using-coordinator-layout-in-android-banner-505158840fd196b5.jpg",blog_url:"using-coordinator-layout-in-android",likes:0,rank:0,category:1,published_at:"18th June 2019",score:2.474057197570801}],isSimilarBlogsFetching:!1},loginData:{data:null,isLoggingIn:!1,isLoggingOut:!1,loginState:!1,isForcedLogout:!1,isTokenRefreshed:!1,isRedirectHome:!1,message:""},updatesData:{news:null,inspirations:null,isNewsFetching:!0,isInspirationsFetching:!0},blogEditorData:{blogId:null,blogDetailsFormData:{title:"",description:"",imgUrl:"",blogUrl:"",category:"",categories:[],isWriting:!1,isTitleError:!1,isDescriptionError:!1,isImgUrlError:!1,isBlogUrlError:!1,isCategoryError:!1,isUploadingImage:!1,uploadedImageUrl:null},editorState:null,editorText:null,successMessage:null,errorMessage:null,isSending:!1,isMsgToShow:!1,isPublished:!1,isSubmitted:!1,isDraft:!0,isEditOfExistingBlog:!1,isFetchingBlogCategories:!1,isUploadingImage:!1,uploadedImageUrl:null},myBlogsData:{data:null,isSubmittedBlogsFetching:!0,isDraftBlogsFetching:!0,isPublishedBlogsFetching:!0,successMessage:null,errorMessage:null,isMsgToShow:!1,tabNames:["drafts","submissions","published"],selectedTab:"drafts",isFetchingBlog:!1,isDeletingBlog:!1,openEditorPage:!1},profilePreviewData:{profile:null,blogs:null,isFetchingProfile:!1,isFetchingAuthorBlogs:!1,successMessage:null,errorMessage:null,isMsgToShow:!1,isUserNotRegistered:!1,redirectToMyProfileEdit:!1},profileEditableData:{userId:null,name:null,fbProfilePicUrl:null,googleProfilePicUrl:null,profileFormData:{tagline:"",fbProfileUrl:"",googlePlusProfileUrl:"",twitterProfileUrl:"",githubProfileUrl:"",linkedinProfileUrl:"",isWriting:!1,isTaglineError:!1,isFbProfileUrlError:!1,isGooglePlusProfileUrlError:!1,isTwitterProfileUrlError:!1,isGithubProfileUrlError:!1,isLinkedinProfileUrlError:!1},isSavingProfile:!1,successMessage:null,errorMessage:null,isMsgToShow:!1,redirectToProfilePreview:!1},submitBlogData:{formData:{email:"",name:"",link:"",isWriting:!1,isNameError:!1,isEmailError:!1,isLinkError:!1,dismissMsg:!1},successMessage:null,errorMessage:null,isSubmitting:!1},advertisementsData:{data:{},isLoading:!1},recaptchaData:{verified:!1,successMessage:null,errorMessage:null},blogSearchData:{searches:null,isSearching:!1}}
  </script>
  <script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-91686131-1","auto"),ga("require","cleanUrlTracker"),ga("require","eventTracker"),ga("require","impressionTracker"),ga("require","outboundLinkTracker"),ga("require","urlChangeTracker"),ga("require","maxScrollTracker"),ga("require","mediaQueryTracker"),ga("require","outboundFormTracker"),ga("require","outboundLinkTracker"),ga("require","pageVisibilityTracker"),ga("require","socialWidgetTracker"),ga("require","urlChangeTracker"),ga("send","pageview")
  </script>
  <script defer="defer" src="/assets/autotrack.js" type="text/javascript">
  </script>
  <script src="/assets/highlight.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/vendor-bundle-1.8.6.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/app-bundle-1.8.6.js" type="text/javascript">
  </script>
 </head>
 <body>
  <div id="root">
   <div class="screen app-load-content" data-reactroot="">
    <div class="ui centered grid">
     <div class="row" style="padding:0">
      <div class="ui fixed menu navbar huge borderless grid" style="background-color:#fff;height:60px">
      </div>
     </div>
     <div class="centered computer only row" style="padding:0">
      <div class="ui fixed top menu navbar huge borderless grid header-container" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="right menu">
        <a class="item" href="https://janisharali.com" target="_blank">
         Mentor Ali
        </a>
        <a class="item" href="https://amitshekhar.me" target="_blank">
         Mentor Amit
        </a>
       </div>
      </div>
     </div>
     <div class="tablet only mobile only row" style="padding:0">
      <div class="ui fixed top navbar huge menu borderless" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="item">
       </div>
      </div>
     </div>
    </div>
    <div class="header-height">
    </div>
    <div aria-live="assertive" class="redux-toastr">
     <div>
      <div class="top-left">
      </div>
      <div class="top-right">
      </div>
      <div class="top-center">
      </div>
      <div class="bottom-left">
      </div>
      <div class="bottom-right">
      </div>
      <div class="bottom-center">
      </div>
     </div>
    </div>
    <div class="content-container theme">
     <div class="ui centered one column grid" style="padding-bottom:80px;background-color:#fff">
      <div class="ten wide computer fifteen wide mobile fifteen wide tablet column" style="margin-top:50px">
       <div>
        <div class="blog-page-author">
         <div class="ui small header">
          <img alt="Himanshu Singh" class="ui circular image" src="https://lh3.googleusercontent.com/a-/AOh14Ghy8H-FJrgWB2TcxHCOKWxWEQB4AiklYADGTydu4nE=s96-c?sz=300"/>
          <div class="content">
           Himanshu Singh
           <div class="sub header" style="margin-top:5px">
            11th May 2020
           </div>
          </div>
         </div>
        </div>
        <div id="content">
         <article class="template">
          <div class="postContent">
           <div class="notesSource">
            <div class="postField postField--body" id="editor">
             <section class="section--first section--last">
              <div class="section-divider layoutSingleColumn-template">
               <hr class="section-divider"/>
              </div>
              <div class="section-content">
               <div class="section-inner layoutSingleColumn-template">
                <div>
                 <h1 class="graf--h1">
                  Using ConstraintLayout in Jetpack Compose
                 </h1>
                 <div class="graf-image graf-caption">
                  <img alt="Using Constraint layout in Jetpack Compose" class="graf-image" src="/images/constraint-layout-compose-bannerr.png"/>
                 </div>
                 <p class="graf--p">
                  Till now we might have worked with ConstraintLayout in our android projects. But in this blog, we are going to talk about how we can use ConstrainLayout in Jetpack Compose.
                 </p>
                 <p class="graf--p">
                  In this blog, we are going to discuss,
                 </p>
                 <ul>
                  <li>
                   What is ConstraintLayout?
                  </li>
                  <li>
                   How we can use ConstraintLayout in our project?
                  </li>
                 </ul>
                 <h4 class="graf--h3">
                  What is ConstraintLayout?
                 </h4>
                 <p class="graf--p">
                  ConstraintLayout is a ViewGroup that position its children based on relative constraint between different views inside it or the parent itself.
                 </p>
                 <p class="graf--p">
                  ConstraintLayout helps us to design responsive UI for our screen and reduces nesting of views by keeping a flat structure. This also improves the performance of the layout as well as it reduces the number of nested views in it.
                 </p>
                 <h4 class="graf--h3">
                  How we can use ConstraintLayouts in our project?
                 </h4>
                 <p class="graf--p">
                  In this project, we are going to build,
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Using Constraint layout in Jetpack Compose" class="graf-image" src="/images/splash-sample-compose.png"/>
                 </div>
                 <p class="graf--p">
                  Here, we have an image, and two text views as well. And we are going to align all of these using ConstraintLayout.
                 </p>
                 <blockquote class="graf--blockquote">
                  We are going to use dev10 version for this project.
                 </blockquote>
                 <p class="graf--p">
                  <a class="markup--anchor" href="https://github.com/MindorksOpenSource/Jetpack-Compose-WhatsApp-Clone" target="_blank">
                   You can get the complete project here.
                  </a>
                 </p>
                 <p class="graf--p">
                  <a class="markup--anchor" href="https://blog.mindorks.com/using-jetpack-compose-to-build-ui-in-android" target="_blank">
                   And to get started in Jetpack Compose click here.
                  </a>
                 </p>
                 <h4 class="graf--h3">
                  Step 1.
                 </h4>
                 <p class="graf--p">
                  First, let's design a container that will hold our ConstraintLayout and its children. Here we will use
                  <i class="graf--italic">
                   Scaffold
                  </i>
                  for this purpose.
                 </p>
                 <pre><code class="language-java graf graf--code">Scaffold(
    scaffoldState = scaffoldState,
    bodyContent = {
      
    }
)</code></pre>
                 <p class="graf--p">
                  Here in the
                  <code class="graf--code-inline">
                   bodyContent
                  </code>
                  we are going to add our code for ConstraintLayout.
                 </p>
                 <h4 class="graf--h3">
                  Step 2.
                 </h4>
                 <p class="graf--p">
                  A ConstraintLayout in Compose is similar to a ConstraintLayout from the classic Android View System but here it is a composable function. We can design a simple layout in ConstrainLayout like,
                 </p>
                 <pre><code class="language-java graf graf--code">@Composable fun MyConstraintLayoutView(){
    ConstraintLayout(constraintSet = ConstraintSet {}) {
        Text("Hey Mindorks")
    }
}</code></pre>
                 <p class="graf--p">
                  Here, ConstraintLayout is the container  which will have the,
                 </p>
                 <ul>
                  <li>
                   <b class="graf--bold">
                    ConstraintSet
                   </b>
                   : ConstraintSet the set of constraints that we will use on views to align it with other views.
                  </li>
                  <li>
                   <b class="graf--bold">
                    Children
                   </b>
                   : The other composable which will help us to design the views.
                  </li>
                 </ul>
                 <p class="graf--p">
                  Now, let's design our
                  <code class="graf--code-inline">
                   SplashView
                  </code>
                  as the above design.
                 </p>
                 <p class="graf--p">
                  We will declare the ConstraintLayout, and we are going to declare the ConstraintSet inside which we are going to declare out constraints as well like,
                 </p>
                 <pre><code class="language-java graf graf--code">Scaffold(
    scaffoldState = scaffoldState,
    bodyContent = {
        ConstraintLayout(ConstraintSet {

            val surface = tag(SURFACE_TAG)
            val textFrom = tag(TEXT_FROM_TAG)
            val textCompany = tag(TEXT_COMPANY_TAG)
            val imageLogo = tag(IMAGE_LOGO_TAG)
        }
        )
    }
)</code></pre>
                 <p class="graf--p">
                  Here, the
                  <b class="graf--bold">
                   <code class="graf--code-inline">
                    tag()
                   </code>
                  </b>
                  have constant values which are,
                 </p>
                 <pre><code class="language-java graf graf--code">private const val SURFACE_TAG = "surface"
private const val TEXT_FROM_TAG = "textFrom"
private const val TEXT_COMPANY_TAG = "textCompany"
private const val IMAGE_LOGO_TAG = "imageLogo"</code></pre>
                 <p class="graf--p">
                  Now, we will add the variables using a tag which is of type,
                 </p>
                 <pre><code class="language-java graf graf--code">ConstrainedLayoutReference</code></pre>
                 <p class="graf--p">
                  It helps us to reference the widgets that we will be creating which corresponds to the ConstraintLayout children with a specific tag, which can be used to define the constraints to be imposed on those children.
                 </p>
                 <blockquote class="graf--blockquote">
                  <code class="graf--code-inline">
                   tag
                  </code>
                  can be considered as
                  <code class="graf--code-inline">
                   findViewById
                  </code>
                  .
                 </blockquote>
                 <p class="graf--p">
                  Now, we are going to set constraints to these 4 layout references.
                 </p>
                 <p class="graf--p">
                  Here, the surface is like the background which has to align to the top, bottom, right, and left of the parent. So to add the constraint for it we will use,
                 </p>
                 <pre><code class="language-java graf graf--code">surface.apply {
    left constrainTo parent.left
    top constrainTo parent.top
    right constrainTo parent.right
    bottom constrainTo parent.bottom
}</code></pre>
                 <p class="graf--p">
                  Here
                  <b class="graf--bold">
                   ,
                  </b>
                  we constrained the
                  <code class="graf--code-inline">
                   surface
                  </code>
                  to the
                  <code class="graf--code-inline">
                   parent's
                  </code>
                  left, right, bottom, top.
                 </p>
                 <p class="graf--p">
                  Left here in the direction of children and we use
                  <code class="graf--code-inline">
                   constrainTo
                  </code>
                  to set the required constraints to it by mapping to the other view.
                 </p>
                 <div class="graf-image graf-caption">
                  <img alt="Using Constraint layout in Jetpack Compose" class="graf-image" src="/images/explaied-constraint.png"/>
                 </div>
                 <p class="graf--p">
                  Here, from the image, consider that the square is the parent and circle is the surface. Then, the left of the circle is constrained to the left of the parent and similarly for all other respective sides. This is what,
                 </p>
                 <pre><code class="language-java graf graf--code"> left constrainTo parent.left </code></pre>
                 <p class="graf--p">
                  means in ConstraintLayout as well when we constraint view's left to the left of parent.
                 </p>
                 <p class="graf--p">
                  Similarly, we want the
                  <code class="graf--code-inline">
                   imageLogo
                  </code>
                  to be constrained to center with the width and height to be wrapped. For that, we will use,
                 </p>
                 <pre><code class="language-java graf graf--code">imageLogo.apply {
    left constrainTo parent.left
    top constrainTo parent.top
    right constrainTo parent.right
    bottom constrainTo parent.bottom
    width to wrap
    height to wrap
}</code></pre>
                 <p class="graf--p">
                  Here
                  <b class="graf--bold">
                   ,
                  </b>
                  we constrained the
                  <code class="graf--code-inline">
                   imageLogo
                  </code>
                  to the parent's left, right, bottom, top. We also see that we have set the width and height to
                  <code class="graf--code-inline">
                   wrap
                  </code>
                  .
                 </p>
                 <p class="graf--p">
                  Now, for
                  <code class="graf--code-inline">
                   textCompany
                  </code>
                  we want it constrained to be at the bottom of the screen and
                  <code class="graf--code-inline">
                   textFrom
                  </code>
                  to be constrained to
                  <code class="graf--code-inline">
                   textCompany
                  </code>
                  .
                 </p>
                 <p class="graf--p">
                  So,
                  <code class="graf--code-inline">
                   textCompany
                  </code>
                  and
                  <code class="graf--code-inline">
                   textFrom
                  </code>
                  will look like,
                 </p>
                 <pre><code class="language-java graf graf--code">textCompany.apply {
    bottom constrainTo parent.bottom
    right constrainTo parent.right
    left constrainTo parent.left
}
textFrom.apply {
    bottom constrainTo textCompany.top
    right constrainTo textCompany.right
    left constrainTo textCompany.left
}</code></pre>
                 <p class="graf--p">
                  Here
                  <b class="graf--bold">
                   ,
                  </b>
                  <code class="graf--code-inline">
                   textCompany
                  </code>
                  is constrained to bottom, right, and left of parent and
                  <code class="graf--code-inline">
                   textFrom
                  </code>
                  is constrained to top, right, and left of textCompany.
                 </p>
                 <p class="graf--p">
                  Now, since we are done adding the constraints, the complete code will look like,
                 </p>
                 <pre><code class="language-java graf graf--code">Scaffold(
    scaffoldState = scaffoldState,
    bodyContent = {
        ConstraintLayout(ConstraintSet {

            val surface = tag(SURFACE_TAG)
            val textFrom = tag(TEXT_FROM_TAG)
            val textCompany = tag(TEXT_COMPANY_TAG)
            val imageLogo = tag(IMAGE_LOGO_TAG)

            surface.apply {
                left constrainTo parent.left
                top constrainTo parent.top
                right constrainTo parent.right
                bottom constrainTo parent.bottom
            }
            imageLogo.apply {
                left constrainTo parent.left
                top constrainTo parent.top
                right constrainTo parent.right
                bottom constrainTo parent.bottom
                width to wrap
                height to wrap
            }
            textCompany.apply {
                bottom constrainTo parent.bottom
                right constrainTo parent.right
                left constrainTo parent.left
            }
            textFrom.apply {
                bottom constrainTo textCompany.top
                right constrainTo textCompany.right
                left constrainTo textCompany.left
            }

        }) {
          //our views
        }
    })</code></pre>
                 <p class="graf--p">
                  Let us start designing the views and add these constraints to it.
                 </p>
                 <p class="graf--p">
                  We would need 4 views, one for surface, one image view, and two textViews.
                 </p>
                 <p class="graf--p">
                  So, let's start us by designing a view for the surface. We will create a container Box like,
                 </p>
                 <pre><code class="language-java graf graf--code">Box(
    modifier = Modifier.fillMaxSize() +
            Modifier.drawBackground(colorLightGreen()) +
            Modifier.tag(SURFACE_TAG)
)</code></pre>
                 <p class="graf--p">
                  Here, we added a
                  <code class="graf--code-inline">
                   modifier
                  </code>
                  to it fill the
                  <code class="graf--code-inline">
                   maxWidth
                  </code>
                  and
                  <code class="graf--code-inline">
                   maxHeight
                  </code>
                  available to it. It will add a green color background using
                  <code class="graf--code-inline">
                   drawBackground()
                  </code>
                  and at last to implement the constraint we added above, we use
                  <code class="graf--code-inline">
                   Modifier.tag()
                  </code>
                  with the SURFACE_TAG we defined above.
                 </p>
                 <p class="graf--p">
                  By using a
                  <code class="graf--code-inline">
                   tag()
                  </code>
                  we will implement the constraint to Box which we added above. This will implement a background of green color with full width and height.
                 </p>
                 <p class="graf--p">
                  Now, for other views as well, we will add the
                  <code class="graf--code-inline">
                   constraints
                  </code>
                  using
                  <code class="graf--code-inline">
                   Modified.tag()
                  </code>
                  and the views will be constrained to that position. To design the rest of the views we will write using,
                 </p>
                 <pre><code class="language-java graf graf--code">Text(
    text = "from",
    modifier = Modifier.tag(TEXT_FROM_TAG) + Modifier.padding(bottom = _8dp),
    color = Color.DarkGray
)
Text(
    text = "FACEBOOK",
    style = TextStyle(
        fontSize = _20sp,
        fontFamily = FontFamily.SansSerif,
        fontStyle = FontStyle.Normal
    ),
    modifier = Modifier.tag(TEXT_COMPANY_TAG) + Modifier.padding(bottom = _16dp),
    color = colorGreen()
)

ImageLoader.load(
    imageUrl = R.drawable.ic_whatsapp,
    modifier = Modifier.tag(IMAGE_LOGO_TAG)
) {}</code></pre>
                 <p class="graf--p">
                  Here, we have added tags to all three views and they now have implemented the constraints we have defined earlier.
                  <code class="graf--code-inline">
                   ImageLoader.Load()
                  </code>
                  is a composable function which helps us loading an image and the code looks like,
                 </p>
                 <pre><code class="language-java graf graf--code">@Composable
fun load(@DrawableRes imageUrl: Int, modifier: Modifier, onClick: (Boolean) -&gt; Unit) {

    val vectorAsset = loadVectorResource(imageUrl)
    vectorAsset.resource.resource?.let {
        Clickable(onClick = {
            onClick(true)
        }) {
            Image(
                asset = it,
                modifier = modifier,
                contentScale = ContentScale.Fit

            )
        }
    }
}</code></pre>
                 <p class="graf--p">
                  Now, if we run the app setting this view we will get our desired output.
                 </p>
                 <h4 class="graf--h3">
                  Conclusion
                 </h4>
                 <p class="graf--p">
                  In Jetpack Compose we still use the ConstraintLayout same as how we use it in XML by constraining it to the views and parent for creating the layout.
                 </p>
                 <p class="graf--p">
                  <span class="">
                   <a class="markup--anchor" href="https://github.com/MindorksOpenSource/Jetpack-Compose-WhatsApp-Clone" target="_blank">
                    You can get the complete project here.
                   </a>
                  </span>
                 </p>
                 <p class="graf--p">
                  Happy learning.
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Team MindOrks :)
                  </b>
                 </p>
                </div>
               </div>
              </div>
             </section>
            </div>
           </div>
          </div>
         </article>
        </div>
       </div>
       <div class="ui divider">
       </div>
      </div>
      <div class="stretched fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui large center aligned header" style="padding-top:20px">
        Recommended for You
       </div>
      </div>
      <div class="fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui centered grid">
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/using-jetpack-compose-to-build-ui-in-android/">
          <img alt="Using Jetpack Compose to build UI in Android" class="ui centered image" src="/images/banner_jetpack.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Using Jetpack Compose to build UI in Android
           </div>
           <div class="meta">
            25th October 2019
           </div>
           <div class="description">
            In this blog, we will build and learn how to Use Jetpack Compose to build UI in Android. We will learn how to setup and work with it. We will also discuss how to make few other components as well
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/state-management-in-jetpack-compose/">
          <img alt="State Management in Jetpack Compose" class="ui centered image" src="/images/state-management-compose-android-min.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            State Management in Jetpack Compose
           </div>
           <div class="meta">
            2nd May 2020
           </div>
           <div class="description">
            In this blog, we are going to learn how to manage state in Jetpack Compose. We will also see different ways to handle state with examples.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/jetpack-compose-tutorial/">
          <img alt="Jetpack Compose Tutorial - Step by Step Guide" class="ui centered image" src="/images/banner-jetpack-compose-tutorial-713779506dbc7754.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Jetpack Compose Tutorial - Step by Step Guide
           </div>
           <div class="meta">
            5th November 2020
           </div>
           <div class="description">
            In this tutorial, we are going to learn about the Jetpack Compose, a modern toolkit for building native UI. We will go through this tutorial to learn Jetpack Compose for Android by example.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/pagination-in-jetpack-compose/">
          <img alt="Pagination in Jetpack Compose" class="ui centered image" src="/images/jetpack-compose-pagination-banner-b806521cd4f325b6.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Pagination in Jetpack Compose
           </div>
           <div class="meta">
            26th November 2020
           </div>
           <div class="description">
            In this blog, we will learn how to build pagination using the paging library in Jetpack Compose. We will learn how to load data from API and show it in the paginated list.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/jetpack-compose-navigation/">
          <img alt="Jetpack Compose: Navigation" class="ui centered image" src="/images/banner-jetpack-compose-navigation-657edc7b323cafdf.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Jetpack Compose: Navigation
           </div>
           <div class="meta">
            4th December 2020
           </div>
           <div class="description">
            In this blog, we will learn how to navigate between different composable using Jetpack Navigation.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/using-coordinator-layout-in-android/">
          <img alt="Using Coordinator Layout in Android" class="ui centered image" src="/images/using-coordinator-layout-in-android-banner-505158840fd196b5.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Using Coordinator Layout in Android
           </div>
           <div class="meta">
            18th June 2019
           </div>
           <div class="description">
            In this blog, we will learn how to use Coordinator Layout in Android. Coordinator Layout is super-powered FrameLayout that is used to handle the physical transactions or animations between various views present in a particular Activity.
           </div>
          </div>
         </a>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div style="background:#fff">
     <footer class="content-container">
      <div class="ui centered padded grid" style="padding-top:40px;background:linear-gradient(to right,#c4e0e0,#e5f1f1)">
       <h2 class="ui huge icon center aligned header">
        <div class="content">
         Connect With Your Mentors
        </div>
       </h2>
       <div class="centered row">
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Janishar Ali" class="ui medium circular image" src="/assets/ali.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://janisharali.com" target="_blank">
             Janishar Ali
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://janisharali.com" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/janisharali" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Amit Shekhar" class="ui medium circular image" src="/assets/amit.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://amitshekhar.me" target="_blank">
             Amit Shekhar
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://amitshekhar.me" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/amitiitbhu" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="ui divider" style="margin:unset">
      </div>
      <h5 class="ui header" style="padding:16px;margin:unset;color:#555">
       <i aria-hidden="true" class="copyright icon">
       </i>
       <div class="content">
        Copyright 2022, MindOrks Nextgen Private Limited
       </div>
      </h5>
     </footer>
    </div>
   </div>
  </div>
  <script type="text/javascript">
   window.hljs.initHighlightingOnLoad()
  </script>
 </body>
</html>