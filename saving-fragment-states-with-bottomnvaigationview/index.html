<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>
   Saving Fragment States with BottomNavigationView
  </title>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="minimum-scale=1,initial-scale=1,width=device-width,shrink-to-fit=no" name="viewport"/>
  <link href="https://blog.mindorks.com/saving-fragment-states-with-bottomnvaigationview" rel="canonical"/>
  <meta content="986249072156-dabps0lf90smluddrk5rkqsdjghk3hd3.apps.googleusercontent.com" name="google-signin-client_id"/>
  <meta content="android, learn android app development, android app development courses, android blogs, android tutorial" name="keywords"/>
  <meta content="Saving Fragment States with BottomNavigationView" property="og:title"/>
  <meta content="website" property="og:type"/>
  <meta content="https://blog.mindorks.com/saving-fragment-states-with-bottomnvaigationview" property="og:url"/>
  <meta content="/images/saving-fragment-state-with-bottomnavigation-banner.png" property="og:image"/>
  <meta content="In this blog, we are going to understand how to save the fragment states using BottomNavigationView in Android. This helps in avoiding the recreation of the fragments when the user switches between fragments using BottomNavigationView." property="og:description"/>
  <meta content="Saving Fragment States with BottomNavigationView" property="twitter:title"/>
  <meta content="In this blog, we are going to understand how to save the fragment states using BottomNavigationView in Android. This helps in avoiding the recreation of the fragments when the user switches between fragments using BottomNavigationView." name="twitter:description"/>
  <meta content="/images/saving-fragment-state-with-bottomnavigation-banner.png" name="twitter:image:src"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="@MindorksNextGen" name="twitter:site"/>
  <meta content="In this blog, we are going to understand how to save the fragment states using BottomNavigationView in Android. This helps in avoiding the recreation of the fragments when the user switches between fragments using BottomNavigationView." name="description"/>
  <meta content="1620001391374687" property="fb:app_id"/>
  <link href="/styles/vendor-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link href="/styles/app-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link as="style" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" onload='this.onload=null,this.rel="stylesheet"' rel="preload"/>
  <noscript>
   <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  </noscript>
  <script type="text/javascript">
   window.__PRELOADED_STATE__={toastr:{toastrs:[],confirm:null},blogData:{data:{},latestBlogs:null,isFetching:!0,isFetchingLatestBlogs:!1,currentCategory:"",categories:[]},contactData:{formData:{email:"",name:"",phone:"",message:"",isWriting:!1,isNameError:!1,isEmailError:!1,isPhoneError:!1,isMessageError:!1,dismissMsg:!1},successMessage:null,errorMessage:null,isSending:!1},communityData:{formData:{email:"",isEmailError:!1,isWriting:!1,isSending:!1,dismissMsg:!1},successMessage:null,errorMessage:null},blogPageData:{blogId:419,data:{id:419,title:"Saving Fragment States with BottomNavigationView",description:"In this blog, we are going to understand how to save the fragment states using BottomNavigationView in Android. This helps in avoiding the recreation of the fragments when the user switches between fragments using BottomNavigationView.",text:'<h1 class="graf--h1">Saving Fragment States with BottomNavigationView</h1> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/saving-fragment-state-with-bottomnavigation-banner.png class=\'graf-image\' alt=\'Saving Fragment States with BottomNavigationView\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">Activities and Fragments form the base of the UI layer in Android applications. It has become a common practice to load the UI with multiple fragments Eg: Instagram, Twitter, and many more popular apps.</p><p class="graf--p">Imagine if you were browsing some tweets in the HomeFragment of the Twitter app, navigated to the search screen, and then came back to the Home Screen only to realize that the Home Screen is reloaded again and shows the first tweet! This is not a good user experience since the user has to scroll to the previous tweet again.</p><p class="graf--p">In this article, let’s learn a simple way to handle and avoid the recreation of these fragments and save their states. Since we will be using multiple fragments on a single activity, we will be using a BottomNavigation View.</p><p class="graf--p">Welcome to our <b class="graf--bold">MindOrks</b> blog on “Saving Fragment States with BottomNavigationView”</p><p class="graf--p">As always, we will be quickly understanding this with the help of an example project.</p><p class="graf--p"><b class="graf--bold">Create a Project</b></p><ul><li>Start a new Android Studio Project</li><li>Select Empty Activity and Next</li><li>Name: Anything of your choice</li><li>Package name: Anything of your choice</li><li>Language: Kotlin</li><li>Finish</li><li>Your starting project is ready now</li></ul><p class="graf--p">Let’s add the material dependency required for Bottom Navigation View:</p><pre><code class="language-java graf graf--code">//Material Design\nimplementation \'com.google.android.material:material:1.1.0\'</code></pre><p class="graf--p">Before we add the Bottom Navigation view to our activity_main.xml, we need to create a menu resource for the icons and text for the different fragments to be displayed on our bottom navigation view!</p><p class="graf--p">Navigation.xml file from our menu resource folder:</p><pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;\n&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;\n    &lt;item\n        android:id="@+id/navigation_mindorks"\n        android:icon="@drawable/mindorks"\n        android:title="@string/mindOrks"  /&gt;\n    &lt;item\n        android:id="@+id/navigation_afterAcademy"\n        android:icon="@drawable/afteracademy"\n        android:title="@string/after_academy" /&gt;\n    &lt;item\n        android:id="@+id/navigation_user"\n        android:icon="@drawable/user"\n        android:title="@string/user" /&gt;\n&lt;/menu&gt;</code></pre><p class="graf--p">Now, let’s add the bottom Navigation view component in our layout file!</p><p class="graf--p"><b class="graf--bold">activity_main.xml</b></p><pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"\n    xmlns:app="http://schemas.android.com/apk/res-auto"\n    xmlns:tools="http://schemas.android.com/tools"\n    android:layout_width="match_parent"\n    android:layout_height="match_parent"\n    tools:context=".ui.activity.MainActivity"&gt;\n    &lt;include\n        layout="@layout/content_main"\n        android:id="@+id/container"                \n        app:layout_constraintBottom_toTopOf="@+id/bottomNavigationView"\n        app:layout_constraintTop_toTopOf="parent"\n        app:layout_constraintStart_toStartOf="parent"\n        app:layout_constraintEnd_toEndOf="parent"/&gt;\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:layout_width="match_parent"\n        android:layout_height="wrap_content"\n        app:layout_constraintBottom_toBottomOf="parent"\n        app:layout_constraintStart_toStartOf="parent"\n        app:layout_constraintEnd_toEndOf="parent"\n        android:background="?android:attr/windowBackground"\n        app:menu="@menu/navigation"\n        android:id="@+id/bottomNavigationView"/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre><p class="graf--p">The layout that we have included here is our layout to hold the fragment. So, let’s go ahead and design it.</p><p class="graf--p"><b class="graf--bold">content_main.xml:</b></p><pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;\n&lt;FrameLayout\n    xmlns:android="http://schemas.android.com/apk/res/android"\n    xmlns:app="http://schemas.android.com/apk/res-auto"\n    android:layout_width="match_parent"\n    android:layout_height="match_parent"\n    android:id="@+id/container"\n    app:layout_behavior="@string/appbar_scrolling_view_behavior"&gt;\n&lt;/FrameLayout&gt;</code></pre><h4 class="graf--h3">What is this app about?</h4><p class="graf--p">We are just going to develop a simple app that has three fragments: MindOrksFragment, AfterAcademyFragment, and UserFragment.</p><p class="graf--p">The MindOrksFragment and the AfterAcademyFragment have two like buttons and two text fields to display the number of likes.</p><p class="graf--p">The UserFragment has a click button and a text to display the number of visits.</p><p class="graf--p">You can refer to the code for these fragments from the <a class="markup--anchor" target="_blank" href="https://github.com/asdheeraj/BottomNavigation">project link</a>.</p><p class="graf--p">Our main target in this app is that the fragments should not be recreated when the user switches between them.</p><p class="graf--p">So, how can we achieve this?</p><p class="graf--p">Let’s create instances for our fragments and a global instance (let’s call it activeFragment) that stores the current fragment to be viewed</p><pre><code class="language-java graf graf--code">private val mindOrksFragment = MindOrksFragment()\nprivate val afterAcademyFragment = AfterAcademyFragment()\nprivate val userFragment = UserFragment()\nprivate val fragmentManager = supportFragmentManager\nprivate var activeFragment: Fragment = mindOrksFragment</code></pre><p class="graf--p">Now, let’s add our fragments to our fragment manager:</p><pre><code class="language-java graf graf--code">fragmentManager.beginTransaction().apply {\n    add(R.id.container, userFragment, getString(R.string.user)).hide(userFragment)\n    add(R.id.container, afterAcademyFragment, getString(R.string.after_academy)).hide(afterAcademyFragment)\n    add(R.id.container, mindOrksFragment, getString(R.string.mindOrks))\n}.commit()</code></pre><p class="graf--p">Now let’s handle onNavigationItemSelected on our BottomNavigationView component:</p><pre><code class="language-java graf graf--code">bottomNavigationView.setOnNavigationItemSelectedListener { menuItem -&gt;\n    when (menuItem.itemId) {\n        R.id.navigation_mindorks -&gt; {\n            fragmentManager.beginTransaction().hide(activeFragment).show(mindOrksFragment).commit()\n            activeFragment = mindOrksFragment\n            true\n        }\n        R.id.navigation_afterAcademy -&gt; {\n            fragmentManager.beginTransaction().hide(activeFragment).show(afterAcademyFragment).commit()\n            activeFragment = afterAcademyFragment\n            true\n        }\n        R.id.navigation_user -&gt; {\n            fragmentManager.beginTransaction().hide(activeFragment).show(userFragment).commit()\n            activeFragment = userFragment\n            true\n        }\n        else -&gt; false\n    }\n}</code></pre><p class="graf--p">So what are we doing here exactly?</p><pre><code class="language-java graf graf--code">fragmentManager.beginTransaction().hide(activeFragment).show(userFragment).commit()\nactiveFragment = userFragment</code></pre><p class="graf--p">Remember, we have stored our current fragment that should be visible to the user in our activeFragment field.</p><p class="graf--p">Based on the tab selected, we will hide the activeFragment and show the selected fragment and update the activeFragment accordingly!</p><h4 class="graf--h3">hide() and show()</h4><p class="graf--p">Instead of adding and replacing our fragments(recreating fragment instances), we are using the helper functions show() and hide() that do not destroy or recreate our fragments but hide and show them instead. This way the user can view the previous state of the fragment since the fragment instances are not destroyed!</p><p class="graf--p">If you wish to refer to the different drawable icons and fragment classes discussed in this project, you can refer to <a class="markup--anchor" target="_blank" href="https://github.com/asdheeraj/BottomNavigation">this github repo</a></p><h4 class="graf--h3">What’s Next?</h4><ul><li>You can replace a fragment UI with a recycler view loading a list of 50+ items, scroll to a random position, switch between fragments, and come back.</li><li>You can apply this logic to a UI containing a Scroll View</li></ul><p class="graf--p">We hope that this article has been of some help to you.</p><p class="graf--p">Thank you so much for your time!</p><p class="graf--p">Keep Learning, Keep Sharing, Keep Supporting!</p><p class="graf--p">Team MindOrks!</p><p class="graf--p"><b class="graf--bold">Also, Let’s connect on</b> <b class="graf--bold"><a class="markup--anchor" target="_blank" href="https://twitter.com/AndraDheeraj">Twitter</a>,</b> <b class="graf--bold"><a class="markup--anchor" target="_blank" href="https://www.linkedin.com/in/dheerajsree/">Linkedin</a>,</b> <b class="graf--bold">and</b> <b class="graf--bold"><a class="markup--anchor" target="_blank" href="https://github.com/asdheeraj">Github</a></b></p>',author:3003,img_url:"/images/saving-fragment-state-with-bottomnavigation-banner.png",blog_url:"saving-fragment-states-with-bottomnvaigationview",likes:0,rank:0,category:1,published_at:"24th April 2020"},author:{id:3003,name:"Dheeraj Sree",google_profile_pic:"https://lh3.googleusercontent.com/a-/AOh14GjgIa8i5nbsErNPLwYbB8IfsQ1U_M-Men0xdzE9PRQ=s96-c?sz=300",fb_profile_pic:null,profile_tagline:"Android Developer @DeloitteDigital",fb_profile_url:"https://www.facebook.com/sri.dheeraj",google_plus_profile_url:null,twitter_profile_url:"https://twitter.com/AndraDheeraj",github_profile_url:"https://github.com/asdheeraj",linkedin_profile_url:"https://www.linkedin.com/in/dheerajsree/"},isFetching:!1,similarBlogs:null,isSimilarBlogsFetching:!1},loginData:{data:null,isLoggingIn:!1,isLoggingOut:!1,loginState:!1,isForcedLogout:!1,isTokenRefreshed:!1,isRedirectHome:!1,message:""},updatesData:{news:null,inspirations:null,isNewsFetching:!0,isInspirationsFetching:!0},blogEditorData:{blogId:null,blogDetailsFormData:{title:"",description:"",imgUrl:"",blogUrl:"",category:"",categories:[],isWriting:!1,isTitleError:!1,isDescriptionError:!1,isImgUrlError:!1,isBlogUrlError:!1,isCategoryError:!1,isUploadingImage:!1,uploadedImageUrl:null},editorState:null,editorText:null,successMessage:null,errorMessage:null,isSending:!1,isMsgToShow:!1,isPublished:!1,isSubmitted:!1,isDraft:!0,isEditOfExistingBlog:!1,isFetchingBlogCategories:!1,isUploadingImage:!1,uploadedImageUrl:null},myBlogsData:{data:null,isSubmittedBlogsFetching:!0,isDraftBlogsFetching:!0,isPublishedBlogsFetching:!0,successMessage:null,errorMessage:null,isMsgToShow:!1,tabNames:["drafts","submissions","published"],selectedTab:"drafts",isFetchingBlog:!1,isDeletingBlog:!1,openEditorPage:!1},profilePreviewData:{profile:null,blogs:null,isFetchingProfile:!1,isFetchingAuthorBlogs:!1,successMessage:null,errorMessage:null,isMsgToShow:!1,isUserNotRegistered:!1,redirectToMyProfileEdit:!1},profileEditableData:{userId:null,name:null,fbProfilePicUrl:null,googleProfilePicUrl:null,profileFormData:{tagline:"",fbProfileUrl:"",googlePlusProfileUrl:"",twitterProfileUrl:"",githubProfileUrl:"",linkedinProfileUrl:"",isWriting:!1,isTaglineError:!1,isFbProfileUrlError:!1,isGooglePlusProfileUrlError:!1,isTwitterProfileUrlError:!1,isGithubProfileUrlError:!1,isLinkedinProfileUrlError:!1},isSavingProfile:!1,successMessage:null,errorMessage:null,isMsgToShow:!1,redirectToProfilePreview:!1},submitBlogData:{formData:{email:"",name:"",link:"",isWriting:!1,isNameError:!1,isEmailError:!1,isLinkError:!1,dismissMsg:!1},successMessage:null,errorMessage:null,isSubmitting:!1},advertisementsData:{data:{},isLoading:!1},recaptchaData:{verified:!1,successMessage:null,errorMessage:null},blogSearchData:{searches:null,isSearching:!1}}
  </script>
  <script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-91686131-1","auto"),ga("require","cleanUrlTracker"),ga("require","eventTracker"),ga("require","impressionTracker"),ga("require","outboundLinkTracker"),ga("require","urlChangeTracker"),ga("require","maxScrollTracker"),ga("require","mediaQueryTracker"),ga("require","outboundFormTracker"),ga("require","outboundLinkTracker"),ga("require","pageVisibilityTracker"),ga("require","socialWidgetTracker"),ga("require","urlChangeTracker"),ga("send","pageview")
  </script>
  <script defer="defer" src="/assets/autotrack.js" type="text/javascript">
  </script>
  <script src="/assets/highlight.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/vendor-bundle-1.8.6.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/app-bundle-1.8.6.js" type="text/javascript">
  </script>
 </head>
 <body>
  <div id="root">
   <div class="screen app-load-content" data-reactroot="">
    <div class="ui centered grid">
     <div class="row" style="padding:0">
      <div class="ui fixed menu navbar huge borderless grid" style="background-color:#fff;height:60px">
      </div>
     </div>
     <div class="centered computer only row" style="padding:0">
      <div class="ui fixed top menu navbar huge borderless grid header-container" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="right menu">
        <a class="item" href="https://janisharali.com" target="_blank">
         Mentor Ali
        </a>
        <a class="item" href="https://amitshekhar.me" target="_blank">
         Mentor Amit
        </a>
       </div>
      </div>
     </div>
     <div class="tablet only mobile only row" style="padding:0">
      <div class="ui fixed top navbar huge menu borderless" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="item">
       </div>
      </div>
     </div>
    </div>
    <div class="header-height">
    </div>
    <div aria-live="assertive" class="redux-toastr">
     <div>
      <div class="top-left">
      </div>
      <div class="top-right">
      </div>
      <div class="top-center">
      </div>
      <div class="bottom-left">
      </div>
      <div class="bottom-right">
      </div>
      <div class="bottom-center">
      </div>
     </div>
    </div>
    <div class="content-container theme">
     <div class="ui centered one column grid" style="padding-bottom:80px;background-color:#fff">
      <div class="ten wide computer fifteen wide mobile fifteen wide tablet column" style="margin-top:50px">
       <div>
        <div class="blog-page-author">
         <div class="ui small header">
          <img alt="Dheeraj Sree" class="ui circular image" src="https://lh3.googleusercontent.com/a-/AOh14GjgIa8i5nbsErNPLwYbB8IfsQ1U_M-Men0xdzE9PRQ=s96-c?sz=300"/>
          <div class="content">
           Dheeraj Sree
           <div class="sub header" style="margin-top:5px">
            24th April 2020
           </div>
          </div>
         </div>
        </div>
        <div id="content">
         <article class="template">
          <div class="postContent">
           <div class="notesSource">
            <div class="postField postField--body" id="editor">
             <section class="section--first section--last">
              <div class="section-divider layoutSingleColumn-template">
               <hr class="section-divider"/>
              </div>
              <div class="section-content">
               <div class="section-inner layoutSingleColumn-template">
                <div>
                 <h1 class="graf--h1">
                  Saving Fragment States with BottomNavigationView
                 </h1>
                 <div class="graf-image graf-caption">
                  <img alt="Saving Fragment States with BottomNavigationView" class="graf-image" src="/images/saving-fragment-state-with-bottomnavigation-banner.png"/>
                 </div>
                 <p class="graf--p">
                  Activities and Fragments form the base of the UI layer in Android applications. It has become a common practice to load the UI with multiple fragments Eg: Instagram, Twitter, and many more popular apps.
                 </p>
                 <p class="graf--p">
                  Imagine if you were browsing some tweets in the HomeFragment of the Twitter app, navigated to the search screen, and then came back to the Home Screen only to realize that the Home Screen is reloaded again and shows the first tweet! This is not a good user experience since the user has to scroll to the previous tweet again.
                 </p>
                 <p class="graf--p">
                  In this article, let’s learn a simple way to handle and avoid the recreation of these fragments and save their states. Since we will be using multiple fragments on a single activity, we will be using a BottomNavigation View.
                 </p>
                 <p class="graf--p">
                  Welcome to our
                  <b class="graf--bold">
                   MindOrks
                  </b>
                  blog on “Saving Fragment States with BottomNavigationView”
                 </p>
                 <p class="graf--p">
                  As always, we will be quickly understanding this with the help of an example project.
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Create a Project
                  </b>
                 </p>
                 <ul>
                  <li>
                   Start a new Android Studio Project
                  </li>
                  <li>
                   Select Empty Activity and Next
                  </li>
                  <li>
                   Name: Anything of your choice
                  </li>
                  <li>
                   Package name: Anything of your choice
                  </li>
                  <li>
                   Language: Kotlin
                  </li>
                  <li>
                   Finish
                  </li>
                  <li>
                   Your starting project is ready now
                  </li>
                 </ul>
                 <p class="graf--p">
                  Let’s add the material dependency required for Bottom Navigation View:
                 </p>
                 <pre><code class="language-java graf graf--code">//Material Design
implementation 'com.google.android.material:material:1.1.0'</code></pre>
                 <p class="graf--p">
                  Before we add the Bottom Navigation view to our activity_main.xml, we need to create a menu resource for the icons and text for the different fragments to be displayed on our bottom navigation view!
                 </p>
                 <p class="graf--p">
                  Navigation.xml file from our menu resource folder:
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;item
        android:id="@+id/navigation_mindorks"
        android:icon="@drawable/mindorks"
        android:title="@string/mindOrks"  /&gt;
    &lt;item
        android:id="@+id/navigation_afterAcademy"
        android:icon="@drawable/afteracademy"
        android:title="@string/after_academy" /&gt;
    &lt;item
        android:id="@+id/navigation_user"
        android:icon="@drawable/user"
        android:title="@string/user" /&gt;
&lt;/menu&gt;</code></pre>
                 <p class="graf--p">
                  Now, let’s add the bottom Navigation view component in our layout file!
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   activity_main.xml
                  </b>
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".ui.activity.MainActivity"&gt;
    &lt;include
        layout="@layout/content_main"
        android:id="@+id/container"                
        app:layout_constraintBottom_toTopOf="@+id/bottomNavigationView"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintEnd_toEndOf="parent"/&gt;
    &lt;com.google.android.material.bottomnavigation.BottomNavigationView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        android:background="?android:attr/windowBackground"
        app:menu="@menu/navigation"
        android:id="@+id/bottomNavigationView"/&gt;
&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre>
                 <p class="graf--p">
                  The layout that we have included here is our layout to hold the fragment. So, let’s go ahead and design it.
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   content_main.xml:
                  </b>
                 </p>
                 <pre><code class="language-java graf graf--code">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;FrameLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:id="@+id/container"
    app:layout_behavior="@string/appbar_scrolling_view_behavior"&gt;
&lt;/FrameLayout&gt;</code></pre>
                 <h4 class="graf--h3">
                  What is this app about?
                 </h4>
                 <p class="graf--p">
                  We are just going to develop a simple app that has three fragments: MindOrksFragment, AfterAcademyFragment, and UserFragment.
                 </p>
                 <p class="graf--p">
                  The MindOrksFragment and the AfterAcademyFragment have two like buttons and two text fields to display the number of likes.
                 </p>
                 <p class="graf--p">
                  The UserFragment has a click button and a text to display the number of visits.
                 </p>
                 <p class="graf--p">
                  You can refer to the code for these fragments from the
                  <a class="markup--anchor" href="https://github.com/asdheeraj/BottomNavigation" target="_blank">
                   project link
                  </a>
                  .
                 </p>
                 <p class="graf--p">
                  Our main target in this app is that the fragments should not be recreated when the user switches between them.
                 </p>
                 <p class="graf--p">
                  So, how can we achieve this?
                 </p>
                 <p class="graf--p">
                  Let’s create instances for our fragments and a global instance (let’s call it activeFragment) that stores the current fragment to be viewed
                 </p>
                 <pre><code class="language-java graf graf--code">private val mindOrksFragment = MindOrksFragment()
private val afterAcademyFragment = AfterAcademyFragment()
private val userFragment = UserFragment()
private val fragmentManager = supportFragmentManager
private var activeFragment: Fragment = mindOrksFragment</code></pre>
                 <p class="graf--p">
                  Now, let’s add our fragments to our fragment manager:
                 </p>
                 <pre><code class="language-java graf graf--code">fragmentManager.beginTransaction().apply {
    add(R.id.container, userFragment, getString(R.string.user)).hide(userFragment)
    add(R.id.container, afterAcademyFragment, getString(R.string.after_academy)).hide(afterAcademyFragment)
    add(R.id.container, mindOrksFragment, getString(R.string.mindOrks))
}.commit()</code></pre>
                 <p class="graf--p">
                  Now let’s handle onNavigationItemSelected on our BottomNavigationView component:
                 </p>
                 <pre><code class="language-java graf graf--code">bottomNavigationView.setOnNavigationItemSelectedListener { menuItem -&gt;
    when (menuItem.itemId) {
        R.id.navigation_mindorks -&gt; {
            fragmentManager.beginTransaction().hide(activeFragment).show(mindOrksFragment).commit()
            activeFragment = mindOrksFragment
            true
        }
        R.id.navigation_afterAcademy -&gt; {
            fragmentManager.beginTransaction().hide(activeFragment).show(afterAcademyFragment).commit()
            activeFragment = afterAcademyFragment
            true
        }
        R.id.navigation_user -&gt; {
            fragmentManager.beginTransaction().hide(activeFragment).show(userFragment).commit()
            activeFragment = userFragment
            true
        }
        else -&gt; false
    }
}</code></pre>
                 <p class="graf--p">
                  So what are we doing here exactly?
                 </p>
                 <pre><code class="language-java graf graf--code">fragmentManager.beginTransaction().hide(activeFragment).show(userFragment).commit()
activeFragment = userFragment</code></pre>
                 <p class="graf--p">
                  Remember, we have stored our current fragment that should be visible to the user in our activeFragment field.
                 </p>
                 <p class="graf--p">
                  Based on the tab selected, we will hide the activeFragment and show the selected fragment and update the activeFragment accordingly!
                 </p>
                 <h4 class="graf--h3">
                  hide() and show()
                 </h4>
                 <p class="graf--p">
                  Instead of adding and replacing our fragments(recreating fragment instances), we are using the helper functions show() and hide() that do not destroy or recreate our fragments but hide and show them instead. This way the user can view the previous state of the fragment since the fragment instances are not destroyed!
                 </p>
                 <p class="graf--p">
                  If you wish to refer to the different drawable icons and fragment classes discussed in this project, you can refer to
                  <a class="markup--anchor" href="https://github.com/asdheeraj/BottomNavigation" target="_blank">
                   this github repo
                  </a>
                 </p>
                 <h4 class="graf--h3">
                  What’s Next?
                 </h4>
                 <ul>
                  <li>
                   You can replace a fragment UI with a recycler view loading a list of 50+ items, scroll to a random position, switch between fragments, and come back.
                  </li>
                  <li>
                   You can apply this logic to a UI containing a Scroll View
                  </li>
                 </ul>
                 <p class="graf--p">
                  We hope that this article has been of some help to you.
                 </p>
                 <p class="graf--p">
                  Thank you so much for your time!
                 </p>
                 <p class="graf--p">
                  Keep Learning, Keep Sharing, Keep Supporting!
                 </p>
                 <p class="graf--p">
                  Team MindOrks!
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Also, Let’s connect on
                  </b>
                  <b class="graf--bold">
                   <a class="markup--anchor" href="https://twitter.com/AndraDheeraj" target="_blank">
                    Twitter
                   </a>
                   ,
                  </b>
                  <b class="graf--bold">
                   <a class="markup--anchor" href="https://www.linkedin.com/in/dheerajsree/" target="_blank">
                    Linkedin
                   </a>
                   ,
                  </b>
                  <b class="graf--bold">
                   and
                  </b>
                  <b class="graf--bold">
                   <a class="markup--anchor" href="https://github.com/asdheeraj" target="_blank">
                    Github
                   </a>
                  </b>
                 </p>
                </div>
               </div>
              </div>
             </section>
            </div>
           </div>
          </div>
         </article>
        </div>
       </div>
       <div class="ui divider">
       </div>
      </div>
      <div class="stretched fourteen wide computer fifteen wide mobile fifteen wide tablet column">
      </div>
      <div class="fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui centered grid">
       </div>
      </div>
     </div>
    </div>
    <div style="background:#fff">
     <footer class="content-container">
      <div class="ui centered padded grid" style="padding-top:40px;background:linear-gradient(to right,#c4e0e0,#e5f1f1)">
       <h2 class="ui huge icon center aligned header">
        <div class="content">
         Connect With Your Mentors
        </div>
       </h2>
       <div class="centered row">
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Janishar Ali" class="ui medium circular image" src="/assets/ali.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://janisharali.com" target="_blank">
             Janishar Ali
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://janisharali.com" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/janisharali" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Amit Shekhar" class="ui medium circular image" src="/assets/amit.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://amitshekhar.me" target="_blank">
             Amit Shekhar
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://amitshekhar.me" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/amitiitbhu" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="ui divider" style="margin:unset">
      </div>
      <h5 class="ui header" style="padding:16px;margin:unset;color:#555">
       <i aria-hidden="true" class="copyright icon">
       </i>
       <div class="content">
        Copyright 2022, MindOrks Nextgen Private Limited
       </div>
      </h5>
     </footer>
    </div>
   </div>
  </div>
  <script type="text/javascript">
   window.hljs.initHighlightingOnLoad()
  </script>
 </body>
</html>