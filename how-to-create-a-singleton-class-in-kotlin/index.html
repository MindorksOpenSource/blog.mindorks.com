<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>
   How to create a singleton class in Kotlin?
  </title>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="minimum-scale=1,initial-scale=1,width=device-width,shrink-to-fit=no" name="viewport"/>
  <link href="https://blog.mindorks.com/how-to-create-a-singleton-class-in-kotlin" rel="canonical"/>
  <meta content="986249072156-dabps0lf90smluddrk5rkqsdjghk3hd3.apps.googleusercontent.com" name="google-signin-client_id"/>
  <meta content="android, learn android app development, android app development courses, android blogs, android tutorial" name="keywords"/>
  <meta content="How to create a singleton class in Kotlin?" property="og:title"/>
  <meta content="website" property="og:type"/>
  <meta content="https://blog.mindorks.com/how-to-create-a-singleton-class-in-kotlin" property="og:url"/>
  <meta content="/images/how-to-make-a-singleton-class-in-kotlin-banner.png" property="og:image"/>
  <meta content="In this blog, we will learn how to create a singleton class in Kotlin? If you don't know anything about the singleton class then don't worry, we will cover every part of the singleton class." property="og:description"/>
  <meta content="How to create a singleton class in Kotlin?" property="twitter:title"/>
  <meta content="In this blog, we will learn how to create a singleton class in Kotlin? If you don't know anything about the singleton class then don't worry, we will cover every part of the singleton class." name="twitter:description"/>
  <meta content="/images/how-to-make-a-singleton-class-in-kotlin-banner.png" name="twitter:image:src"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="@MindorksNextGen" name="twitter:site"/>
  <meta content="In this blog, we will learn how to create a singleton class in Kotlin? If you don't know anything about the singleton class then don't worry, we will cover every part of the singleton class." name="description"/>
  <meta content="1620001391374687" property="fb:app_id"/>
  <link href="/styles/vendor-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link href="/styles/app-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link as="style" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" onload='this.onload=null,this.rel="stylesheet"' rel="preload"/>
  <noscript>
   <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  </noscript>
  <script type="text/javascript">
   window.__PRELOADED_STATE__={toastr:{toastrs:[],confirm:null},blogData:{data:{},latestBlogs:null,isFetching:!0,isFetchingLatestBlogs:!1,currentCategory:"",categories:[]},contactData:{formData:{email:"",name:"",phone:"",message:"",isWriting:!1,isNameError:!1,isEmailError:!1,isPhoneError:!1,isMessageError:!1,dismissMsg:!1},successMessage:null,errorMessage:null,isSending:!1},communityData:{formData:{email:"",isEmailError:!1,isWriting:!1,isSending:!1,dismissMsg:!1},successMessage:null,errorMessage:null},blogPageData:{blogId:323,data:{id:323,title:"How to create a singleton class in Kotlin?",description:"In this blog, we will learn how to create a singleton class in Kotlin? If you don't know anything about the singleton class then don't worry, we will cover every part of the singleton class.",text:'<h1 class="graf--h1">How to create a Singleton class in Kotlin?</h1> <div class=\'graf-image graf-caption\'>\n\t\t\t\t\t\t\t\t\t<img src=/images/how-to-make-a-singleton-class-in-kotlin-banner.png class=\'graf-image\' alt=\'How to create a singleton class in Kotlin?\' />\n\t\t\t\t\t\t\t\t</div ><p class="graf--p">In Android App, for an object which is required to be created only once and use everywhere, we use the <b class="graf--bold">Singleton Pattern</b>. Singleton Pattern is a software design pattern that restricts the instantiation of the class to only “one” instance. So, to implement the Singleton pattern in our project or software, we make a <b class="graf--bold">singleton class</b>. In this blog, we will learn how to make a singleton class in Kotlin? So, let’s get started.</p><h4 class="graf--h3">Singleton Class</h4><p class="graf--p">A singleton class is a class that is defined in such a way that only one instance of the class can be created and used everywhere.</p><p class="graf--p">It is used where we need only one instance of the class like NetworkService, DatabaseService, etc.</p><p class="graf--p">Generally, it is done because it takes the resource of the system to create these objects again and again. So it is better to create only once and use again and again the same object.</p><h4 class="graf--h3">Properties of Singleton Class</h4><p class="graf--p">Following are the properties of a typical singleton class:</p><ol type="1"><li><b class="graf--bold">Only one instance:</b> The singleton class has only one instance and this is done by providing an instance of the class, within the class. Also, outer classes and subclasses should be prevented to create the instance.</li><li><b class="graf--bold">Globally accessible:</b> The instance of the singleton class should be globally accessible so that each class can use it.</li></ol><h4 class="graf--h3">Rules for making a class Singleton</h4><p class="graf--p">The following rules are followed to make a Singleton class:</p><ol type="1"><li>A private constructor</li><li>A static reference of its class</li><li>One static method</li><li>Globally accessible object reference</li><li>Consistency across multiple threads</li></ol><h4 class="graf--h3">Singleton Example</h4><p class="graf--p">Following is the example of Singleton class in java:</p><pre><code class="language-java graf graf--code">public class Singleton {\n\n    private static Singleton instance = null;\n\n    private Singleton() {\n        \n    }\n\n    public static Singleton getInstance() {\n        if (instance == null) {\n            synchronized (Singleton.class) {\n                if (instance == null) {\n                    instance = new Singleton();\n                }\n            }\n        }\n        return instance;\n    }\n}</code></pre><p class="graf--p">When creating the instance to ensure that there is no thread interference, we use the <b class="graf--bold">synchronized</b> keyword. </p><p class="graf--p">Let’s look at the Kotlin code for the same. Below is the Kotlin code for Singleton class:</p><pre><code class="language-java graf graf--code">object Singleton</code></pre><p class="graf--p">Ok, what to do after this?</p><p class="graf--p">Nothing! Are you kidding? No, that’s the code for using Singleton class in Kotlin. Very simple? Don’t worry, let’s look at the explanation.</p><p class="graf--p">In Kotlin, we need to use the <b class="graf--bold">object</b> keyword to use Singleton class. The <b class="graf--bold">object</b> class can have functions, properties, and the <b class="graf--bold">init</b> method. The constructor method is not allowed in an object so we can use the init method if some initialization is required and the object can be defined inside a class. The object gets instantiated when it is used for the first time.</p><p class="graf--p">Let’s have an example of the Singleton class in Kotlin.</p><pre><code class="language-java graf graf--code">object Singleton{\n    \n    init {\n        println("Singleton class invoked.")\n    }\n    var variableName = "I am Var"\n    fun printVarName(){\n        println(variableName)\n    }\n\n}\n\nfun main(args: Array&lt;String&gt;) {     \n    Singleton.printVarName()\n    Singleton.variableName = "New Name"\n        \n    var a = A()\n}\n\nclass A {\n\n    init {\n        println("Class init method. Singleton variableName property : ${Singleton.variableName}")\n        Singleton.printVarName()\n    }\n}</code></pre><p class="graf--p">Here, in the above example, we are having one function named <b class="graf--bold">printVarName()</b> and one property named <b class="graf--bold">“variableName”. </b>When <b class="graf--bold">A </b>class is instantiated, then changes can be reflected in the <b class="graf--bold">object</b> class. So, the output of the above code will be:</p><pre><code class="language-java graf graf--code">Singleton class invoked.\nI am Var\nClass init method. Singleton variableName property : New Name\nNew Name</code></pre><h4 class="graf--h3">Object extending a class</h4><p class="graf--p">You can use an object in Kotlin to extend some class or implement some interface just like a normal class. Let’s have an example of the same:</p><pre><code class="language-java graf graf--code">fun main(args: Array&lt;String&gt;) {\n    var a = A()\n    Singleton.printVarName()\n}\n\nopen class A {\n\n    open fun printVarName() {\n        print("I am in class printVarName")\n    }\n\n    init {\n        println("I am in init of A")\n    }\n}\n\nobject Singleton : A() {\n\n    init {\n        println("Singleton class invoked.")\n    }\n\n    var variableName = "I am Var"\n    override fun printVarName() {\n        println(variableName)\n    }\n}</code></pre><p class="graf--p">And the output of the above code will be:</p><pre><code class="language-java graf graf--code">I am in init of A\nI am in init of A\nSingleton class invoked.\nI am var</code></pre><p class="graf--p">So, you can use object class just like a normal class in most of the cases.</p><p class="graf--p"><b class="graf--bold"><a class="markup--anchor" target="_blank" href="https://www.youtube.com/playlist?list=PLqOiaH9id5qtD7h8Zwu1abjKULtVq0nQA">Learn System Design for your next Interview from here.</a></b></p><h4 class="graf--h3">Singleton class with Argument in Kotlin</h4><p class="graf--p">In the earlier part of the blog, we learned that we can’t have constructors in a singleton class. To initialize something, we can do so by using <b class="graf--bold">init</b> in the singleton class. But what if you need to pass some argument for initialization just like in parameterized constructors? Since we can’t use constructors here. So, we need to find some other way of doing the same.</p><p class="graf--p">If we particularly talk about Android, we know that in Android we generally need to pass a <b class="graf--bold">context</b> instance to <b class="graf--bold">init</b> block of a singleton. This can be done using <b class="graf--bold">Early initialization</b> and <b class="graf--bold">Lazy initialization</b>. In early initialization, all the components are initialized in the <b class="graf--bold">Application.onCreate()</b> using the <b class="graf--bold">init()</b> functions. But this results in slowing down the application startup by blocking the main thread. So, it is generally advised to use the <b class="graf--bold">lazy initialization</b> way. In lazy initialization, we use the context as an argument to a function returning the instance of the singleton. We can achieve this by using a <b class="graf--bold">SingletonHolder</b> class. Also, to make it thread-safe, we need to have a way of synchronization and double-checked locking.</p><pre><code class="language-java graf graf--code">open class SingletonHolder&lt;out T: Any, in A&gt;(creator: (A) -&gt; T) {\n    private var creator: ((A) -&gt; T)? = creator\n    @Volatile private var instance: T? = null\n\n    fun getInstance(arg: A): T {\n        val checkInstance = instance\n        if (checkInstance != null) {\n            return checkInstance\n        }\n\n        return synchronized(this) {\n            val checkInstanceAgain = instance\n            if (checkInstanceAgain != null) {\n                checkInstanceAgain\n            } else {\n                val created = creator!!(arg)\n                instance = created\n                creator = null\n                created\n            }\n        }\n    }\n}</code></pre><p class="graf--p">The above code is the most efficient code for double-checked locking system and the code is somehow similar to the <b class="graf--bold">lazy()</b> function in Kotlin and that’s why it is called lazy initialization. So, whenever you want a singleton class with arguments then you can use the <b class="graf--bold">SingletonHolder</b> class.</p><p class="graf--p">Here, in the above code, in place of the <b class="graf--bold">creator</b> function which is passed as an argument to the <b class="graf--bold">SingletonHolder</b>, a custom lambda can also be declared inline or we can pass a reference to the private constructor of the singleton class. So, the code will be:</p><pre><code class="language-java graf graf--code">class YourManager private constructor(context: Context) {\n    init {\n        // do something with context\n    }\n\n    companion object : SingletonHolder&lt;YourManager, Context&gt;(::YourManager)\n}</code></pre><p class="graf--p">Now, the singleton can be easily invoked and initialized by writing the below code and this is lazy as well as thread-safe :)</p><pre><code class="language-java graf graf--code">YourManager.getInstance(context).doSomething()</code></pre><p class="graf--p">That’s it for the Singleton blog. Hope you like this blog. You can also refer to the <a class="markup--anchor" target="_blank" href="https://kotlinlang.org/docs/reference/object-declarations.html">Kotlin website</a>. To learn more about some of the cool topics of Android, you can visit our <a class="markup--anchor" target="_blank" href="https://blog.mindorks.com/">blogging website</a> and can join our journey of learning.</p><p class="graf--p">Keep Learning :)</p><p class="graf--p"><b class="graf--bold">Team MindOrks!</b></p>',author:17146,img_url:"/images/how-to-make-a-singleton-class-in-kotlin-banner.png",blog_url:"how-to-create-a-singleton-class-in-kotlin",likes:0,rank:0,category:1,published_at:"4th September 2019"},author:{id:17146,name:"Sumit Mishra",google_profile_pic:"https://lh3.googleusercontent.com/a-/AOh14GiHP4JrkmlLjuz_uG1g4E0MhTUClSNytqB8o-pxCA=s96-c?sz=300",fb_profile_pic:null,profile_tagline:"Software Development Engineer at MindOrks",fb_profile_url:"https://www.facebook.com/mishra3452",google_plus_profile_url:null,twitter_profile_url:"https://twitter.com/hiii_sumit",github_profile_url:"https://github.com/mishra3452",linkedin_profile_url:"https://www.linkedin.com/in/sumit-mishra-a15499135/"},isFetching:!1,similarBlogs:[{id:88,title:"How to create multiple apk files for android application",description:"Too many android devices and much more to come and among them, various different CPU architectures and different screen densities devices are there. Making single apk with all device compatible, increases your apk size, as it has resources for every device.",author:30,img_url:"https://s3.ap-south-1.amazonaws.com/mindorks/blogs/how-to-create-multiple-apk-files-for-android-application.jpg",blog_url:"how-to-create-multiple-apk-files-for-android-application",likes:0,rank:0,category:1,published_at:"30th August 2017",score:2.5373833179473877},{id:239,title:"Create your own Custom View",description:"In this blog, we will learn about the custom view and how to implement it as one. We will talk about each and every aspect of CustomView like onDraw(), onMeasure(), Why it is necessary and how simply you can create your own Views.",author:14897,img_url:"/images/custom-view.jpg",blog_url:"create-your-own-custom-view",likes:0,rank:0,category:1,published_at:"17th May 2019",score:2.5373833179473877},{id:302,title:"How to create a Transparent Activity in Android?",description:"In this blog, we will learn how to create a Transparent activity in Android. By using Transparent activity, your app will be launched but nothing will be displayed in the background of the window.",author:14897,img_url:"/images/transparent-activity-in-android-banner.png",blog_url:"how-to-create-a-transparent-activity-in-android",likes:0,rank:0,category:1,published_at:"22nd July 2019",score:2.5373833179473877},{id:24,title:"Learn Kotlin - Data Class",description:"We frequently create a class to do nothing but hold data. In such a class some standard functionality is often mechanically derivable from the data. In Kotlin, this is called a data class and is marked as data.",author:14897,img_url:"https://s3.ap-south-1.amazonaws.com/mindorks/blogs/learn-kotlin-data-class.png",blog_url:"learn-kotlin-data-class",likes:1,rank:0,category:1,published_at:"22nd May 2017",score:2.4762675762176514},{id:259,title:"Mockito cannot mock because : final class in Kotlin",description:"In this blog, we will talk about how we can mock the final class using Mockito. By default, we can't mock the final classes using mockito. Here in this blog, I have talked about multiple ways to test final classes.",author:9959,img_url:"/images/mockito-cannot-mock-banner.jpg",blog_url:"mockito-cannot-mock-in-kotlin",likes:0,rank:0,category:1,published_at:"31st May 2019",score:2.4762675762176514},{id:457,title:"Extension Functions vs Static Utility Class",description:"In this blog, we are going to talk about the Extension function and util class in Kotlin. We will learn when to use which one and what are the advantages of using them.",author:9959,img_url:"/images/extension-class-banner-17410a644c29d178.png",blog_url:"extension-functions-vs-static-utility-class",likes:0,rank:0,category:1,published_at:"22nd May 2020",score:2.3285839557647705}],isSimilarBlogsFetching:!1},loginData:{data:null,isLoggingIn:!1,isLoggingOut:!1,loginState:!1,isForcedLogout:!1,isTokenRefreshed:!1,isRedirectHome:!1,message:""},updatesData:{news:null,inspirations:null,isNewsFetching:!0,isInspirationsFetching:!0},blogEditorData:{blogId:null,blogDetailsFormData:{title:"",description:"",imgUrl:"",blogUrl:"",category:"",categories:[],isWriting:!1,isTitleError:!1,isDescriptionError:!1,isImgUrlError:!1,isBlogUrlError:!1,isCategoryError:!1,isUploadingImage:!1,uploadedImageUrl:null},editorState:null,editorText:null,successMessage:null,errorMessage:null,isSending:!1,isMsgToShow:!1,isPublished:!1,isSubmitted:!1,isDraft:!0,isEditOfExistingBlog:!1,isFetchingBlogCategories:!1,isUploadingImage:!1,uploadedImageUrl:null},myBlogsData:{data:null,isSubmittedBlogsFetching:!0,isDraftBlogsFetching:!0,isPublishedBlogsFetching:!0,successMessage:null,errorMessage:null,isMsgToShow:!1,tabNames:["drafts","submissions","published"],selectedTab:"drafts",isFetchingBlog:!1,isDeletingBlog:!1,openEditorPage:!1},profilePreviewData:{profile:null,blogs:null,isFetchingProfile:!1,isFetchingAuthorBlogs:!1,successMessage:null,errorMessage:null,isMsgToShow:!1,isUserNotRegistered:!1,redirectToMyProfileEdit:!1},profileEditableData:{userId:null,name:null,fbProfilePicUrl:null,googleProfilePicUrl:null,profileFormData:{tagline:"",fbProfileUrl:"",googlePlusProfileUrl:"",twitterProfileUrl:"",githubProfileUrl:"",linkedinProfileUrl:"",isWriting:!1,isTaglineError:!1,isFbProfileUrlError:!1,isGooglePlusProfileUrlError:!1,isTwitterProfileUrlError:!1,isGithubProfileUrlError:!1,isLinkedinProfileUrlError:!1},isSavingProfile:!1,successMessage:null,errorMessage:null,isMsgToShow:!1,redirectToProfilePreview:!1},submitBlogData:{formData:{email:"",name:"",link:"",isWriting:!1,isNameError:!1,isEmailError:!1,isLinkError:!1,dismissMsg:!1},successMessage:null,errorMessage:null,isSubmitting:!1},advertisementsData:{data:{},isLoading:!1},recaptchaData:{verified:!1,successMessage:null,errorMessage:null},blogSearchData:{searches:null,isSearching:!1}}
  </script>
  <script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-91686131-1","auto"),ga("require","cleanUrlTracker"),ga("require","eventTracker"),ga("require","impressionTracker"),ga("require","outboundLinkTracker"),ga("require","urlChangeTracker"),ga("require","maxScrollTracker"),ga("require","mediaQueryTracker"),ga("require","outboundFormTracker"),ga("require","outboundLinkTracker"),ga("require","pageVisibilityTracker"),ga("require","socialWidgetTracker"),ga("require","urlChangeTracker"),ga("send","pageview")
  </script>
  <script defer="defer" src="/assets/autotrack.js" type="text/javascript">
  </script>
  <script src="/assets/highlight.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/vendor-bundle-1.8.6.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/app-bundle-1.8.6.js" type="text/javascript">
  </script>
 </head>
 <body>
  <div id="root">
   <div class="screen app-load-content" data-reactroot="">
    <div class="ui centered grid">
     <div class="row" style="padding:0">
      <div class="ui fixed menu navbar huge borderless grid" style="background-color:#fff;height:60px">
      </div>
     </div>
     <div class="centered computer only row" style="padding:0">
      <div class="ui fixed top menu navbar huge borderless grid header-container" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="right menu">
        <a class="item" href="https://janisharali.com" target="_blank">
         Mentor Ali
        </a>
        <a class="item" href="https://amitshekhar.me" target="_blank">
         Mentor Amit
        </a>
       </div>
      </div>
     </div>
     <div class="tablet only mobile only row" style="padding:0">
      <div class="ui fixed top navbar huge menu borderless" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="item">
       </div>
      </div>
     </div>
    </div>
    <div class="header-height">
    </div>
    <div aria-live="assertive" class="redux-toastr">
     <div>
      <div class="top-left">
      </div>
      <div class="top-right">
      </div>
      <div class="top-center">
      </div>
      <div class="bottom-left">
      </div>
      <div class="bottom-right">
      </div>
      <div class="bottom-center">
      </div>
     </div>
    </div>
    <div class="content-container theme">
     <div class="ui centered one column grid" style="padding-bottom:80px;background-color:#fff">
      <div class="ten wide computer fifteen wide mobile fifteen wide tablet column" style="margin-top:50px">
       <div>
        <div class="blog-page-author">
         <div class="ui small header">
          <img alt="Sumit Mishra" class="ui circular image" src="https://lh3.googleusercontent.com/a-/AOh14GiHP4JrkmlLjuz_uG1g4E0MhTUClSNytqB8o-pxCA=s96-c?sz=300"/>
          <div class="content">
           Sumit Mishra
           <div class="sub header" style="margin-top:5px">
            4th September 2019
           </div>
          </div>
         </div>
        </div>
        <div id="content">
         <article class="template">
          <div class="postContent">
           <div class="notesSource">
            <div class="postField postField--body" id="editor">
             <section class="section--first section--last">
              <div class="section-divider layoutSingleColumn-template">
               <hr class="section-divider"/>
              </div>
              <div class="section-content">
               <div class="section-inner layoutSingleColumn-template">
                <div>
                 <h1 class="graf--h1">
                  How to create a Singleton class in Kotlin?
                 </h1>
                 <div class="graf-image graf-caption">
                  <img alt="How to create a singleton class in Kotlin?" class="graf-image" src="/images/how-to-make-a-singleton-class-in-kotlin-banner.png"/>
                 </div>
                 <p class="graf--p">
                  In Android App, for an object which is required to be created only once and use everywhere, we use the
                  <b class="graf--bold">
                   Singleton Pattern
                  </b>
                  . Singleton Pattern is a software design pattern that restricts the instantiation of the class to only “one” instance. So, to implement the Singleton pattern in our project or software, we make a
                  <b class="graf--bold">
                   singleton class
                  </b>
                  . In this blog, we will learn how to make a singleton class in Kotlin? So, let’s get started.
                 </p>
                 <h4 class="graf--h3">
                  Singleton Class
                 </h4>
                 <p class="graf--p">
                  A singleton class is a class that is defined in such a way that only one instance of the class can be created and used everywhere.
                 </p>
                 <p class="graf--p">
                  It is used where we need only one instance of the class like NetworkService, DatabaseService, etc.
                 </p>
                 <p class="graf--p">
                  Generally, it is done because it takes the resource of the system to create these objects again and again. So it is better to create only once and use again and again the same object.
                 </p>
                 <h4 class="graf--h3">
                  Properties of Singleton Class
                 </h4>
                 <p class="graf--p">
                  Following are the properties of a typical singleton class:
                 </p>
                 <ol type="1">
                  <li>
                   <b class="graf--bold">
                    Only one instance:
                   </b>
                   The singleton class has only one instance and this is done by providing an instance of the class, within the class. Also, outer classes and subclasses should be prevented to create the instance.
                  </li>
                  <li>
                   <b class="graf--bold">
                    Globally accessible:
                   </b>
                   The instance of the singleton class should be globally accessible so that each class can use it.
                  </li>
                 </ol>
                 <h4 class="graf--h3">
                  Rules for making a class Singleton
                 </h4>
                 <p class="graf--p">
                  The following rules are followed to make a Singleton class:
                 </p>
                 <ol type="1">
                  <li>
                   A private constructor
                  </li>
                  <li>
                   A static reference of its class
                  </li>
                  <li>
                   One static method
                  </li>
                  <li>
                   Globally accessible object reference
                  </li>
                  <li>
                   Consistency across multiple threads
                  </li>
                 </ol>
                 <h4 class="graf--h3">
                  Singleton Example
                 </h4>
                 <p class="graf--p">
                  Following is the example of Singleton class in java:
                 </p>
                 <pre><code class="language-java graf graf--code">public class Singleton {

    private static Singleton instance = null;

    private Singleton() {
        
    }

    public static Singleton getInstance() {
        if (instance == null) {
            synchronized (Singleton.class) {
                if (instance == null) {
                    instance = new Singleton();
                }
            }
        }
        return instance;
    }
}</code></pre>
                 <p class="graf--p">
                  When creating the instance to ensure that there is no thread interference, we use the
                  <b class="graf--bold">
                   synchronized
                  </b>
                  keyword.
                 </p>
                 <p class="graf--p">
                  Let’s look at the Kotlin code for the same. Below is the Kotlin code for Singleton class:
                 </p>
                 <pre><code class="language-java graf graf--code">object Singleton</code></pre>
                 <p class="graf--p">
                  Ok, what to do after this?
                 </p>
                 <p class="graf--p">
                  Nothing! Are you kidding? No, that’s the code for using Singleton class in Kotlin. Very simple? Don’t worry, let’s look at the explanation.
                 </p>
                 <p class="graf--p">
                  In Kotlin, we need to use the
                  <b class="graf--bold">
                   object
                  </b>
                  keyword to use Singleton class. The
                  <b class="graf--bold">
                   object
                  </b>
                  class can have functions, properties, and the
                  <b class="graf--bold">
                   init
                  </b>
                  method. The constructor method is not allowed in an object so we can use the init method if some initialization is required and the object can be defined inside a class. The object gets instantiated when it is used for the first time.
                 </p>
                 <p class="graf--p">
                  Let’s have an example of the Singleton class in Kotlin.
                 </p>
                 <pre><code class="language-java graf graf--code">object Singleton{
    
    init {
        println("Singleton class invoked.")
    }
    var variableName = "I am Var"
    fun printVarName(){
        println(variableName)
    }

}

fun main(args: Array&lt;String&gt;) {     
    Singleton.printVarName()
    Singleton.variableName = "New Name"
        
    var a = A()
}

class A {

    init {
        println("Class init method. Singleton variableName property : ${Singleton.variableName}")
        Singleton.printVarName()
    }
}</code></pre>
                 <p class="graf--p">
                  Here, in the above example, we are having one function named
                  <b class="graf--bold">
                   printVarName()
                  </b>
                  and one property named
                  <b class="graf--bold">
                   “variableName”.
                  </b>
                  When
                  <b class="graf--bold">
                   A
                  </b>
                  class is instantiated, then changes can be reflected in the
                  <b class="graf--bold">
                   object
                  </b>
                  class. So, the output of the above code will be:
                 </p>
                 <pre><code class="language-java graf graf--code">Singleton class invoked.
I am Var
Class init method. Singleton variableName property : New Name
New Name</code></pre>
                 <h4 class="graf--h3">
                  Object extending a class
                 </h4>
                 <p class="graf--p">
                  You can use an object in Kotlin to extend some class or implement some interface just like a normal class. Let’s have an example of the same:
                 </p>
                 <pre><code class="language-java graf graf--code">fun main(args: Array&lt;String&gt;) {
    var a = A()
    Singleton.printVarName()
}

open class A {

    open fun printVarName() {
        print("I am in class printVarName")
    }

    init {
        println("I am in init of A")
    }
}

object Singleton : A() {

    init {
        println("Singleton class invoked.")
    }

    var variableName = "I am Var"
    override fun printVarName() {
        println(variableName)
    }
}</code></pre>
                 <p class="graf--p">
                  And the output of the above code will be:
                 </p>
                 <pre><code class="language-java graf graf--code">I am in init of A
I am in init of A
Singleton class invoked.
I am var</code></pre>
                 <p class="graf--p">
                  So, you can use object class just like a normal class in most of the cases.
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   <a class="markup--anchor" href="https://www.youtube.com/playlist?list=PLqOiaH9id5qtD7h8Zwu1abjKULtVq0nQA" target="_blank">
                    Learn System Design for your next Interview from here.
                   </a>
                  </b>
                 </p>
                 <h4 class="graf--h3">
                  Singleton class with Argument in Kotlin
                 </h4>
                 <p class="graf--p">
                  In the earlier part of the blog, we learned that we can’t have constructors in a singleton class. To initialize something, we can do so by using
                  <b class="graf--bold">
                   init
                  </b>
                  in the singleton class. But what if you need to pass some argument for initialization just like in parameterized constructors? Since we can’t use constructors here. So, we need to find some other way of doing the same.
                 </p>
                 <p class="graf--p">
                  If we particularly talk about Android, we know that in Android we generally need to pass a
                  <b class="graf--bold">
                   context
                  </b>
                  instance to
                  <b class="graf--bold">
                   init
                  </b>
                  block of a singleton. This can be done using
                  <b class="graf--bold">
                   Early initialization
                  </b>
                  and
                  <b class="graf--bold">
                   Lazy initialization
                  </b>
                  . In early initialization, all the components are initialized in the
                  <b class="graf--bold">
                   Application.onCreate()
                  </b>
                  using the
                  <b class="graf--bold">
                   init()
                  </b>
                  functions. But this results in slowing down the application startup by blocking the main thread. So, it is generally advised to use the
                  <b class="graf--bold">
                   lazy initialization
                  </b>
                  way. In lazy initialization, we use the context as an argument to a function returning the instance of the singleton. We can achieve this by using a
                  <b class="graf--bold">
                   SingletonHolder
                  </b>
                  class. Also, to make it thread-safe, we need to have a way of synchronization and double-checked locking.
                 </p>
                 <pre><code class="language-java graf graf--code">open class SingletonHolder&lt;out T: Any, in A&gt;(creator: (A) -&gt; T) {
    private var creator: ((A) -&gt; T)? = creator
    @Volatile private var instance: T? = null

    fun getInstance(arg: A): T {
        val checkInstance = instance
        if (checkInstance != null) {
            return checkInstance
        }

        return synchronized(this) {
            val checkInstanceAgain = instance
            if (checkInstanceAgain != null) {
                checkInstanceAgain
            } else {
                val created = creator!!(arg)
                instance = created
                creator = null
                created
            }
        }
    }
}</code></pre>
                 <p class="graf--p">
                  The above code is the most efficient code for double-checked locking system and the code is somehow similar to the
                  <b class="graf--bold">
                   lazy()
                  </b>
                  function in Kotlin and that’s why it is called lazy initialization. So, whenever you want a singleton class with arguments then you can use the
                  <b class="graf--bold">
                   SingletonHolder
                  </b>
                  class.
                 </p>
                 <p class="graf--p">
                  Here, in the above code, in place of the
                  <b class="graf--bold">
                   creator
                  </b>
                  function which is passed as an argument to the
                  <b class="graf--bold">
                   SingletonHolder
                  </b>
                  , a custom lambda can also be declared inline or we can pass a reference to the private constructor of the singleton class. So, the code will be:
                 </p>
                 <pre><code class="language-java graf graf--code">class YourManager private constructor(context: Context) {
    init {
        // do something with context
    }

    companion object : SingletonHolder&lt;YourManager, Context&gt;(::YourManager)
}</code></pre>
                 <p class="graf--p">
                  Now, the singleton can be easily invoked and initialized by writing the below code and this is lazy as well as thread-safe :)
                 </p>
                 <pre><code class="language-java graf graf--code">YourManager.getInstance(context).doSomething()</code></pre>
                 <p class="graf--p">
                  That’s it for the Singleton blog. Hope you like this blog. You can also refer to the
                  <a class="markup--anchor" href="https://kotlinlang.org/docs/reference/object-declarations.html" target="_blank">
                   Kotlin website
                  </a>
                  . To learn more about some of the cool topics of Android, you can visit our
                  <a class="markup--anchor" href="https://blog.mindorks.com/" target="_blank">
                   blogging website
                  </a>
                  and can join our journey of learning.
                 </p>
                 <p class="graf--p">
                  Keep Learning :)
                 </p>
                 <p class="graf--p">
                  <b class="graf--bold">
                   Team MindOrks!
                  </b>
                 </p>
                </div>
               </div>
              </div>
             </section>
            </div>
           </div>
          </div>
         </article>
        </div>
       </div>
       <div class="ui divider">
       </div>
      </div>
      <div class="stretched fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui large center aligned header" style="padding-top:20px">
        Recommended for You
       </div>
      </div>
      <div class="fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui centered grid">
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card">
          <img alt="How to create multiple apk files for android application" class="ui centered image" src="https://s3.ap-south-1.amazonaws.com/mindorks/blogs/how-to-create-multiple-apk-files-for-android-application.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            How to create multiple apk files for android application
           </div>
           <div class="meta">
            30th August 2017
           </div>
           <div class="description">
            Too many android devices and much more to come and among them, various different CPU architectures and different screen densities devices are there. Making single apk with all device compatible, increases your apk size, as it has resources for every device.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card">
          <img alt="Create your own Custom View" class="ui centered image" src="/images/custom-view.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Create your own Custom View
           </div>
           <div class="meta">
            17th May 2019
           </div>
           <div class="description">
            In this blog, we will learn about the custom view and how to implement it as one. We will talk about each and every aspect of CustomView like onDraw(), onMeasure(), Why it is necessary and how simply you can create your own Views.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card">
          <img alt="How to create a Transparent Activity in Android?" class="ui centered image" src="/images/transparent-activity-in-android-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            How to create a Transparent Activity in Android?
           </div>
           <div class="meta">
            22nd July 2019
           </div>
           <div class="description">
            In this blog, we will learn how to create a Transparent activity in Android. By using Transparent activity, your app will be launched but nothing will be displayed in the background of the window.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card">
          <img alt="Learn Kotlin - Data Class" class="ui centered image" src="https://s3.ap-south-1.amazonaws.com/mindorks/blogs/learn-kotlin-data-class.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Learn Kotlin - Data Class
           </div>
           <div class="meta">
            22nd May 2017
           </div>
           <div class="description">
            We frequently create a class to do nothing but hold data. In such a class some standard functionality is often mechanically derivable from the data. In Kotlin, this is called a data class and is marked as data.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card">
          <img alt="Mockito cannot mock because : final class in Kotlin" class="ui centered image" src="/images/mockito-cannot-mock-banner.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Mockito cannot mock because : final class in Kotlin
           </div>
           <div class="meta">
            31st May 2019
           </div>
           <div class="description">
            In this blog, we will talk about how we can mock the final class using Mockito. By default, we can't mock the final classes using mockito. Here in this blog, I have talked about multiple ways to test final classes.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card">
          <img alt="Extension Functions vs Static Utility Class" class="ui centered image" src="/images/extension-class-banner-17410a644c29d178.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Extension Functions vs Static Utility Class
           </div>
           <div class="meta">
            22nd May 2020
           </div>
           <div class="description">
            In this blog, we are going to talk about the Extension function and util class in Kotlin. We will learn when to use which one and what are the advantages of using them.
           </div>
          </div>
         </a>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div style="background:#fff">
     <footer class="content-container">
      <div class="ui centered padded grid" style="padding-top:40px;background:linear-gradient(to right,#c4e0e0,#e5f1f1)">
       <h2 class="ui huge icon center aligned header">
        <div class="content">
         Connect With Your Mentors
        </div>
       </h2>
       <div class="centered row">
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Janishar Ali" class="ui medium circular image" src="/assets/ali.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://janisharali.com" target="_blank">
             Janishar Ali
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://janisharali.com" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/janisharali" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Amit Shekhar" class="ui medium circular image" src="/assets/amit.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://amitshekhar.me" target="_blank">
             Amit Shekhar
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://amitshekhar.me" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/amitiitbhu" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="ui divider" style="margin:unset">
      </div>
      <h5 class="ui header" style="padding:16px;margin:unset;color:#555">
       <i aria-hidden="true" class="copyright icon">
       </i>
       <div class="content">
        Copyright 2022, MindOrks Nextgen Private Limited
       </div>
      </h5>
     </footer>
    </div>
   </div>
  </div>
  <script type="text/javascript">
   window.hljs.initHighlightingOnLoad()
  </script>
 </body>
</html>