<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>
   How to create multiple apk files for android application
  </title>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="minimum-scale=1,initial-scale=1,width=device-width,shrink-to-fit=no" name="viewport"/>
  <link href="https://blog.mindorks.com/how-to-create-multiple-apk-files-for-android-application" rel="canonical"/>
  <meta content="986249072156-dabps0lf90smluddrk5rkqsdjghk3hd3.apps.googleusercontent.com" name="google-signin-client_id"/>
  <meta content="android, learn android app development, android app development courses, android blogs, android tutorial" name="keywords"/>
  <meta content="How to create multiple apk files for android application" property="og:title"/>
  <meta content="website" property="og:type"/>
  <meta content="https://blog.mindorks.com/how-to-create-multiple-apk-files-for-android-application" property="og:url"/>
  <meta content="https://s3.ap-south-1.amazonaws.com/mindorks/blogs/how-to-create-multiple-apk-files-for-android-application.jpg" property="og:image"/>
  <meta content="Too many android devices and much more to come and among them, various different CPU architectures and different screen densities devices are there. Making single apk with all device compatible, increases your apk size, as it has resources for every device." property="og:description"/>
  <meta content="How to create multiple apk files for android application" property="twitter:title"/>
  <meta content="Too many android devices and much more to come and among them, various different CPU architectures and different screen densities devices are there. Making single apk with all device compatible, increases your apk size, as it has resources for every device." name="twitter:description"/>
  <meta content="https://s3.ap-south-1.amazonaws.com/mindorks/blogs/how-to-create-multiple-apk-files-for-android-application.jpg" name="twitter:image:src"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="@MindorksNextGen" name="twitter:site"/>
  <meta content="Too many android devices and much more to come and among them, various different CPU architectures and different screen densities devices are there. Making single apk with all device compatible, increases your apk size, as it has resources for every device." name="description"/>
  <meta content="1620001391374687" property="fb:app_id"/>
  <link href="/styles/vendor-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link href="/styles/app-1.8.6.css" rel="stylesheet" type="text/css"/>
  <link as="style" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" onload='this.onload=null,this.rel="stylesheet"' rel="preload"/>
  <noscript>
   <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  </noscript>
  <script type="text/javascript">
     </script>
  <script async="" src="https://www.google-analytics.com/analytics.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-91686131-1","auto"),ga("require","cleanUrlTracker"),ga("require","eventTracker"),ga("require","impressionTracker"),ga("require","outboundLinkTracker"),ga("require","urlChangeTracker"),ga("require","maxScrollTracker"),ga("require","mediaQueryTracker"),ga("require","outboundFormTracker"),ga("require","outboundLinkTracker"),ga("require","pageVisibilityTracker"),ga("require","socialWidgetTracker"),ga("require","urlChangeTracker"),ga("send","pageview")
  </script>
  <script defer="defer" src="/assets/autotrack.js" type="text/javascript">
  </script>
  <script src="/assets/highlight.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/vendor-bundle-1.8.6.js" type="text/javascript">
  </script>
  <script defer="defer" src="/js/app-bundle-1.8.6.js" type="text/javascript">
  </script>
 </head>
 <body>
  <div id="root">
   <div class="screen app-load-content" data-reactroot="">
    <div class="ui centered grid">
     <div class="row" style="padding:0">
      <div class="ui fixed menu navbar huge borderless grid" style="background-color:#fff;height:60px">
      </div>
     </div>
     <div class="centered computer only row" style="padding:0">
      <div class="ui fixed top menu navbar huge borderless grid header-container" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="right menu">
        <a class="item" href="https://janisharali.com" target="_blank">
         Mentor Ali
        </a>
        <a class="item" href="https://amitshekhar.me" target="_blank">
         Mentor Amit
        </a>
       </div>
      </div>
     </div>
     <div class="tablet only mobile only row" style="padding:0">
      <div class="ui fixed top navbar huge menu borderless" style="background-color:#fff;height:60px">
       <a class="item brand" href="/">
        <img alt="MindOrks" src="/assets/mindorks-logo.svg"/>
        <div class="header item" style="font-size:20px;padding:0;margin-left:10px">
         MindOrks
        </div>
       </a>
       <div class="item">
       </div>
      </div>
     </div>
    </div>
    <div class="header-height">
    </div>
    <div aria-live="assertive" class="redux-toastr">
     <div>
      <div class="top-left">
      </div>
      <div class="top-right">
      </div>
      <div class="top-center">
      </div>
      <div class="bottom-left">
      </div>
      <div class="bottom-right">
      </div>
      <div class="bottom-center">
      </div>
     </div>
    </div>
    <div class="content-container theme">
     <div class="ui centered one column grid" style="padding-bottom:80px;background-color:#fff">
      <div class="ten wide computer fifteen wide mobile fifteen wide tablet column" style="margin-top:50px">
       <div>
        <div class="blog-page-author">
         <div class="ui small header">
          <img alt="anand gaurav" class="ui circular image" src="https://lh3.googleusercontent.com/a-/AOh14Gi0r3YB28BqOZQ1SKwqbfXOxd6t7kF3VjpRg1Yo=s96-c?sz=300"/>
          <div class="content">
           anand gaurav
           <div class="sub header" style="margin-top:5px">
            30th August 2017
           </div>
          </div>
         </div>
        </div>
        <div id="content">
         <article class="template">
          <div class="postContent">
           <div class="notesSource">
            <div class="postField postField--body" id="editor">
             <section class="section--first section--last">
              <div class="section-divider layoutSingleColumn-template">
               <hr class="section-divider"/>
              </div>
              <div class="section-content">
               <div class="section-inner layoutSingleColumn-template">
                <div>
                 <h1 class="graf--h1">
                  <b class="graf--bold">
                   How to create multiple apk files for android application
                  </b>
                 </h1>
                 <div class="graf-image graf-caption">
                  <img alt="How to create multiple apk files for android application" class="graf-image" height="auto" src="https://s3.ap-south-1.amazonaws.com/mindorks/blogs/how-to-create-multiple-apk-files-for-android-application.jpg" width="100%"/>
                  <figcaption class="imageCaption">
                   <span class="typewriterDefaultPlaceholder">
                    how-to-create-multiple-apk-files-for-android-application
                   </span>
                  </figcaption>
                 </div>
                 <p class="graf--p">
                  Too many android devices and much more to come and among them, various different CPU architectures and different screen densities devices are there. Making single apk with all device compatible, increases your apk size, as it has resources for every device. Why to make our users, to download apk containing device specific useless resources who are having lower memory devices. Do we really need single larger apk with device specific useless resources or we need apk with smaller size only containing the essential resources, fitting all segment devices available. If you are looking for some sort of solution to reduce apk size by not loosing any useful resources it is time to implement apk split for building multiple apk.
                 </p>
                 <blockquote class="graf--blockquote">
                  <i class="graf--italic">
                   Time to say hello to multiple apk.
                  </i>
                 </blockquote>
                 <h4 class="graf--h3">
                  <i class="graf--italic">
                   What is multiple apks?
                  </i>
                 </h4>
                 <p class="graf--p">
                  Generating the multiple number of apks for a single application, by splitting a single apk into multiple apks, where each apk is specific for some sort of devices. Multiple apk is mainly used to generate specific apks for different screen densities and different CPU architecture.
                 </p>
                 <h4 class="graf--h3">
                  <i class="graf--italic">
                   What is Apk Split?
                  </i>
                 </h4>
                 <p class="graf--p">
                  Simply, Apk split is achieving lesser size apks, by splitting a single apk into multiple apks, that can be screen density device specific, abi device specific or combined screen density-abi device specific.
                 </p>
                 <p class="graf--p">
                  The significant goal of apk split is to reduce the size of apk.
                 </p>
                 <h4 class="graf--h3">
                  <b class="graf--bold">
                   <i class="graf--italic">
                    What actually goes behind the scene? How the apk size reduces?
                   </i>
                  </b>
                 </h4>
                 <p class="graf--p">
                  It does not compress your app size by compressing your resources used within the app. It actually makes new apks for the specified type of devices by including only the device compatible resources, and by excluding every other resources that is not compatible or unused for specific device type. Like if you are creating two apk one for hdpi and another for xdpi, then in the first apk, there will be no xdpi resources and similarly in the second apk there will be no hdpi resources.
                 </p>
                 <h4 class="graf--h3">
                  <i class="graf--italic">
                   Why Apk split?
                  </i>
                 </h4>
                 <p class="graf--p">
                  <i class="graf--italic">
                   Nowadays devices are coming with larger space then why i need to worry about apk size?
                  </i>
                  It is true that devices nowadays are coming with larger spaces but at the same time there are too many devices available are having very low memory, and you are targeting that group of devices too, to access your app.Here, you can do one thing is reduce your resources size to get fit into every device or leave the apk as it is and lose some group of devices, but you actually do not want this.
                 </p>
                 <blockquote class="graf--blockquote">
                  <i class="graf--italic">
                   You can not make everyone happy at the same time, or you can?
                  </i>
                 </blockquote>
                 <p class="graf--p">
                  If at the same time you do not want to lose any group of users, and do not even want to compromise with the qualities of the resources used in the app, it is time, you need to introduce your app with apk split.
                 </p>
                 <h4 class="graf--h3">
                  <b class="graf--bold">
                   To generate multiple apks for specific types of screen density devices
                  </b>
                 </h4>
                 <p class="graf--p">
                  In general there is six set of densities-ldpi,
                  <i class="graf--italic">
                   mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi for which you can generate screen density specific apk.
                  </i>
                 </p>
                 <p class="graf--p">
                  Write these block of code in your app level gradle file and click build apk.
                 </p>
                 <pre><code class="language-java graf graf--code">android {
.......
.......
    splits {
        density {
            enable true
            exclude "mdpi", "xxxhdpi"
            compatibleScreens 'small', 'normal', 'large', 'xlarge'
        }
    }
}</code></pre>
                 <p class="graf--p">
                  This block of code will generate apk for all set of densities excluding mdpi and xxxhdpi with a universal apk.
                 </p>
                 <p class="graf--p">
                  Lets understand each one of them.
                 </p>
                 <p class="graf--p">
                  density :- To build multiple apk based on screen density
                 </p>
                 <p class="graf--p">
                  exclude :- In this, add list of screen densities for which you do not want your gradle to make apk.
                 </p>
                 <p class="graf--p">
                  reset :- To clear all the default list of screen densities, use only if you are using include.
                 </p>
                 <p class="graf--p">
                  include :- To use this must add reset to your code then use include, in this, add list of densities that you want your gradle to make apk for.
                 </p>
                 <p class="graf--p">
                  compatibleScreen :- It is to specify list of compatible screen sizes, if you are building apk for all devices use :-
                 </p>
                 <p class="graf--p">
                  compatibleScreens ‘small’, ‘normal’, ‘large’, ‘xlarge’
                 </p>
                 <p class="graf--p">
                  And, if you want to restrict any of screen size among them, you can eliminate from the comma seperated list.
                 </p>
                 <p class="graf--p">
                  In this, gradle will also generate a universal apk.
                 </p>
                 <p class="graf--p">
                  Universal apk :- This apk is compatible with every available devices and upcoming devices.
                 </p>
                 <h4 class="graf--h3">
                  <b class="graf--bold">
                   To generate multiple apks for specific types of abi
                  </b>
                 </h4>
                 <p class="graf--p">
                  Set of abi armeabi, armeabi-v7a, arm64-v8a, x86, x86_64, mips, mips64 for which we can generate the abi specific apk.
                 </p>
                 <p class="graf--p">
                  Write these block of code in your app level gradle file and click build apk.
                 </p>
                 <pre><code class="language-java graf graf--code">android {
  ...
  splits {
    abi {
      enable true
      reset()
      include "x86", "mips"
      universalApk false
      
    }
  }
}</code></pre>
                 <p class="graf--p">
                  This block of code will generate apk for x86 and mips.
                 </p>
                 <p class="graf--p">
                  For abi, universalApk is false by default, you need to set it to true to generate Universal Apk.
                 </p>
                 <h4 class="graf--h3">
                  <b class="graf--bold">
                   To generate combined apk for screen density and cpu architecture
                  </b>
                 </h4>
                 <p class="graf--p">
                  Write these block of code in your app level gradle file and click build apk.
                 </p>
                 <pre><code class="language-java graf graf--code">android {
.....

    splits {
        density {
            enable true
            reset()
            include "mdpi", "xhdpi"
        }
        abi {
            enable true
            reset()
            include "mips64", "mips"
        }
    }
}</code></pre>
                 <p class="graf--p">
                  This block of code will generate four combined apk for mdpi-mips64, mdpi-mips, xhdpi-mips64 and xhdpi-mips.
                 </p>
                 <h4 class="graf--h3">
                  <b class="graf--bold">
                   Rules to upload multiple apk on google play
                  </b>
                 </h4>
                 <p class="graf--p">
                  Must have distinct version code for each apks.
                 </p>
                 <p class="graf--p">
                  Must have identical package name for each apks.
                 </p>
                 <h4 class="graf--h3">
                  <b class="graf--bold">
                   <i class="graf--italic">
                    How to create apk with distinct version code?
                   </i>
                  </b>
                 </h4>
                 <p class="graf--p">
                  Write these block of code in your app level gradle file and click build apk to generate apk with different version code.
                 </p>
                 <pre><code class="language-java graf graf--code">ext.densityCodes = ['mdpi': 1, 'hdpi': 2, 'xhdpi': 3]

import com.android.build.OutputFile
android {
.....

android.applicationVariants.all { variant -&gt;

  variant.outputs.each { output -&gt;

    def baseDensityVersionCode =
          
            project.ext.densityCodes.get(output.getFilter(OutputFile.DENSITY))

    if (baseDensityVersionCode != null) {
      output.versionCodeOverride =
              baseDensityVersionCode * 1000 + variant.versionCode
    }
  }
}
}</code></pre>
                 <blockquote class="graf--blockquote">
                  <i class="graf--italic">
                   Now you are ready to publish your apk.
                  </i>
                 </blockquote>
                 <p class="graf--p">
                  That's it for now.
                 </p>
                 <p class="graf--p">
                  Happy Learning :)
                 </p>
                </div>
               </div>
              </div>
             </section>
            </div>
           </div>
          </div>
         </article>
        </div>
       </div>
       <div class="ui divider">
       </div>
      </div>
      <div class="stretched fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui large center aligned header" style="padding-top:20px">
        Recommended for You
       </div>
      </div>
      <div class="fourteen wide computer fifteen wide mobile fifteen wide tablet column">
       <div class="ui centered grid">
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/what-is-tools-context-in-android-layout-files/">
          <img alt="What is tools:context in Android layout files?" class="ui centered image" src="/images/what-is-tools-context-in-android-layout-file-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            What is tools:context in Android layout files?
           </div>
           <div class="meta">
            19th September 2019
           </div>
           <div class="description">
            In this blog, we will learn about tools:context attribute that is present in every layout file by default.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/using-r8-to-reduce-apk-size-in-android/">
          <img alt="Using R8 to reduce APK size in Android" class="ui centered image" src="/images/using-r8-to-reduce-apk-size-in-android-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Using R8 to reduce APK size in Android
           </div>
           <div class="meta">
            30th October 2019
           </div>
           <div class="description">
            In this blog, we will learn how to reduce the APK size in Android by using R8. Small-sized applications are more likely to be downloaded by the users as compared to the large sized APKs. So, let's find how to reduce the APK size.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/how-to-reduce-apk-size-in-android-2f3713d2d662/">
          <img alt="How to reduce APK size in Android?" class="ui centered image" src="/images/optimize-android-apk-banner-c07d71b4b0c45adc.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            How to reduce APK size in Android?
           </div>
           <div class="meta">
            6th August 2020
           </div>
           <div class="description">
            Bloated APKs have a higher chance of uninstalls or getting rejected by the customers. This blog describes how to optimize apk size in Android.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/recyclerview-multiple-view-types-in-android/">
          <img alt="RecyclerView Multiple View Types in Android" class="ui centered image" src="/images/recyclerview-multitype-in-android-banner-58c19ef517d53f61.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            RecyclerView Multiple View Types in Android
           </div>
           <div class="meta">
            22nd June 2020
           </div>
           <div class="description">
            In this blog, we will learn how to use multiple view types in a RecyclerView in Android with a small Android Project.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/how-to-create-a-transparent-activity-in-android/">
          <img alt="How to create a Transparent Activity in Android?" class="ui centered image" src="/images/transparent-activity-in-android-banner.png" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            How to create a Transparent Activity in Android?
           </div>
           <div class="meta">
            22nd July 2019
           </div>
           <div class="description">
            In this blog, we will learn how to create a Transparent activity in Android. By using Transparent activity, your app will be launched but nothing will be displayed in the background of the window.
           </div>
          </div>
         </a>
        </div>
        <div class="stretched five wide computer sixteen wide mobile eight wide tablet column">
         <a class="ui fluid card" href="/create-your-own-custom-view/">
          <img alt="Create your own Custom View" class="ui centered image" src="/images/custom-view.jpg" style="max-height:300px"/>
          <div class="content">
           <div class="header">
            Create your own Custom View
           </div>
           <div class="meta">
            17th May 2019
           </div>
           <div class="description">
            In this blog, we will learn about the custom view and how to implement it as one. We will talk about each and every aspect of CustomView like onDraw(), onMeasure(), Why it is necessary and how simply you can create your own Views.
           </div>
          </div>
         </a>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div style="background:#fff">
     <footer class="content-container">
      <div class="ui centered padded grid" style="padding-top:40px;background:linear-gradient(to right,#c4e0e0,#e5f1f1)">
       <h2 class="ui huge icon center aligned header">
        <div class="content">
         Connect With Your Mentors
        </div>
       </h2>
       <div class="centered row">
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Janishar Ali" class="ui medium circular image" src="/assets/ali.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://janisharali.com" target="_blank">
             Janishar Ali
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://janisharali.com" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/janisharali" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
        <div class="five wide computer sixteen wide mobile eight wide tablet column">
         <div class="ui centered padded one column grid">
          <div class="ui centered grid">
           <div class="column">
            <div class="ui circular segment" style="width:175px;height:175px;padding:0">
             <img alt="Amit Shekhar" class="ui medium circular image" src="/assets/amit.jpg"/>
            </div>
           </div>
          </div>
          <div class="column">
           <div class="ui large center aligned header">
            <a class="content" href="https://amitshekhar.me" target="_blank">
             Amit Shekhar
             <div class="sub header" style="padding:5px;color:#000">
              Founder | IIT-BHU | 10 Yrs Exp.
             </div>
            </a>
           </div>
          </div>
          <div class="ui centered grid">
           <div class="column">
            <a class="ui black huge circular icon button" href="https://amitshekhar.me" role="button" target="_blank">
             <i aria-hidden="true" class="linkify icon">
             </i>
            </a>
            <a class="ui twitter huge circular icon button" href="https://twitter.com/amitiitbhu" role="button" target="_blank">
             <i aria-hidden="true" class="twitter icon">
             </i>
            </a>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="ui divider" style="margin:unset">
      </div>
      <h5 class="ui header" style="padding:16px;margin:unset;color:#555">
       <i aria-hidden="true" class="copyright icon">
       </i>
       <div class="content">
        Copyright 2022, MindOrks Nextgen Private Limited
       </div>
      </h5>
     </footer>
    </div>
   </div>
  </div>
  <script type="text/javascript">
   window.hljs.initHighlightingOnLoad()
  </script>
 </body>
</html>